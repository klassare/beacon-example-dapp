{"version":3,"sources":["../beacon-sdk/dist/esm/MockWindow.js","../beacon-sdk/dist/esm/Serializer.js","../beacon-sdk/dist/esm/alert/Alert.js","../beacon-sdk/dist/esm/alert/Toast.js","../beacon-sdk/dist/esm/alert/alert-templates.js","../beacon-sdk/dist/esm/beacon-message-events.js","../beacon-sdk/dist/esm/clients/beacon-client/BeaconClient.js","../beacon-sdk/dist/esm/clients/client/Client.js","../beacon-sdk/dist/esm/clients/dapp-client/DAppClient.js","../beacon-sdk/dist/esm/clients/wallet-client/WalletClient.js","../beacon-sdk/dist/esm/constants.js","../beacon-sdk/dist/esm/errors/AbortedBeaconError.js","../beacon-sdk/dist/esm/errors/BeaconError.js","../beacon-sdk/dist/esm/errors/BroadcastBeaconError.js","../beacon-sdk/dist/esm/errors/NetworkNotSupportedBeaconError.js","../beacon-sdk/dist/esm/errors/NoAddressBeaconError.js","../beacon-sdk/dist/esm/errors/NoPrivateKeyBeaconError.js","../beacon-sdk/dist/esm/errors/NotGrantedBeaconError.js","../beacon-sdk/dist/esm/errors/ParametersInvalidBeaconError.js","../beacon-sdk/dist/esm/errors/TooManyOperationsBeaconError.js","../beacon-sdk/dist/esm/errors/TransactionInvalidBeaconError.js","../beacon-sdk/dist/esm/errors/UnknownBeaconError.js","../beacon-sdk/dist/esm/events.js","../beacon-sdk/dist/esm/index.js","../beacon-sdk/dist/esm/interceptors/IncomingRequestInterceptor.js","../beacon-sdk/dist/esm/interceptors/OutgoingResponseInterceptor.js","../beacon-sdk/dist/esm/managers/AccountManager.js","../beacon-sdk/dist/esm/managers/AppMetadataManager.js","../beacon-sdk/dist/esm/managers/PeerManager.js","../beacon-sdk/dist/esm/managers/PermissionManager.js","../beacon-sdk/dist/esm/managers/PermissionValidator.js","../beacon-sdk/dist/esm/managers/StorageManager.js","../beacon-sdk/dist/esm/matrix-client/MatrixClient.js","../beacon-sdk/dist/esm/matrix-client/MatrixClientEventEmitter.js","../beacon-sdk/dist/esm/matrix-client/MatrixClientStore.js","../beacon-sdk/dist/esm/matrix-client/MatrixHttpClient.js","../beacon-sdk/dist/esm/matrix-client/models/MatrixClientEvent.js","../beacon-sdk/dist/esm/matrix-client/models/MatrixMessage.js","../beacon-sdk/dist/esm/matrix-client/models/MatrixRoom.js","../beacon-sdk/dist/esm/matrix-client/services/MatrixEventService.js","../beacon-sdk/dist/esm/matrix-client/services/MatrixRoomService.js","../beacon-sdk/dist/esm/matrix-client/services/MatrixUserService.js","../beacon-sdk/dist/esm/matrix-client/utils/events.js","../beacon-sdk/dist/esm/storage/ChromeStorage.js","../beacon-sdk/dist/esm/storage/LocalStorage.js","../beacon-sdk/dist/esm/storage/Storage.js","../beacon-sdk/dist/esm/storage/getStorage.js","../beacon-sdk/dist/esm/transports/ChromeMessageTransport.js","../beacon-sdk/dist/esm/transports/P2PTransport.js","../beacon-sdk/dist/esm/transports/PostMessageTransport.js","../beacon-sdk/dist/esm/transports/Transport.js","../beacon-sdk/dist/esm/transports/clients/ChromeMessageClient.js","../beacon-sdk/dist/esm/transports/clients/CommunicationClient.js","../beacon-sdk/dist/esm/transports/clients/MessageBasedClient.js","../beacon-sdk/dist/esm/transports/clients/P2PCommunicationClient.js","../beacon-sdk/dist/esm/transports/clients/PostMessageClient.js","../beacon-sdk/dist/esm/types/BeaconErrorType.js","../beacon-sdk/dist/esm/types/ExtensionMessageTarget.js","../beacon-sdk/dist/esm/types/Origin.js","../beacon-sdk/dist/esm/types/beacon/BeaconMessageType.js","../beacon-sdk/dist/esm/types/beacon/NetworkType.js","../beacon-sdk/dist/esm/types/beacon/PermissionScope.js","../beacon-sdk/dist/esm/types/storage/StorageKey.js","../beacon-sdk/dist/esm/types/storage/StorageKeyReturnDefaults.js","../beacon-sdk/dist/esm/types/tezos/OperationTypes.js","../beacon-sdk/dist/esm/types/transport/TransportStatus.js","../beacon-sdk/dist/esm/types/transport/TransportType.js","../beacon-sdk/dist/esm/utils/Logger.js","../beacon-sdk/dist/esm/utils/assert-never.js","../beacon-sdk/dist/esm/utils/available-transports.js","../beacon-sdk/dist/esm/utils/block-explorer.js","../beacon-sdk/dist/esm/utils/crypto.js","../beacon-sdk/dist/esm/utils/exposed-promise.js","../beacon-sdk/dist/esm/utils/generate-uuid.js","../beacon-sdk/dist/esm/utils/get-account-identifier.js","../beacon-sdk/dist/esm/utils/get-tzip10-link.js","../beacon-sdk/dist/esm/utils/platform.js","../beacon-sdk/dist/esm/utils/qr.js","../beacon-sdk/dist/esm/utils/replace-in-template.js","../beacon-sdk/dist/esm/utils/utils.js","./$_lazy_route_resource lazy namespace object","./node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/app/app.component.html","./src/app/pages/home/home.page.html","./node_modules/tslib/tslib.es6.js","(webpack)/buildin/global.js","./src/app/app-routing.module.ts","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/classes/sentry-error-handler/sentry-error-handler.ts","./src/app/pages/home/home.page.scss","./src/app/pages/home/home.page.ts","./src/app/services/beacon/beacon.service.ts","./src/app/services/scroll/scroll.service.ts","./src/environments/environment.ts","./src/main.ts","fs (ignored)","util (ignored)","webpack:///util (ignored)?6cbb","buffer (ignored)","crypto (ignored)","webpack:///fs (ignored)?9f49","webpack:///buffer (ignored)?0a69"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AAC0C;AAC1C,sC;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACuC;AACvC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gDAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,gDAAgB;AAC9C,SAAS;AACT;AACA;AACA,sC;;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACsD;AACD;AACY;AACd;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,GAAG,GAAG,MAAM,+BAA+B,8CAA8C,IAAI,YAAY;AAC5L,oBAAoB,+DAAc;AAClC;AACA,qBAAqB,+DAAc;AACnC;AACA,mCAAmC,UAAU,UAAU,+DAAc,WAAW;AAChF,qBAAqB,oFAAiB,2CAA2C,+DAAc,aAAa,+DAAc;AAC1H,qBAAqB,oFAAiB;AACtC,qBAAqB,oFAAiB;AACtC,qBAAqB,oFAAiB;AACtC,qBAAqB,oFAAiB;AACtC,qBAAqB,oFAAiB;AACtC,kCAAkC;AAClC,gDAAgD;AAChD,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,GAAG;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,GAAG;AAC/E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,yEAAY;AAClC;AACA,uDAAuD,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,sEAAsE,GAAG,GAAG,MAAM;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL,gEAAgE,GAAG;AACnE;AACA;AACA;AACA,SAAS;AACT;AACA,qBAAqB,iEAAS,uBAAuB,6DAAK;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC6C;AAC9C,iC;;;;;;;;;;;;AC5MA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACgC;AACjC,iC;;;;;;;;;;;;AC9KA;AAAA;AAAO,wBAAwB,8CAA8C,IAAI,ycAAyc,8BAA8B,eAAe,oBAAoB,2BAA2B,eAAe,4yHAA4yH,IAAI,oYAAoY,cAAc,sCAAsC,MAAM,4EAA4E,SAAS,6GAA6G,4EAA4E,MAAM,gCAAgC,kCAAkC,KAAK,2BAA2B,YAAY,mBAAmB,OAAO,UAAU,mBAAm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ACA,KAAK;AACL;AAC6D;AACJ;AACM;AAC5B;AACe;AACJ;AAC9C;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6BAA6B,qEAAc;AAC3C,0BAA0B,0DAAkB;AAC5C;AACA;AACA;AACA,4BAA4B,qEAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6BAA6B,4CAAU,qBAAqB,sDAAW;AACvE;AACA;AACA,uCAAuC,2DAAK;AAC5C,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,0CAA0C,4CAAU;AACpD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,4CAAU;AAClE;AACA,4CAA4C,wEAAkB;AAC9D;AACA;AACA,kCAAkC,yEAAY;AAC9C,uCAAuC,4CAAU;AACjD,4CAA4C,wEAAkB;AAC9D;AACA,SAAS;AACT;AACA;AACA,wC;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACmF;AACoB;AACxC;AACQ;AACV;AACE;AAC/D;AACA;AACA;AACA;AACO,qBAAqB,wEAAY;AACxC;AACA;AACA,eAAe,6CAA6C;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qEAAc;AAC5C;AACA;AACA;AACA,gCAAgC,qEAAc;AAC9C,0BAA0B,0DAAkB;AAC5C,kCAAkC,uEAAc;AAChD;AACA;AACA,8CAA8C,wBAAwB,KAAK,+BAA+B;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,2EAAoB;AAC/D;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iDAAiD,8CAAY;AAC7D;AACA,qBAAqB;AACrB;AACA,2BAA2B,+EAAmB;AAC9C;AACA;AACA;AACA;AACA,oDAAoD,sDAAoB;AACxE;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,+CAAa;AAC7D,yDAAyD;AACzD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,+CAAa;AAC7D,4DAA4D;AAC5D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iDAAe;AAC9D;AACA;AACA;AACA;AACA,+DAA+D,4CAAU;AACzE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,oDAAoD,iDAAe;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qEAAc;AAChD;AACA;AACA;AACA;AACA,mCAAmC,mDAAW;AAC9C,SAAS;AACT;AACA;AACA,kC;;;;;;;;;;;;ACxNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC6D;AACjB;AACa;AACd;AACM;AACY;AACqF;AACtF;AACc;AACZ;AAC9D,mBAAmB,oDAAM;AACzB;AACA;AACA;AACA;AACO,yBAAyB,wCAAM;AACtC;AACA,6BAA6B,gDAAgD,8CAAY,IAAI;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qEAAc;AAChD;AACA;AACA,iBAAiB,4CAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qCAAqC,mDAAiB;AACtD;AACA;AACA;AACA,yCAAyC,0BAA0B;AACnE;AACA;AACA;AACA;AACA,qCAAqC,mDAAiB;AACtD;AACA,2CAA2C,+CAAa;AACxD;AACA;AACA;AACA;AACA,qCAAqC,yDAAc;AACnD;AACA,yBAAyB;AACzB,+CAA+C,mDAAW;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,qEAAc;AACpD;AACA;AACA;AACA;AACA,mCAAmC,4CAAU;AAC7C,mCAAmC,mDAAW;AAC9C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,+CAAa;AAC7D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,+CAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,mDAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC,gDAAgD,iDAAe;AAC/D,qBAAqB,mDAAiB;AACtC,gDAAgD,iDAAe;AAC/D,qBAAqB,mDAAiB;AACtC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAiB;AACvC,mEAAmE,OAAO,6CAAW,UAAU;AAC/F;AACA;AACA,uBAAuB,iDAAe,oBAAoB,iDAAe;AACzE;AACA,mBAAmB,0BAA0B;AAC7C;AACA,aAAa;AACb;AACA;AACA,kCAAkC,6EAAuB;AACzD;AACA,yCAAyC,0FAAoB;AAC7D;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uCAAuC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAiB;AACvC;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA,aAAa;AACb,mBAAmB,sBAAsB;AACzC,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAiB;AACvC,mDAAmD,OAAO,6CAAW,UAAU;AAC/E;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA,aAAa;AACb,mBAAmB,4BAA4B;AAC/C,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,aAAa;AACb,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,OAAO,6CAAW;AAChE;AACA,sBAAsB,mDAAiB;AACvC;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA,aAAa;AACb,mBAAmB,4BAA4B;AAC/C,4BAA4B;AAC5B,+CAA+C,qDAAqD;AACpG,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mDAAW;AAC9C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sEAAe;AAC7D;AACA;AACA;AACA;AACA;AACA,4DAA4D,0FAAoB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,wDAAwD,sDAAsD;AAC9G,qBAAqB;AACrB;AACA;AACA,0BAA0B,oEAAa;AACvC;AACA,sBAAsB,6CAAW;AACjC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oEAAa;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mDAAW;AACrC;AACA;AACA;AACA;AACA,iCAAiC,mDAAW;AAC5C;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW,yEAAY,aAAa,yDAAc,iCAAiC;AAC9H,gCAAgC,qEAAc;AAC9C;AACA,sCAAsC,4CAAU;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oEAAa;AACnC;AACA;AACA,mCAAmC;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,GAAG;AACrE;AACA;AACA;AACA,sC;;;;;;;;;;;;AC/hBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACwE;AACH;AACE;AACoB;AACE;AAC7F;AACA;AACA;AACA;AACO,2BAA2B,wCAAM;AACxC;AACA,6BAA6B,cAAc,8CAAY,IAAI;AAC3D;AACA;AACA;AACA;AACA,qCAAqC,6EAAiB,KAAK,8CAAY;AACvE,sCAAsC,+EAAkB,KAAK,8CAAY;AACzE;AACA;AACA;AACA,mBAAmB;AACnB,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,SAAS;AACT;AACA;AACA;AACA;AACA,0BAA0B,mGAA0B;AACpD;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qGAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gDAAgD,+CAAa;AAC7D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gDAAgD,+CAAa;AAC7D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,4CAAU;AAC1D;AACA,SAAS;AACT;AACA;AACA,wC;;;;;;;;;;;;ACtKA;AAAA;AAAA;AAAA;AAAO;AACA;AACA;AACP,qC;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAkD;AAC3C,iCAAiC,6CAAW;AACnD;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,8C;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAoD;AAC0N;AACvQ;AACP;AACA;AACA,6BAA6B;AAC7B,2BAA2B,UAAU,IAAI,QAAQ;AACjD;AACA;AACA;AACA;AACA,iBAAiB,iDAAe;AAChC,2BAA2B,gEAA8B;AACzD,iBAAiB,iDAAe;AAChC,2BAA2B,gEAA8B;AACzD,iBAAiB,iDAAe;AAChC,2BAA2B,sDAAoB;AAC/C,iBAAiB,iDAAe;AAChC,2BAA2B,yDAAuB;AAClD,iBAAiB,iDAAe;AAChC,2BAA2B,uDAAqB;AAChD,iBAAiB,iDAAe;AAChC,2BAA2B,8DAA4B;AACvD,iBAAiB,iDAAe;AAChC,2BAA2B,8DAA4B;AACvD,iBAAiB,iDAAe;AAChC,2BAA2B,+DAA6B;AACxD,iBAAiB,iDAAe;AAChC,2BAA2B,oDAAkB;AAC7C,iBAAiB,iDAAe;AAChC,2BAA2B,oDAAkB;AAC7C;AACA,gBAAgB,uEAAW;AAC3B;AACA;AACA;AACA,uC;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAkD;AAC3C,mCAAmC,6CAAW;AACrD;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,gD;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,6CAA6C,6CAAW;AAC/D;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,0D;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,mCAAmC,6CAAW;AACrD;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,gD;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,sCAAsC,6CAAW;AACxD;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,mD;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,oCAAoC,6CAAW;AACtD;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,iD;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,2CAA2C,6CAAW;AAC7D;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,wD;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,2CAA2C,6CAAW;AAC7D;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,wD;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,4CAA4C,6CAAW;AAC9D;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,yD;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAkD;AAC3C,iCAAiC,6CAAW;AACnD;AACA,cAAc,iDAAe;AAC7B;AACA;AACA;AACA;AACA,8C;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACwD;AACd;AACA;AACH;AACC;AACW;AACT;AACgF;AACnF;AACvC,mBAAmB,oDAAM;AACzB,uBAAuB,sDAAU;AACjC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kCAAkC;AACnC;AACA;AACA;AACA;AACA,IAAI,8DAAS,EAAE,oCAAoC;AACnD,CAAC;AACD;AACA;AACA;AACA;AACA,UAAU,8DAAS;AACnB;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,+DAAW;AACrB,cAAc,oDAAkB;AAChC;AACA;AACA;AACA;AACA,UAAU,8DAAS;AACnB;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA,IAAI,8DAAS;AACb;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA,UAAU,8DAAS;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA,UAAU,8DAAS;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA,iBAAiB,KAAK;AACtB;AACA;AACA,UAAU,8DAAS;AACnB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,4EAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2DAAS,aAAa;AACvC;AACA;AACA,UAAU,8DAAS;AACnB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA,iEAAiE,eAAe;AAChF;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA,2BAA2B,cAAc;AACzC;AACA;AACA;AACA;AACA,+BAA+B,mGAAqC;AACpE;AACA,SAAS;AACT;AACA,UAAU,8DAAS;AACnB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA,mHAAmH,uBAAuB;AAC1I;AACA;AACA;AACA;AACA,+BAA+B,uGAAyC;AACxE;AACA,SAAS;AACT;AACA,UAAU,8DAAS;AACnB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA,UAAU,8DAAS;AACnB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA,mHAAmH,uBAAuB;AAC1I;AACA;AACA;AACA;AACA,+BAA+B,uGAAyC;AACxE;AACA,SAAS;AACT;AACA,UAAU,8DAAS;AACnB,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,MAAM;AACnE;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,kC;;;;;;;;;;;;AChVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqF;AAChB;AACJ;AACR;AACS;AAC1B;AACgC;AACvB;AACmB;AACN;AACX;AACO;AACW;AACoB;AACpB;AACM;AACJ;AACc;AACA;AACE;AACtB;AACG;AACJ;AACS;AACtB;AACM;AACoB;AACjC;AACY;AACA;AACF;AACJ;AACR;AACgB;AACC;AACQ;AACF;AACiB;AACzB;AACW;AACE;AACL;AACE;AACnE;AAC8B;AAC9B;AACkF;AAClF;AAC2F;AAC3F;AACuS;AACvS;AACiH;AACjH;AACkE;AAClE;AACwE;AACxE;AACiE;AACjE;AACuC;AACvC;AACyD;AACzD;AAC2C;AAC3C,iC;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACuC;AACvC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mEAAmE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,sD;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACuC;AACO;AACY;AACa;AACvE;AACA;AACA;AACO;AACP;AACA;AACA,mBAAmB,yFAAyF;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA;AACA,iCAAiC,yDAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC,oDAAoD,oBAAoB,yDAAc,EAAE;AACxF;AACA;AACA,0CAA0C,6EAAuB;AACjE;AACA;AACA;AACA;AACA;AACA,iDAAiD,0FAAoB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA,wDAAwD,oBAAoB,yDAAc,EAAE;AAC5F;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA,wDAAwD,oBAAoB,yDAAc,EAAE;AAC5F;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC;AACA,wDAAwD,oBAAoB,yDAAc,EAAE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uD;;;;;;;;;;;;ACtFA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACgC;AACkB;AACU;AAC5D;AACA;AACA;AACO;AACP;AACA,kCAAkC,8DAAc,UAAU,4CAAU;AACpE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,wEAAmB;AACtC,SAAS;AACT;AACA;AACA,0C;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACgC;AACkB;AAClD;AACA;AACA;AACO;AACP;AACA,kCAAkC,8DAAc,UAAU,4CAAU;AACpE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,8C;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACkD;AAClD;AACA;AACA;AACO;AACP;AACA,kCAAkC,8DAAc;AAChD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uC;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACgC;AACkB;AACU;AAC5D;AACA;AACA;AACO;AACP;AACA,kCAAkC,8DAAc,UAAU,4CAAU;AACpE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,wEAAmB;AACtC,SAAS;AACT;AACA;AACA,6C;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACwD;AACe;AACvE;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAiB;AACtC,qBAAqB,mDAAiB;AACtC;AACA;AACA,qBAAqB,mDAAiB;AACtC,oDAAoD,0FAAoB;AACxE;AACA;AACA;AACA;AACA,sDAAsD,iDAAe;AACrE;AACA,qBAAqB,mDAAiB;AACtC;AACA;AACA;AACA;AACA;AACA,+FAA+F,iDAAe;AAC9G;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+C;;;;;;;;;;;;ACnDA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qBAAqB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0C;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACwD;AACF;AACa;AACF;AACA;AACE;AACG;AACtE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,oEAAiB;AAC3C,iCAAiC,kFAAwB;AACzD,+BAA+B,kEAAgB;AAC/C,mCAAmC,6EAAiB;AACpD,gCAAgC,6EAAiB;AACjD,iCAAiC,+EAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,mEAAgB;AACvG;AACA;AACA;AACA;AACA;AACA,uFAAuF,mEAAgB;AACvG;AACA;AACA;AACA;AACA;AACA,uFAAuF,mEAAgB;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,6DAAU;AACzC,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yEAAyE,oBAAoB;AAC7F;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,KAAK;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,uBAAuB,UAAU,GAAG,QAAQ;AAC5C,SAAS;AACT;AACA;AACA,wC;;;;;;;;;;;;ACnRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsC;AACA;AACiB;AACY;AAC5D,uCAAuC,mDAAY;AAC1D;AACA;AACA;AACA,aAAa,+EAAqB;AAClC,aAAa,+EAAqB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,yDAAI,CAAC,+EAAqB;AACtD,6BAA6B,+EAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,mEAAgB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,mEAAgB;AAC9D;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,oD;;;;;;;;;;;;ACxGA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACsC;AAC6B;AACnC;AAChC;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6DAAU,gBAAgB,mEAAgB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4CAAU;AAC/D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,6BAA6B,4CAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,iCAAiC,6DAAU;AAC3C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,yDAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,6C;;;;;;;;;;;;AC1MA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC0B;AACY;AACtC;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,4CAAK;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,oBAAoB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,QAAQ,yDAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4C;;;;;;;;;;;;AC5HA;AAAA;AAAO;AACP;AACA;AACA;AACA,CAAC,sDAAsD;AACvD,6C;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAqD;AAC9C;AACP;AACA;AACA,CAAC,8CAA8C;AACxC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wEAAkB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,yC;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AAA6E;AAC7B;AACzC;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AACtC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,mEAAa,WAAW,iEAAW;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,4DAAc;AACtE,4BAA4B,4DAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,sC;;;;;;;;;;;;AClIA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACwD;AACxD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,GAAG,cAAc;AAC9B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0CAA0C;AAC7D,gCAAgC,mEAAgB,2BAA2B,mEAAgB;AAC3F,sEAAsE,QAAQ;AAC9E;AACA;AACA,qEAAqE,QAAQ,QAAQ,KAAK,GAAG,MAAM,aAAa,cAAc;AAC9H;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;;;;;;ACnGA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACwD;AACxD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,gEAAgE,cAAc;AAC9E,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mEAAgB,2BAA2B,mEAAgB;AAC3F,sEAAsE,QAAQ;AAC9E;AACA,kDAAkD,QAAQ,WAAW,gBAAgB,GAAG,cAAc;AACtG,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mEAAgB;AAChD,wCAAwC,mBAAmB;AAC3D;AACA,kDAAkD,QAAQ,UAAU,GAAG,cAAc;AACrF,SAAS;AACT;AACA;AACA,6C;;;;;;;;;;;;AC1DA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,6C;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4D;AAC5D;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iCAAiC,uEAAiB;AAClD,kC;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC0E;AACnE;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qFAAa;AAChD,8DAA8D,qFAAa;AAC3E;AACA;AACA,oCAAoC,qFAAa;AACjD;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,0CAA0C,eAAe;AACzD;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB;AAC7D;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA,yC;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC0E;AACnE;AACP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2BAA2B,qFAAa;AACxC,qDAAqD,qFAAa;AAClE;AACA;AACA,2BAA2B,qFAAa;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gCAAgC,YAAY,GAAG,IAAI;AACnD;AACA;AACA,wC;;;;;;;;;;;;AC3DA;AAAA;AAAA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACyC;AACQ;AACjD,mBAAmB,oDAAM;AACzB;AACA;AACA;AACO;AACP,cAAc,+CAAa;AAC3B;AACA,mBAAmB,+CAAa;AAChC;AACA,mBAAmB,8CAAY;AAC/B;AACA,mBAAmB,8CAAY;AAC/B;AACA;AACA;AACA;AACA,CAAC;AACD,sC;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACyC;AAC6D;AAChD;AACe;AACD;AACpE,mBAAmB,oDAAM;AAClB,qCAAqC,2CAAS;AACrD;AACA;AACA,oBAAoB,+CAAa;AACjC;AACA,0BAA0B,gFAAmB;AAC7C,+BAA+B,iEAAW,UAAU,4CAAU;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,sBAAsB;AACtB,SAAS;AACT;AACA;AACA,gCAAgC,gFAAe;AAC/C;AACA;AACA,uDAAuD,kBAAkB;AACzE,kHAAkH,oCAAoC,EAAE;AACxJ;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,wDAAsB;AAC9C;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,wCAAM;AAClC;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4CAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,wCAAM;AAC9B;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,kD;;;;;;;;;;;;ACtKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACyC;AACkE;AACnE;AACc;AACtD,mBAAmB,oDAAM;AAClB,2BAA2B,2CAAS;AAC3C;AACA;AACA,oBAAoB,+CAAa;AACjC;AACA;AACA;AACA;AACA;AACA,0BAA0B,wDAAsB;AAChD,+BAA+B,iEAAW,UAAU,4CAAU;AAC9D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,sBAAsB;AACtB,SAAS;AACT;AACA;AACA,gCAAgC,iDAAe;AAC/C;AACA;AACA;AACA,uDAAuD,kBAAkB;AACzE,kHAAkH,oCAAoC,EAAE;AACxJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mDAAW;AAC7C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,0BAA0B,mDAAW;AACrC;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA,2DAA2D;AAC3D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,wCAAM;AAClC;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,wC;;;;;;;;;;;;ACrJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACyC;AAC+C;AAC/C;AACa;AACb;AACD;AACwB;AAChE,mBAAmB,oDAAM;AAClB,mCAAmC,oDAAS;AACnD;AACA;AACA,oBAAoB,+CAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,4EAAiB;AAC3C,+BAA+B,iEAAW,UAAU,4CAAU;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oDAAQ;AAChC;AACA;AACA,gBAAgB,oDAAQ;AACxB;AACA,4BAA4B,wDAAsB;AAClD;AACA;AACA;AACA,gBAAgB,oDAAQ;AACxB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,sBAAsB;AACtB,SAAS;AACT;AACA;AACA,gCAAgC,iDAAe;AAC/C;AACA;AACA,uDAAuD,kBAAkB;AACzE,kHAAkH,oCAAoC,EAAE;AACxJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oDAAM;AAClC;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,gD;;;;;;;;;;;;AC7JA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACyC;AACW;AACpD,mBAAmB,oDAAM;AAClB;AACP;AACA;AACA;AACA;AACA,oBAAoB,+CAAa;AACjC;AACA;AACA;AACA,4BAA4B,iDAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iDAAe;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,sBAAsB;AAC9D;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,qC;;;;;;;;;;;;ACzHA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC+C;AACI;AACO;AACnD,kCAAkC,sEAAkB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,wDAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,wDAAsB;AAClD;AACA;AACA;AACA,gCAAgC;AAChC;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA,iBAAiB,EAAE;AACnB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,2CAA2C,mEAAa;AACxD;AACA,wBAAwB,wDAAsB;AAC9C;AACA;AACA,gCAAgC;AAChC;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA,iBAAiB,EAAE;AACnB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,+C;;;;;;;;;;;;;ACrGA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC6C;AACU;AAChD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2DAAK;AACxB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gEAAU;AAC7B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,uFAA2C,8BAA8B;AAC9G,oCAAoC,uFAA2C,4CAA4C;AAC3H,qCAAqC,uFAA2C,qCAAqC;AACrH;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gFAAoC;AACvD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gFAAoC;AACvD,SAAS;AACT;AACA;AACA,+C;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC6C;AACI;AACqC;AAC1B;AACrD,iCAAiC,wEAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wDAAY;AAC9B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yDAAc;AACvC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA,gBAAgB,8EAAkC,GAAG,4EAAgC;AACrF;AACA,iCAAiC,6EAAuB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B,mBAAmB,6EAAuB;AAC1C,SAAS;AACT;AACA;AACA,8C;;;;;;;;;;;;;ACrGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC6C;AACR;AACmH;AACxF;AACqB;AACR;AAC5B;AACW;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qCAAqC,wEAAmB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yDAAc;AACvC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iDAAiD,gEAAU;AAC3D;AACA;AACA,kDAAkD,gEAAU;AAC5D,kDAAkD,gEAAU;AAC5D;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,kBAAkB,wDAAY;AAC9B,mCAAmC,qEAAyB,KAAK,8DAAkB,UAAU,yCAAyC;AACtI,iCAAiC,uEAA2B;AAC5D,4CAA4C,sBAAsB;AAClE,2BAA2B,2BAA2B;AACtD;AACA,+BAA+B,wEAAY;AAC3C,wCAAwC,uEAAuE;AAC/G;AACA,iBAAiB;AACjB,iCAAiC,6FAAqB;AACtD;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,oCAAoC,2DAAK,eAAe,GAAG,0BAA0B;AACrF,8BAA8B,2DAAK;AACnC,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA;AACA;AACA,wBAAwB,8EAAkC,GAAG,4EAAgC;AAC7F;AACA,kDAAkD,6EAAuB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iCAAiC,6FAAqB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,6FAAqB;AACxD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mCAAmC,6FAAqB;AACxD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B,2BAA2B,2BAA2B;AACtD,4CAA4C,gEAAU;AACtD,kCAAkC,qEAAe;AACjD;AACA;AACA;AACA,wDAAwD,6EAAuB;AAC/E;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iCAAiC,6FAAqB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,8EAAkC,GAAG,4EAAgC;AACjG;AACA,iEAAiE,mEAAa;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wCAAwC,gEAAU;AAClD,8BAA8B,qEAAe;AAC7C,kDAAkD,oBAAoB;AACtE;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE,+CAA+C,mEAAa;AAC5D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,wCAAwC,qFAAiB;AACzD;AACA;AACA;AACA,wEAAwE,MAAM,gEAAU,gDAAgD;AACxI,SAAS;AACT;AACA;AACA;AACA,+DAA+D,MAAM,gEAAU,sCAAsC;AACrH,SAAS;AACT;AACA;AACA;AACA,mCAAmC,mDAAS,MAAM,UAAU,cAAc,WAAW;AACrF;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,QAAQ;AAC7E;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4DAA4D,UAAU;AACtE;AACA,SAAS;AACT;AACA;AACA,kD;;;;;;;;;;;;;AC1OA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC6C;AACD;AACuB;AAChB;AACO;AACnD,gCAAgC,sEAAkB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,wBAAwB,wDAAsB;AAC9C;AACA;AACA;AACA,YAAY,oDAAQ;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,wDAAsB;AAC1D;AACA;AACA;AACA,wBAAwB,8EAAkC,GAAG,4EAAgC;AAC7F;AACA,oDAAoD,mEAAa;AACjE;AACA,4BAA4B,oDAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,YAAY,oDAAQ;AACpB;AACA,wBAAwB,wDAAsB;AAC9C,mCAAmC,4CAAU;AAC7C;AACA;AACA,YAAY,oDAAQ;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,YAAY,oDAAQ;AACpB;AACA;AACA;AACA,gEAAgE,wDAAsB;AACtF;AACA;AACA,wCAAwC,wCAAM;AAC9C;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,6C;;;;;;;;;;;;;AC3GA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,CAAC,0CAA0C;AAC3C,2C;;;;;;;;;;;;ACbA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA,CAAC,wDAAwD;AACzD,kD;;;;;;;;;;;;ACNA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA,CAAC,wBAAwB;AACzB,kC;;;;;;;;;;;;ACNA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C;AAC/C,6C;;;;;;;;;;;;ACbA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA,CAAC,kCAAkC;AACnC,uC;;;;;;;;;;;;ACNA;AAAA;AAAO;AACP;AACA;AACA;AACA,+CAA+C;AAC/C,CAAC,0CAA0C;AAC3C,2C;;;;;;;;;;;;ACNA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC;AACjC,sC;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAmC;AAC5B;AACP,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf,KAAK,4CAAU;AACf;AACA,oD;;;;;;;;;;;;ACZA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD;AACjD,0C;;;;;;;;;;;;ACdA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA,CAAC,0CAA0C;AAC3C,2C;;;;;;;;;;;;ACNA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC;AACvC,yC;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AACqC;AACrC;AACA;AACA;AACO;AACP,iCAAiC,gDAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,UAAU,IAAI,OAAO;AAClD,oCAAoC,MAAM;AAC1C;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACpCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,wC;;;;;;;;;;;;ACVA;AAAA;AAAA;AAA0E;AAC1E;AACA;AACA;AACO;AACP,eAAe,qFAAoB;AACnC;AACA,gD;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,SAAS,6CAAW;AACpB,SAAS,6CAAW;AACpB,SAAS,6CAAW;AACpB;AACA,8CAA8C,6CAAW;AACzD,cAAc,IAAI,EAAE,QAAQ;AAC5B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,SAAS,6CAAW;AACpB,SAAS,6CAAW;AACpB,SAAS,6CAAW;AACpB;AACA,8CAA8C,6CAAW;AACzD,cAAc,IAAI,EAAE,gBAAgB;AACpC,CAAC;AACD,0C;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACuC;AACM;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B,qBAAqB,qEAAyB;AAC9C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B,eAAe,2EAA+B,CAAC,qEAAyB,KAAK,8DAAkB;AAC/F,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B,kCAAkC,kEAAsB,CAAC,8EAAkC;AAC3F;AACA;AACA,wBAAwB,wEAA4B;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B,uCAAuC,8EAAkC;AACzE,yCAAyC,8EAAkC;AAC3E,2BAA2B,6EAAiC;AAC5D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B,gCAAgC,uFAA2C,yBAAyB;AACpG,iCAAiC,kEAAsB;AACvD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B,iCAAiC,uFAA2C,0BAA0B;AACtG,gCAAgC,uFAA2C,yBAAyB;AACpG,iCAAiC,uEAA2B;AAC5D;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gDAAgB;AAC5C;AACA;AACA;AACA,kDAAkD,UAAU;AAC5D;AACA,wBAAwB,qEAAyB;AACjD;AACA,eAAe,gDAAgB;AAC/B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,eAAe,cAAc,GAAG,YAAY;AAC5C;AACA;AACA,kC;;;;;;;;;;;;;AC3IA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA,CAAC,oDAAoD;AACrD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2C;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AAC6C;AAC7C;AACA;AACA;AACO;AACP;AACA,cAAc,wDAAY;AAC1B,oBAAoB,kEAAsB;AAC1C;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,yC;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AAC6C;AACN;AACvC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,0BAA0B,aAAa;AACvC;AACA;AACA,yBAAyB,eAAe;AACxC;AACA,UAAU,wDAAY;AACtB,+BAA+B,qEAAyB;AACxD,WAAW,gDAAgB;AAC3B,CAAC;AACD,kD;;;;;;;;;;;;;AC7BA;AAAA;AAAO,2CAA2C,IAAI,oBAAoB,QAAQ;AAClF,2C;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACO;AACP;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACA;AACA;AACP,oC;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,eAAe,6CAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC,wBAAwB,UAAU;AAClC,2BAA2B,YAAY;AACvC;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8B;;;;;;;;;;;;AC9CA;AAAA;AAAO,sEAAsE,EAAE,cAAc;AAC7F,+C;;;;;;;;;;;;ACDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,iC;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;AC3YA;AAAe,qmBAAsiB,oBAAoB,iKAAiK,6BAA6B,yDAAyD,kDAAkD,yBAAyB,MAAM,8BAA8B,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","file":"main.js","sourcesContent":["const cbs = [(_) => undefined];\r\n/**\r\n * A mock for postmessage if run in node.js environment\r\n */\r\nlet myWindow = {\r\n    postMessage: (message, _target) => {\r\n        console.log('GOT MOCK POST MESSAGE', message);\r\n        cbs.forEach((callbackElement) => {\r\n            callbackElement({ data: message });\r\n        });\r\n    },\r\n    addEventListener: (_name, eventCallback) => {\r\n        cbs.push(eventCallback);\r\n    },\r\n    removeEventListener: (_name, eventCallback) => {\r\n        cbs.splice(cbs.indexOf((element) => element === eventCallback), 1);\r\n    }\r\n};\r\ntry {\r\n    if (typeof window !== 'undefined') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        myWindow = window;\r\n    }\r\n}\r\ncatch (windowError) {\r\n    console.log(`not defined: ${windowError}`);\r\n}\r\nconst clearMockWindowState = () => {\r\n    cbs.length = 0;\r\n};\r\nexport { myWindow, clearMockWindowState };\r\n//# sourceMappingURL=MockWindow.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as bs58check from 'bs58check';\r\n/**\r\n * The Serializer is used to serialize / deserialize JSON objects and encode them with bs58check\r\n */\r\nexport class Serializer {\r\n    /**\r\n     * Serialize and bs58check encode an object\r\n     *\r\n     * @param message JSON object to serialize\r\n     */\r\n    serialize(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const str = JSON.stringify(message);\r\n            return bs58check.encode(Buffer.from(str));\r\n        });\r\n    }\r\n    /**\r\n     * Deserialize a bs58check encoded string\r\n     *\r\n     * @param encoded String to be deserialized\r\n     */\r\n    deserialize(encoded) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof encoded !== 'string') {\r\n                throw new Error('Encoded payload needs to be a string');\r\n            }\r\n            return JSON.parse(bs58check.decode(encoded).toString());\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Serializer.js.map","// Taken from https://github.com/WalletConnect/walletconnect-monorepo/blob/master/packages/qrcode-modal/src/browser.ts\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { generateGUID } from '../utils/generate-uuid';\r\nimport { isAndroid, isIOS } from '../utils/platform';\r\nimport { replaceInTemplate } from '../utils/replace-in-template';\r\nimport { alertTemplates } from './alert-templates';\r\nlet document;\r\nif (typeof window !== 'undefined' && typeof window.document !== 'undefined') {\r\n    document = window.document;\r\n}\r\nconst timeout = {};\r\nconst formatBody = (dataString) => {\r\n    if (typeof dataString === 'string') {\r\n        return dataString.replace('<svg', `<svg class=\"beacon-alert__image\"`);\r\n    }\r\n    return dataString;\r\n};\r\nconst formatAlert = (id, body, title, type, buttons, pairingPayload) => {\r\n    const callToAction = title;\r\n    const buttonsHtml = buttons.map((button, index) => `<button id=\"beacon-alert-${id}-${index}\" class=\"beacon-modal__button${button.style === 'outline' ? '--outline' : ''}\">${button.text}</button>`);\r\n    let allStyles = alertTemplates.default.css;\r\n    if (type === 'pair') {\r\n        allStyles += alertTemplates.pair.css;\r\n    }\r\n    let alertContainer = `<style>${allStyles}</style>${alertTemplates.container}`;\r\n    alertContainer = replaceInTemplate(alertContainer, 'main', type === 'pair' ? alertTemplates.pair.html : alertTemplates.default.html);\r\n    alertContainer = replaceInTemplate(alertContainer, 'callToAction', callToAction);\r\n    alertContainer = replaceInTemplate(alertContainer, 'buttons', buttonsHtml.join(' '));\r\n    alertContainer = replaceInTemplate(alertContainer, 'body', body);\r\n    alertContainer = replaceInTemplate(alertContainer, 'id', id);\r\n    alertContainer = replaceInTemplate(alertContainer, 'payload', pairingPayload !== null && pairingPayload !== void 0 ? pairingPayload : '');\r\n    if (alertContainer.indexOf('{{') >= 0) {\r\n        const start = alertContainer.indexOf('{{');\r\n        const end = alertContainer.indexOf('}}');\r\n        console.error('Not all placeholders replaced!', alertContainer.substr(start, end - start));\r\n        throw new Error('Not all placeholders replaced!');\r\n    }\r\n    return alertContainer;\r\n};\r\n/**\r\n * Close an alert by ID\r\n *\r\n * @param id ID of alert\r\n */\r\nconst closeAlert = (id) => new Promise((resolve) => {\r\n    const elm = document.getElementById(`beacon-alert-modal-${id}`);\r\n    if (elm) {\r\n        const animationDuration = 300;\r\n        const localTimeout = timeout[id];\r\n        if (localTimeout) {\r\n            clearTimeout(localTimeout);\r\n            timeout[id] = undefined;\r\n        }\r\n        elm.className = elm.className.replace('fadeIn', 'fadeOut');\r\n        window.setTimeout(() => {\r\n            const wrapper = document.getElementById(`beacon-alert-wrapper-${id}`);\r\n            if (wrapper) {\r\n                document.body.removeChild(wrapper);\r\n            }\r\n            resolve();\r\n        }, animationDuration);\r\n    }\r\n    else {\r\n        resolve();\r\n    }\r\n});\r\n/**\r\n * Close all alerts\r\n */\r\nconst closeAlerts = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    return new Promise((resolve) => __awaiter(void 0, void 0, void 0, function* () {\r\n        const openAlertElements = document.querySelectorAll('[id^=\"beacon-alert-wrapper-\"]');\r\n        if (openAlertElements.length > 0) {\r\n            const alertIds = [];\r\n            openAlertElements.forEach((element) => __awaiter(void 0, void 0, void 0, function* () {\r\n                alertIds.push(element.id.split('-')[3]);\r\n            }));\r\n            yield Promise.all(alertIds.map(closeAlert));\r\n            resolve();\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    }));\r\n});\r\n/**\r\n * Show an alert\r\n *\r\n * @param alertConfig The configuration of the alert\r\n */\r\n// eslint-disable-next-line complexity\r\nconst openAlert = (alertConfig) => __awaiter(void 0, void 0, void 0, function* () {\r\n    var _a, _b, _c;\r\n    const body = alertConfig.body;\r\n    const title = alertConfig.title;\r\n    const timer = alertConfig.timer;\r\n    const pairingPayload = alertConfig.pairingPayload;\r\n    const confirmButtonText = alertConfig.confirmButtonText;\r\n    const actionButtonText = alertConfig.actionButtonText;\r\n    // eslint-disable-next-line @typescript-eslint/unbound-method\r\n    const confirmCallback = alertConfig.confirmCallback;\r\n    // eslint-disable-next-line @typescript-eslint/unbound-method\r\n    const actionCallback = alertConfig.actionCallback;\r\n    yield closeAlerts();\r\n    const id = (yield generateGUID()).split('-').join('');\r\n    const wrapper = document.createElement('div');\r\n    wrapper.setAttribute('id', `beacon-alert-wrapper-${id}`);\r\n    const buttons = [...((_a = alertConfig.buttons) !== null && _a !== void 0 ? _a : [])];\r\n    if (actionButtonText || actionCallback) {\r\n        buttons.push({\r\n            text: actionButtonText !== null && actionButtonText !== void 0 ? actionButtonText : 'click',\r\n            actionCallback: (_b = actionCallback) !== null && _b !== void 0 ? _b : (() => Promise.resolve()),\r\n            style: 'outline'\r\n        });\r\n    }\r\n    if (confirmButtonText || confirmCallback) {\r\n        buttons.push({\r\n            text: confirmButtonText !== null && confirmButtonText !== void 0 ? confirmButtonText : 'click',\r\n            actionCallback: (_c = confirmCallback) !== null && _c !== void 0 ? _c : (() => Promise.resolve()),\r\n            style: 'solid'\r\n        });\r\n    }\r\n    const formattedBody = body ? formatBody(body) : '';\r\n    wrapper.innerHTML = formatAlert(id, formattedBody, title, 'pair', buttons, pairingPayload);\r\n    if (timer) {\r\n        timeout[id] = window.setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\r\n            yield closeAlert(id);\r\n        }), timer);\r\n    }\r\n    document.body.appendChild(wrapper);\r\n    buttons.forEach((button, index) => {\r\n        const buttonElement = document.getElementById(`beacon-alert-${id}-${index}`);\r\n        if (buttonElement) {\r\n            buttonElement.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\r\n                yield closeAlert(id);\r\n                if (button.actionCallback) {\r\n                    yield button.actionCallback();\r\n                }\r\n            }));\r\n        }\r\n    });\r\n    const closeButton = document.getElementById(`beacon-alert-${id}-close`);\r\n    if (closeButton) {\r\n        closeButton.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\r\n            yield closeAlert(id);\r\n        }));\r\n    }\r\n    const platform = isAndroid(window) ? 'android' : isIOS(window) ? 'ios' : 'desktop';\r\n    const mainText = document.getElementById(`beacon-main-text`);\r\n    const iosList = document.getElementById(`beacon-ios-list`);\r\n    const androidList = document.getElementById(`beacon-android-list`);\r\n    const desktopList = document.getElementById(`beacon-desktop-list`);\r\n    const webList = document.getElementById(`beacon-web-list`);\r\n    if (mainText && iosList && androidList && desktopList && webList) {\r\n        const showPlatform = (type) => {\r\n            const platformSwitch = document.getElementById(`beacon-switch`);\r\n            if (platformSwitch) {\r\n                platformSwitch.innerHTML =\r\n                    type === 'none' ? 'Pair Wallet on same device' : 'Pair Wallet on different device';\r\n            }\r\n            mainText.style.display = 'none';\r\n            iosList.style.display = 'none';\r\n            androidList.style.display = 'none';\r\n            desktopList.style.display = 'none';\r\n            webList.style.display = 'none';\r\n            switch (type) {\r\n                case 'ios':\r\n                    iosList.style.display = 'initial';\r\n                    break;\r\n                case 'android':\r\n                    androidList.style.display = 'initial';\r\n                    break;\r\n                case 'desktop':\r\n                    desktopList.style.display = 'initial';\r\n                    webList.style.display = 'initial';\r\n                    break;\r\n                default:\r\n                    mainText.style.display = 'initial';\r\n            }\r\n        };\r\n        let showQr = platform === 'desktop';\r\n        const switchPlatform = () => {\r\n            showPlatform(showQr ? 'none' : platform);\r\n            showQr = !showQr;\r\n        };\r\n        switchPlatform();\r\n        {\r\n            const platformSwitch = document.getElementById(`beacon-switch`);\r\n            if (platformSwitch) {\r\n                platformSwitch.addEventListener('click', switchPlatform);\r\n            }\r\n        }\r\n    }\r\n    return id;\r\n});\r\nexport { closeAlert, closeAlerts, openAlert };\r\n//# sourceMappingURL=Alert.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nlet document;\r\nif (typeof window !== 'undefined' && typeof window.document !== 'undefined') {\r\n    document = window.document;\r\n}\r\nlet timeout;\r\nconst getToastHTML = (config) => {\r\n    const text = config.body;\r\n    return `\r\n  <style>\r\n    :root {\r\n      --animation-duration: 300ms;\r\n    }\r\n    \r\n    @keyframes fadeIn {\r\n      from {\r\n        opacity: 0;\r\n      }\r\n      to {\r\n        opacity: 1;\r\n      }\r\n    }\r\n    \r\n    @keyframes fadeOut {\r\n      from {\r\n        opacity: 1;\r\n      }\r\n      to {\r\n        opacity: 0;\r\n      }\r\n    }\r\n    \r\n    .animated {\r\n      animation-duration: var(--animation-duration);\r\n      animation-fill-mode: both;\r\n    }\r\n    \r\n    .fadeIn {\r\n      animation-name: fadeIn;\r\n    }\r\n    \r\n    .fadeOut {\r\n      animation-name: fadeOut;\r\n    }\r\n\r\n    .beacon-toast__base {\r\n      position: absolute;\r\n      bottom: 16px;\r\n      right: 16px;\r\n      padding: 16px;\r\n      height: 64px;\r\n      z-index: 2147483000;\r\n      background: #fff;\r\n      margin: 0 auto;\r\n      border-radius: 4px;\r\n      overflow: hidden;\r\n      box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n\r\n    .beacon-toast__content {\r\n      padding: 0 0 0 16px;\r\n      font-family: Roboto, Helvetica, sans-serif;\r\n    }\r\n    .spinner .loader,\r\n    .spinner .loader:after {\r\n      border-radius: 50%;\r\n      width: 32px;\r\n      height: 32px;\r\n    }\r\n    .spinner .loader {\r\n      position: relative;\r\n      text-indent: -9999em;\r\n      border-top: 4px solid rgba(56,128,255, 0.2);\r\n      border-right: 4px solid rgba(56,128,255, 0.2);\r\n      border-bottom: 4px solid rgba(56,128,255, 0.2);\r\n      border-left: 4px solid #3880ff;\r\n      -webkit-transform: translateZ(0);\r\n      -ms-transform: translateZ(0);\r\n      transform: translateZ(0);\r\n      -webkit-animation: spinner 1.1s infinite linear;\r\n      animation: spinner 1.1s infinite linear;\r\n    }\r\n    @-webkit-keyframes spinner {\r\n      0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n      }\r\n      100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n      }\r\n    }\r\n    @keyframes spinner {\r\n      0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n      }\r\n      100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n      }\r\n    }\r\n  </style>\r\n  \r\n  <div id=\"beacon-toast\" class=\"beacon-toast__base animated fadeIn\">\r\n    <div class=\"load-container spinner\">\r\n      <div class=\"loader\">Loading...</div>\r\n    </div>\r\n    <div class=\"beacon-toast__content\">\r\n      <p>${text}</p>\r\n    </div>\r\n    ${config.showDoneButton ? '<div id=\"beacon-toast-button-done\"></div>' : ''}\r\n  </div>\r\n`;\r\n};\r\n/**\r\n * Close a toast\r\n */\r\nconst closeToast = () => new Promise((resolve) => {\r\n    const elm = document.getElementById('beacon-toast');\r\n    if (elm) {\r\n        const animationDuration = 300;\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n            timeout = undefined;\r\n        }\r\n        elm.className = elm.className.replace('fadeIn', 'fadeOut');\r\n        window.setTimeout(() => {\r\n            const wrapper = document.getElementById('beacon-toast-wrapper');\r\n            if (wrapper) {\r\n                document.body.removeChild(wrapper);\r\n            }\r\n            resolve();\r\n        }, animationDuration);\r\n    }\r\n    else {\r\n        resolve();\r\n    }\r\n});\r\n/**\r\n * Create a new toast\r\n *\r\n * @param toastConfig Configuration of the toast\r\n */\r\nconst openToast = (toastConfig) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const timer = toastConfig.timer;\r\n    yield closeToast();\r\n    const wrapper = document.createElement('div');\r\n    wrapper.setAttribute('id', 'beacon-toast-wrapper');\r\n    wrapper.innerHTML = getToastHTML(toastConfig);\r\n    if (timer) {\r\n        timeout = window.setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\r\n            yield closeToast();\r\n        }), timer);\r\n    }\r\n    document.body.appendChild(wrapper);\r\n    const doneButton = document.getElementById('beacon-toast-button-done');\r\n    if (doneButton) {\r\n        doneButton.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\r\n            yield closeToast();\r\n        }));\r\n    }\r\n});\r\nexport { closeToast, openToast };\r\n//# sourceMappingURL=Toast.js.map","export const alertTemplates = { \"container\": \"<div id=\\\"beacon-alert-modal-{{id}}\\\" class=\\\"beacon-alert__base animated fadeIn\\\">\\r\\n  <div class=\\\"beacon-modal__wrapper\\\">\\r\\n    <div class=\\\"beacon-modal__header\\\">\\r\\n      <svg\\r\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n        id=\\\"Guides\\\"\\r\\n        x=\\\"0\\\"\\r\\n        y=\\\"0\\\"\\r\\n        version=\\\"1.1\\\"\\r\\n        viewBox=\\\"0 0 179.2 43\\\"\\r\\n        xml:space=\\\"preserve\\\"\\r\\n        width=\\\"140\\\"\\r\\n        height=\\\"40\\\"\\r\\n      >\\r\\n        <style>\\r\\n          .st0 {\\r\\n            fill: #3880ff;\\r\\n          }\\r\\n          .st1 {\\r\\n            fill: #fff;\\r\\n          }\\r\\n        </style>\\r\\n        <path\\r\\n          d=\\\"M45 19v.9c0 .3-.2 7.5-3.4 13.2-3.3 5.6-9.4 9.3-9.7 9.5l-.8.4-1.3-.8-7.6-4.4c-.5-.3-.9-.6-1.4-.9-.4-.3-.7-.5-1.1-.8-.8-.7-1.5-1.4-2.1-2.2-.9-1.1-1.6-2.4-2.1-3.7-.9-2.3-1.3-4.8-1.2-7.5.8-.4 1.6-.6 2.4-.6h.6c-.2 2.4.1 4.6.8 6.6 1 2.8 2.9 5.1 5.5 6.6l7.4 4.3c.2-.1.4-.2.6-.4 1.9-1.3 5.3-4.1 7.3-7.6 2.2-3.9 2.8-8.9 3-10.8L38.8 19c.3-1 .4-2.1.5-3.2L45 19z\\\"\\r\\n          class=\\\"st0\\\"\\r\\n        />\\r\\n        <path\\r\\n          d=\\\"M36.3 4.1v10.3c0 .5 0 1.1-.1 1.6s-.1.9-.2 1.3c-.2 1-.5 2-.9 3-.5 1.3-1.3 2.6-2.2 3.7-1.5 1.9-3.5 3.6-5.9 4.8-.9-.6-1.6-1.3-2-2.4 2.1-1 3.9-2.3 5.2-4 1.9-2.3 3-5.1 3-8.1V5.9l-.6-.3c-2-1-6.1-2.6-10.1-2.6-4.5 0-9.1 2-10.9 2.9v3.6c-1 .3-2 .7-3 1.1V4.1l.8-.4C9.7 3.5 16 0 22.5 0s12.8 3.5 13.1 3.6l.7.5z\\\"\\r\\n          class=\\\"st0\\\"\\r\\n        />\\r\\n        <path\\r\\n          d=\\\"M10.5 16.5l-7.4 4.3v.7c.2 2.1.9 6.5 2.9 10 2.2 3.9 6.2 6.9 7.9 8l3.1-1.8c.8.7 1.6 1.4 2.5 2L13.8 43l-.8-.5c-.3-.2-6.4-3.9-9.7-9.5C.1 27.4 0 20.2 0 19.9V19l1.3-.8L9 13.9c.5-.3.9-.5 1.4-.7.4-.2.8-.4 1.3-.5 1-.4 2-.6 3-.7 1.4-.2 2.9-.2 4.3 0 2.4.3 4.8 1.2 7.1 2.7 0 1-.4 2-1 2.9-1.9-1.3-4-2.2-6-2.5-3.1-.6-6-.1-8.6 1.4z\\\"\\r\\n          class=\\\"st0\\\"\\r\\n        />\\r\\n        <g>\\r\\n          <path\\r\\n            d=\\\"M73.9 23c.9 1 1.3 2.3 1.3 3.7 0 1.9-.6 3.4-1.9 4.5-1.3 1.1-3.1 1.7-5.5 1.7h-8.6v-23h8.4c2.3 0 4.1.5 5.3 1.5 1.2 1 1.8 2.4 1.8 4.2 0 1.5-.4 2.7-1.2 3.6-.8.9-1.8 1.5-3.1 1.8 1.5.3 2.6 1 3.5 2zm-11.7-3h5c1.5 0 2.6-.3 3.4-1 .8-.7 1.2-1.6 1.2-2.8 0-1.2-.4-2.1-1.1-2.8-.8-.7-1.9-1-3.5-1h-4.8V20zm8.7 9.4c.9-.7 1.3-1.7 1.3-3s-.4-2.3-1.3-3c-.9-.7-2.1-1.1-3.7-1.1h-5v8.2h5c1.6-.1 2.8-.4 3.7-1.1zM95.3 24.6H81c.1 2.1.6 3.6 1.7 4.6s2.4 1.5 4 1.5c1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.7 1.8-2.9h3.2c-.2 1.2-.7 2.4-1.5 3.3-.8 1-1.7 1.7-2.9 2.3-1.2.5-2.6.8-4.1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 1.7 0 3.3.4 4.6 1.1 1.3.7 2.3 1.7 3 3 .7 1.2 1 2.6 1 4.1.1.7 0 1.2-.1 1.7zm-3.5-4.8c-.5-.9-1.2-1.6-2.1-2-.9-.4-1.8-.7-2.8-.7-1.6 0-3 .5-4.1 1.5-1.1 1-1.7 2.5-1.8 4.5h11.5c0-1.3-.2-2.4-.7-3.3zM111.2 16c1.2.9 2.1 2 2.5 3.5V15h3v18h-3v-4.6c-.5 1.5-1.3 2.6-2.5 3.5-1.2.9-2.7 1.3-4.4 1.3-1.6 0-3-.4-4.3-1.1-1.2-.7-2.2-1.8-2.9-3.2-.7-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.7-1.4 1.7-2.5 2.9-3.2 1.2-.7 2.7-1.1 4.3-1.1 1.7-.1 3.1.4 4.4 1.2zm-8 3.1c-1.1 1.2-1.7 2.8-1.7 4.8 0 2.1.5 3.7 1.7 4.8 1.1 1.2 2.6 1.8 4.4 1.8 1.2 0 2.2-.3 3.2-.8.9-.5 1.7-1.3 2.2-2.3.5-1 .8-2.1.8-3.5 0-1.3-.3-2.5-.8-3.5s-1.2-1.8-2.2-2.3c-.9-.5-2-.8-3.2-.8-1.9.1-3.3.7-4.4 1.8zM135 16.6c1.5 1.2 2.4 2.9 2.8 4.9h-3.1c-.2-1.3-.8-2.3-1.8-3-1-.7-2.2-1.1-3.6-1.1-1 0-2 .2-2.9.7-.9.5-1.6 1.2-2.1 2.2-.5 1-.8 2.2-.8 3.7s.3 2.7.8 3.7 1.2 1.7 2.1 2.2c.9.5 1.8.7 2.9.7 1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.8 1.8-3h3.1c-.3 2.1-1.3 3.7-2.8 4.9-1.5 1.2-3.4 1.8-5.7 1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 2.3-.1 4.2.6 5.7 1.8zM154.5 15.9c1.4.7 2.4 1.8 3.2 3.2.8 1.4 1.2 3 1.2 4.9 0 1.9-.4 3.5-1.2 4.9-.8 1.4-1.8 2.4-3.2 3.2-1.4.7-2.9 1.1-4.6 1.1-1.7 0-3.3-.4-4.6-1.1-1.4-.7-2.4-1.8-3.2-3.2-.8-1.4-1.2-3-1.2-4.9 0-1.9.4-3.5 1.2-4.9.8-1.4 1.9-2.5 3.2-3.2 1.4-.7 2.9-1.1 4.6-1.1 1.7-.1 3.2.3 4.6 1.1zm-7.6 2.2c-.9.5-1.6 1.2-2.2 2.2-.6 1-.8 2.2-.8 3.7 0 1.4.3 2.7.8 3.6.6 1 1.3 1.7 2.2 2.2.9.5 1.9.7 3 .7s2.1-.2 3-.7c.9-.5 1.6-1.2 2.2-2.2.6-1 .8-2.2.8-3.6 0-1.5-.3-2.7-.8-3.7-.6-1-1.3-1.7-2.2-2.2-.9-.5-1.9-.7-3-.7s-2.1.2-3 .7zM177.3 16.7c1.3 1.3 1.9 3.3 1.9 5.8v10.4h-3V22.8c0-1.8-.5-3.2-1.4-4.1-.9-1-2.2-1.4-3.7-1.4-1.6 0-2.9.5-3.9 1.6s-1.5 2.6-1.5 4.6V33h-3V15h3v4.3c.5-1.5 1.3-2.6 2.4-3.4 1.2-.8 2.5-1.2 4-1.2 2.2 0 3.9.6 5.2 2z\\\"\\r\\n            class=\\\"st1\\\"\\r\\n          />\\r\\n        </g>\\r\\n      </svg>\\r\\n      <div class=\\\"beacon-modal__close__wrapper\\\">\\r\\n        <div id=\\\"beacon-alert-{{id}}-close\\\" class=\\\"beacon-modal__close__icon\\\">\\r\\n          <div class=\\\"beacon-modal__close__line1\\\"></div>\\r\\n          <div class=\\\"beacon-modal__close__line2\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"beacon-modal__base\\\">\\r\\n      <div class=\\\"beacon-modal__content\\\">\\r\\n        <div>\\r\\n          <p class=\\\"beacon-alert__title\\\">\\r\\n            {{callToAction}}\\r\\n          </p>\\r\\n\\r\\n          {{main}}\\r\\n\\r\\n          <div class=\\\"beacon-action__container\\\">\\r\\n            {{buttons}}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", \"default\": { \"html\": \"<div id=\\\"beacon-main-text\\\" class=\\\"beacon-alert__text\\\">\\r\\n  {{body}}\\r\\n</div>\\r\\n\", \"css\": \":root {\\r\\n  --animation-duration: 300ms;\\r\\n}\\r\\n\\r\\n@keyframes fadeIn {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes fadeOut {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.animated {\\r\\n  animation-duration: var(--animation-duration);\\r\\n  animation-fill-mode: both;\\r\\n}\\r\\n\\r\\n.fadeIn {\\r\\n  animation-name: fadeIn;\\r\\n}\\r\\n\\r\\n.fadeOut {\\r\\n  animation-name: fadeOut;\\r\\n}\\r\\n\\r\\n.beacon-modal__wrapper {\\r\\n  position: relative;\\r\\n  transform: translateY(-50%);\\r\\n  top: 50%;\\r\\n  display: inline-block;\\r\\n  z-index: 2147483000;\\r\\n  max-width: 500px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.beacon-modal__base,\\r\\n.beacon-modal__close__wrapper {\\r\\n  background: #fff;\\r\\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.beacon-modal__base {\\r\\n  margin: 0 auto;\\r\\n  border-radius: 32px;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.beacon-modal__header {\\r\\n  padding: 16px 0;\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.beacon-modal__headerLogo {\\r\\n  width: 100%;\\r\\n  max-width: 320px;\\r\\n  margin: 20px auto;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.beacon-alert__text,\\r\\n.beacon-alert__title,\\r\\n.beacon-selection__name,\\r\\np,\\r\\nbutton {\\r\\n  font-family: Roboto, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.beacon-modal__close__wrapper {\\r\\n  position: absolute;\\r\\n  top: 20px;\\r\\n  right: 0;\\r\\n  z-index: 10000;\\r\\n  cursor: pointer;\\r\\n  border-radius: 100%;\\r\\n}\\r\\n\\r\\n.beacon-modal__close__icon {\\r\\n  width: 16px;\\r\\n  height: 16px;\\r\\n  position: relative;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  transform: rotate(45deg);\\r\\n  margin: 8px;\\r\\n}\\r\\n\\r\\n.beacon-modal__close__line1 {\\r\\n  position: absolute;\\r\\n  width: 90%;\\r\\n  border: 1px solid #000;\\r\\n}\\r\\n\\r\\n.beacon-modal__close__line2 {\\r\\n  position: absolute;\\r\\n  width: 90%;\\r\\n  border: 1px solid #000;\\r\\n  transform: rotate(90deg);\\r\\n}\\r\\n\\r\\n.beacon-alert__base {\\r\\n  position: fixed;\\r\\n  top: 0;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  z-index: 2147482999;\\r\\n  background-color: rgb(17 17 17 / 0.84);\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.beacon-alert__text,\\r\\n.beacon-alert__title {\\r\\n  text-align: center;\\r\\n  margin: 0 auto;\\r\\n  padding: 0 0 16px;\\r\\n}\\r\\n\\r\\n.margin__bottom {\\r\\n  margin-bottom: 16px;\\r\\n}\\r\\n\\r\\n.beacon-alert__title {\\r\\n  color: #7c828b;\\r\\n  font-size: 18px;\\r\\n}\\r\\n\\r\\n.beacon-alert__text {\\r\\n  color: #000;\\r\\n  font-size: 14px;\\r\\n}\\r\\n\\r\\n.beacon-modal__button,\\r\\n.beacon-modal__button--outline {\\r\\n  height: 36px;\\r\\n  font-size: 14px;\\r\\n  letter-spacing: 0.84px;\\r\\n  margin-bottom: 4px;\\r\\n  margin-inline-end: 2px;\\r\\n  margin-inline-start: 2px;\\r\\n  margin-left: 2px;\\r\\n  margin-right: 2px;\\r\\n  margin-top: 4px;\\r\\n  padding-inline-end: 15.4px;\\r\\n  padding-inline-start: 15.4px;\\r\\n  padding-left: 15.4px;\\r\\n  padding-right: 15.4px;\\r\\n  overflow-wrap: break-word;\\r\\n  pointer-events: auto;\\r\\n  text-align: center;\\r\\n  border: 2px solid #3880ff;\\r\\n  border-radius: 4px;\\r\\n}\\r\\n\\r\\n.beacon-modal__button {\\r\\n  background: #3880ff;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.beacon-modal__button--outline {\\r\\n  background: #fff;\\r\\n  color: #3880ff;\\r\\n}\\r\\n\\r\\n.beacon-alert__image {\\r\\n  width: 300px;\\r\\n  height: 300px;\\r\\n  box-sizing: border-box;\\r\\n  box-shadow: 0 10px 20px 0 rgba(17, 17, 17, 0.12);\\r\\n  border: 1px solid rgba(17, 17, 17, 0.04);\\r\\n  border-radius: 16px;\\r\\n}\\r\\n\\r\\n.beacon-modal__content {\\r\\n  padding: 24px;\\r\\n}\\r\\n\\r\\n.beacon-action__container {\\r\\n  padding-top: 24px;\\r\\n}\\r\\n\\r\\na {\\r\\n  text-decoration: none;\\r\\n}\\r\\n\" }, \"pair\": { \"html\": \"<div id=\\\"beacon-main-text\\\" class=\\\"beacon-alert__text\\\">\\r\\n  {{body}}\\r\\n</div>\\r\\n\\r\\n<div id=\\\"beacon-ios-list\\\">\\r\\n  <div class=\\\"beacon-selection__container\\\">\\n      <a alt=\\\"Open in AirGap Wallet\\\" href=\\\"airgap-wallet://?type=tzip10&data={{payload}}\\\" target=\\\"_blank\\\" class=\\\"beacon-selection__list\\\">\\n        <div class=\\\"beacon-selection__name\\\">AirGap Wallet</div>\\n        <div>\\n          <img class=\\\"beacon-selection__img\\\" src=\\\"data:image/png;base64,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\\\"/>\\n        </div>\\n      </a>\\n      </div>\\r\\n</div>\\r\\n<div id=\\\"beacon-android-list\\\"><a href=\\\"tezos://?type=tzip10&data={{payload}}\\\" target=\\\"_blank\\\"><button class=\\\"beacon-modal__button\\\">Connect Wallet</button></a></div>\\r\\n<div id=\\\"beacon-desktop-list\\\">\\n      <a alt=\\\"Open in Galleon\\\" href=\\\"galleon://?type=tzip10&data={{payload}}\\\" target=\\\"_blank\\\" class=\\\"beacon-selection__list\\\">\\n        <div class=\\\"beacon-selection__name\\\">Galleon</div>\\n        <div>\\n          <img class=\\\"beacon-selection__img\\\" src=\\\"data:image/png;base64,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\\\"/>\\n        </div>\\n      </a>\\n      </div>\\r\\n<div id=\\\"beacon-web-list\\\">\\n      <a alt=\\\"Open in Kukai\\\" href=\\\"https://preview.kukai.app?type=tzip10&data={{payload}}\\\" target=\\\"_blank\\\" class=\\\"beacon-selection__list\\\">\\n        <div class=\\\"beacon-selection__name\\\">Kukai</div>\\n        <div>\\n          <img class=\\\"beacon-selection__img\\\" src=\\\"data:image/png;base64,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\\\"/>\\n        </div>\\n      </a>\\n      </div>\\r\\n\\r\\n<div>\\r\\n  <button id=\\\"beacon-switch\\\" class=\\\"beacon-modal__button--outline\\\"></button>\\r\\n</div>\\r\\n\", \"css\": \"#beacon-main-text {\\r\\n  display: initial;\\r\\n}\\r\\n.beacon-selection__container {\\r\\n  padding: 16px 16px 0;\\r\\n}\\r\\n.beacon-selection__list {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  justify-content: space-between;\\r\\n  text-decoration: none;\\r\\n  padding-bottom: 24px;\\r\\n  align-items: center;\\r\\n}\\r\\n.beacon-selection__name {\\r\\n  font-size: 1.5rem;\\r\\n  font-weight: 600;\\r\\n  color: #3b3d40;\\r\\n}\\r\\n.beacon-selection__img {\\r\\n  width: 48px;\\r\\n  height: 48px;\\r\\n  box-shadow: 0 4px 12px 0 rgba(17, 17, 17, 0.24);\\r\\n  border-radius: 16px;\\r\\n}\\r\\n\" } };\r\n//# sourceMappingURL=alert-templates.js.map","import { BeaconEvent } from './events';\r\nimport { BeaconMessageType } from '.';\r\nexport const messageEvents = {\r\n    [BeaconMessageType.PermissionRequest]: {\r\n        sent: BeaconEvent.PERMISSION_REQUEST_SENT,\r\n        success: BeaconEvent.PERMISSION_REQUEST_SUCCESS,\r\n        error: BeaconEvent.PERMISSION_REQUEST_ERROR\r\n    },\r\n    [BeaconMessageType.PermissionResponse]: {\r\n        sent: BeaconEvent.UNKNOWN,\r\n        success: BeaconEvent.UNKNOWN,\r\n        error: BeaconEvent.UNKNOWN\r\n    },\r\n    [BeaconMessageType.OperationRequest]: {\r\n        sent: BeaconEvent.OPERATION_REQUEST_SENT,\r\n        success: BeaconEvent.OPERATION_REQUEST_SUCCESS,\r\n        error: BeaconEvent.OPERATION_REQUEST_ERROR\r\n    },\r\n    [BeaconMessageType.OperationResponse]: {\r\n        sent: BeaconEvent.UNKNOWN,\r\n        success: BeaconEvent.UNKNOWN,\r\n        error: BeaconEvent.UNKNOWN\r\n    },\r\n    [BeaconMessageType.SignPayloadRequest]: {\r\n        sent: BeaconEvent.SIGN_REQUEST_SENT,\r\n        success: BeaconEvent.SIGN_REQUEST_SUCCESS,\r\n        error: BeaconEvent.SIGN_REQUEST_ERROR\r\n    },\r\n    [BeaconMessageType.SignPayloadResponse]: {\r\n        sent: BeaconEvent.UNKNOWN,\r\n        success: BeaconEvent.UNKNOWN,\r\n        error: BeaconEvent.UNKNOWN\r\n    },\r\n    [BeaconMessageType.BroadcastRequest]: {\r\n        sent: BeaconEvent.BROADCAST_REQUEST_SENT,\r\n        success: BeaconEvent.BROADCAST_REQUEST_SUCCESS,\r\n        error: BeaconEvent.BROADCAST_REQUEST_ERROR\r\n    },\r\n    [BeaconMessageType.BroadcastResponse]: {\r\n        sent: BeaconEvent.UNKNOWN,\r\n        success: BeaconEvent.UNKNOWN,\r\n        error: BeaconEvent.UNKNOWN\r\n    },\r\n    [BeaconMessageType.Disconnect]: {\r\n        sent: BeaconEvent.UNKNOWN,\r\n        success: BeaconEvent.UNKNOWN,\r\n        error: BeaconEvent.UNKNOWN\r\n    },\r\n    [BeaconMessageType.Error]: {\r\n        sent: BeaconEvent.UNKNOWN,\r\n        success: BeaconEvent.UNKNOWN,\r\n        error: BeaconEvent.UNKNOWN\r\n    }\r\n};\r\n//# sourceMappingURL=beacon-message-events.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { ExposedPromise } from '../../utils/exposed-promise';\r\nimport { generateGUID } from '../../utils/generate-uuid';\r\nimport { getKeypairFromSeed, toHex } from '../../utils/crypto';\r\nimport { StorageKey } from '../..';\r\nimport { BeaconEventHandler } from '../../events';\r\nimport { SDK_VERSION } from '../../constants';\r\n/**\r\n * The beacon client is an abstract client that handles everything that is shared between all other clients.\r\n * Specifically, it handles managing the beaconId and and the local keypair.\r\n */\r\nexport class BeaconClient {\r\n    constructor(config) {\r\n        /** The beaconId is a public key that is used to identify one specific application (dapp or wallet).\r\n         * This is used inside a message to specify the sender, for example.\r\n         */\r\n        this._beaconId = new ExposedPromise();\r\n        this.events = new BeaconEventHandler();\r\n        /**\r\n         * The local keypair that is used for the communication encryption\r\n         */\r\n        this._keyPair = new ExposedPromise();\r\n        if (!config.name) {\r\n            throw new Error('Name not set');\r\n        }\r\n        if (!config.storage) {\r\n            throw new Error('Storage not set');\r\n        }\r\n        this.name = config.name;\r\n        this.storage = config.storage;\r\n        this.initSDK().catch(console.error);\r\n    }\r\n    get beaconId() {\r\n        return this._beaconId.promise;\r\n    }\r\n    get keyPair() {\r\n        return this._keyPair.promise;\r\n    }\r\n    destroy() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.removeBeaconEntriesFromStorage();\r\n        });\r\n    }\r\n    initSDK() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.storage.set(StorageKey.BEACON_SDK_VERSION, SDK_VERSION).catch(console.error);\r\n            this.loadOrCreateBeaconSecret().catch(console.error);\r\n            return this.keyPair.then((keyPair) => {\r\n                this._beaconId.resolve(toHex(keyPair.publicKey));\r\n            });\r\n        });\r\n    }\r\n    removeBeaconEntriesFromStorage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const allKeys = Object.values(StorageKey);\r\n            yield Promise.all(allKeys.map((key) => this.storage.delete(key)));\r\n        });\r\n    }\r\n    /**\r\n     * This method tries to load the seed from storage, if it doesn't exist, a new one will be created and persisted.\r\n     */\r\n    loadOrCreateBeaconSecret() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const storageValue = yield this.storage.get(StorageKey.BEACON_SDK_SECRET_SEED);\r\n            if (storageValue && typeof storageValue === 'string') {\r\n                this._keyPair.resolve(yield getKeypairFromSeed(storageValue));\r\n            }\r\n            else {\r\n                const key = yield generateGUID();\r\n                yield this.storage.set(StorageKey.BEACON_SDK_SECRET_SEED, key);\r\n                this._keyPair.resolve(yield getKeypairFromSeed(key));\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=BeaconClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { ExposedPromise, ExposedPromiseStatus } from '../../utils/exposed-promise';\r\nimport { Serializer, PostMessageTransport, P2PTransport, TransportType, TransportStatus } from '../..';\r\nimport { BeaconEventHandler, BeaconEvent } from '../../events';\r\nimport { availableTransports } from '../../utils/available-transports';\r\nimport { BeaconClient } from '../beacon-client/BeaconClient';\r\nimport { AccountManager } from '../../managers/AccountManager';\r\n/**\r\n * This abstract class handles the a big part of the logic that is shared between the dapp and wallet client.\r\n * For example, it selects and manages the transport and accounts.\r\n */\r\nexport class Client extends BeaconClient {\r\n    constructor(config) {\r\n        var _a;\r\n        super({ name: config.name, storage: config.storage });\r\n        /**\r\n         * How many requests can be sent after another\r\n         */\r\n        this.rateLimit = 2;\r\n        /**\r\n         * The time window in seconds in which the \"rateLimit\" is checked\r\n         */\r\n        this.rateLimitWindowInSeconds = 5;\r\n        /**\r\n         * Stores the times when requests have been made to determine if the rate limit has been reached\r\n         */\r\n        this.requestCounter = [];\r\n        this._transport = new ExposedPromise();\r\n        /**\r\n         * Returns whether or not the transport is successfully connected\r\n         */\r\n        this._isConnected = new ExposedPromise();\r\n        this.events = new BeaconEventHandler(config.eventHandlers);\r\n        this.accountManager = new AccountManager(config.storage);\r\n        this.matrixNodes = (_a = config.matrixNodes) !== null && _a !== void 0 ? _a : [];\r\n        this.handleResponse = (message, connectionInfo) => {\r\n            throw new Error(`not overwritten${JSON.stringify(message)} - ${JSON.stringify(connectionInfo)}`);\r\n        };\r\n    }\r\n    get transport() {\r\n        return this._transport.promise;\r\n    }\r\n    get isConnected() {\r\n        return this._isConnected.promise;\r\n    }\r\n    /**\r\n     * Returns whether or not the transaport is ready\r\n     */\r\n    get ready() {\r\n        return this.transport.then(() => undefined);\r\n    }\r\n    /**\r\n     * Return all locally known accounts\r\n     */\r\n    getAccounts() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.accountManager.getAccounts();\r\n        });\r\n    }\r\n    /**\r\n     * Return the account by ID\r\n     * @param accountIdentifier The ID of an account\r\n     */\r\n    getAccount(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.accountManager.getAccount(accountIdentifier);\r\n        });\r\n    }\r\n    /**\r\n     * Remove the account by ID\r\n     * @param accountIdentifier The ID of an account\r\n     */\r\n    removeAccount(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.accountManager.removeAccount(accountIdentifier);\r\n        });\r\n    }\r\n    /**\r\n     * Remove all locally stored accounts\r\n     */\r\n    removeAllAccounts() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.accountManager.removeAllAccounts();\r\n        });\r\n    }\r\n    /**\r\n     * Add a new request (current timestamp) to the pending requests, remove old ones and check if we are above the limit\r\n     */\r\n    addRequestAndCheckIfRateLimited() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const now = new Date().getTime();\r\n            this.requestCounter = this.requestCounter.filter((date) => date + this.rateLimitWindowInSeconds * 1000 > now);\r\n            this.requestCounter.push(now);\r\n            return this.requestCounter.length > this.rateLimit;\r\n        });\r\n    }\r\n    /**\r\n     * This method initializes the client. It will check if the connection should be established to a\r\n     * browser extension or if the P2P transport should be used.\r\n     *\r\n     * @param isDapp A boolean flag indicating if this is the DAppClient or WalletClient\r\n     * @param transport An optional transport that can be provided by the user\r\n     */\r\n    init(isDapp = true, transport) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._transport.status === ExposedPromiseStatus.RESOLVED) {\r\n                return (yield this.transport).type;\r\n            }\r\n            if (transport) {\r\n                yield this.setTransport(transport); // Let users define their own transport\r\n                return transport.type;\r\n            }\r\n            else {\r\n                return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\r\n                    const keyPair = yield this.keyPair; // We wait for keypair here so the P2P Transport creation is not delayed and causing issues\r\n                    const setTransport = (newTransport) => __awaiter(this, void 0, void 0, function* () {\r\n                        yield this.setTransport(newTransport);\r\n                        resolve(newTransport.type);\r\n                    });\r\n                    const setBeaconTransport = () => __awaiter(this, void 0, void 0, function* () {\r\n                        const newTransport = new P2PTransport(this.name, keyPair, this.storage, this.events, this.matrixNodes, isDapp);\r\n                        return setTransport(newTransport);\r\n                    });\r\n                    const setBeaconTransportTimeout = window.setTimeout(setBeaconTransport, 200);\r\n                    return availableTransports.extension.then((postMessageAvailable) => __awaiter(this, void 0, void 0, function* () {\r\n                        if (setBeaconTransportTimeout) {\r\n                            window.clearTimeout(setBeaconTransportTimeout);\r\n                        }\r\n                        if (postMessageAvailable) {\r\n                            return setTransport(new PostMessageTransport(this.name, keyPair, this.storage, isDapp));\r\n                        }\r\n                        else {\r\n                            return setBeaconTransport();\r\n                        }\r\n                    }));\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Return all known peers\r\n     */\r\n    getPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ((yield this.transport).type === TransportType.P2P) {\r\n                return (yield this.transport).getPeers(); // TODO: Also support other transports?\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Add a new peer to the known peers\r\n     * @param peer The new peer to add\r\n     */\r\n    addPeer(peer) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ((yield this.transport).type === TransportType.P2P) {\r\n                return (yield this.transport).addPeer(peer); // TODO: Also support other transports?\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * The method will attempt to initiate a connection using the active transport method.\r\n     * If the method is called multiple times while it is connecting (meaning the initial connect didn't finish),\r\n     * the transport will try to reconnect.\r\n     */\r\n    _connect() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const transport = yield this.transport;\r\n            if (transport.connectionStatus === TransportStatus.NOT_CONNECTED) {\r\n                yield transport.connect();\r\n                transport\r\n                    .addListener((message, connectionInfo) => __awaiter(this, void 0, void 0, function* () {\r\n                    if (typeof message === 'string') {\r\n                        const deserializedMessage = (yield new Serializer().deserialize(message));\r\n                        this.handleResponse(deserializedMessage, connectionInfo);\r\n                    }\r\n                }))\r\n                    .catch((error) => console.log(error));\r\n                this._isConnected.resolve(true);\r\n            }\r\n            else if (transport.connectionStatus === TransportStatus.CONNECTING) {\r\n                yield transport.reconnect();\r\n            }\r\n            else {\r\n                // NO-OP\r\n            }\r\n            return this._isConnected.promise;\r\n        });\r\n    }\r\n    /**\r\n     * A \"setter\" for when the transport needs to be changed.\r\n     */\r\n    setTransport(transport) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._transport.isSettled()) {\r\n                // If the promise has already been resolved we need to create a new one.\r\n                this._transport = ExposedPromise.resolve(transport);\r\n            }\r\n            else {\r\n                this._transport.resolve(transport);\r\n            }\r\n            yield this.events.emit(BeaconEvent.ACTIVE_TRANSPORT_SET, transport);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Client.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { ExposedPromise } from '../../utils/exposed-promise';\r\nimport { Logger } from '../../utils/Logger';\r\nimport { generateGUID } from '../../utils/generate-uuid';\r\nimport { BeaconEvent } from '../../events';\r\nimport { BEACON_VERSION } from '../../constants';\r\nimport { getAddressFromPublicKey } from '../../utils/crypto';\r\nimport { Client, TransportType, StorageKey, BeaconMessageType, PermissionScope, NetworkType, Serializer, LocalStorage, BeaconError } from '../..';\r\nimport { messageEvents } from '../../beacon-message-events';\r\nimport { getAccountIdentifier } from '../../utils/get-account-identifier';\r\nimport { BeaconErrorType } from '../../types/BeaconErrorType';\r\nconst logger = new Logger('DAppClient');\r\n/**\r\n * The DAppClient has to be used in decentralized applications. It handles all the logic related to connecting to beacon-compatible\r\n * wallets and sending requests.\r\n */\r\nexport class DAppClient extends Client {\r\n    constructor(config) {\r\n        super(Object.assign({ storage: config.storage ? config.storage : new LocalStorage() }, config));\r\n        /**\r\n         * A map of requests that are currently \"open\", meaning we have sent them to a wallet and are still awaiting a response.\r\n         */\r\n        this.openRequests = new Map();\r\n        /**\r\n         * The currently active account. For all requests that are associated to a specific request (operation request, signing request),\r\n         * the active account is used to determine the network and destination wallet\r\n         */\r\n        this._activeAccount = new ExposedPromise();\r\n        this.iconUrl = config.iconUrl;\r\n        this.storage\r\n            .get(StorageKey.ACTIVE_ACCOUNT)\r\n            .then((activeAccountIdentifier) => __awaiter(this, void 0, void 0, function* () {\r\n            if (activeAccountIdentifier) {\r\n                yield this.setActiveAccount(yield this.accountManager.getAccount(activeAccountIdentifier));\r\n            }\r\n            else {\r\n                yield this.setActiveAccount(undefined);\r\n            }\r\n        }))\r\n            .catch((storageError) => __awaiter(this, void 0, void 0, function* () {\r\n            yield this.setActiveAccount(undefined);\r\n            console.error(storageError);\r\n        }));\r\n        this.handleResponse = (message, connectionInfo) => __awaiter(this, void 0, void 0, function* () {\r\n            const openRequest = this.openRequests.get(message.id);\r\n            if (openRequest) {\r\n                if (message.type === BeaconMessageType.Error) {\r\n                    openRequest.reject(message);\r\n                }\r\n                else {\r\n                    openRequest.resolve({ message, connectionInfo });\r\n                }\r\n                this.openRequests.delete(message.id);\r\n            }\r\n            else {\r\n                if (message.type === BeaconMessageType.Disconnect) {\r\n                    const transport = yield this.transport;\r\n                    if (transport.type === TransportType.P2P) {\r\n                        // TODO: Also handle postmessage transport\r\n                        yield transport.removePeer({\r\n                            name: '',\r\n                            publicKey: message.senderId,\r\n                            version: BEACON_VERSION,\r\n                            relayServer: ''\r\n                        });\r\n                        yield this.events.emit(BeaconEvent.P2P_CHANNEL_CLOSED);\r\n                    }\r\n                }\r\n                else {\r\n                    logger.error('handleResponse', 'no request found for id ', message.id);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Returns the status if the transport is connected\r\n     */\r\n    get isConnected() {\r\n        return this._isConnected.promise;\r\n    }\r\n    init(_isDapp, transport) {\r\n        const _super = Object.create(null, {\r\n            init: { get: () => super.init }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const initResponse = yield _super.init.call(this, true, transport);\r\n            return initResponse;\r\n        });\r\n    }\r\n    /**\r\n     * Returns the active account\r\n     */\r\n    getActiveAccount() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this._activeAccount.promise;\r\n        });\r\n    }\r\n    /**\r\n     * Sets the active account\r\n     *\r\n     * @param account The account that will be set as the active account\r\n     */\r\n    setActiveAccount(account) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._activeAccount.isSettled()) {\r\n                // If the promise has already been resolved we need to create a new one.\r\n                this._activeAccount = ExposedPromise.resolve(account);\r\n            }\r\n            else {\r\n                this._activeAccount.resolve(account);\r\n            }\r\n            yield this.storage.set(StorageKey.ACTIVE_ACCOUNT, account ? account.accountIdentifier : undefined);\r\n            yield this.events.emit(BeaconEvent.ACTIVE_ACCOUNT_SET, account);\r\n            return;\r\n        });\r\n    }\r\n    /**\r\n     * Returns the metadata of this DApp\r\n     */\r\n    getAppMetadata() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                senderId: yield this.beaconId,\r\n                name: this.name,\r\n                icon: this.iconUrl\r\n            };\r\n        });\r\n    }\r\n    /**\r\n     * The method will attempt to initiate a connection using the active transport method.\r\n     * If the method is called multiple times while it is connecting (meaning the initial connect didn't finish),\r\n     * the transport will try to reconnect.\r\n     */\r\n    connect() {\r\n        const _super = Object.create(null, {\r\n            _connect: { get: () => super._connect }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return _super._connect.call(this);\r\n        });\r\n    }\r\n    /**\r\n     * Will remove the account from the local storage and set a new active account if necessary.\r\n     *\r\n     * @param accountIdentifier ID of the account\r\n     */\r\n    removeAccount(accountIdentifier) {\r\n        const _super = Object.create(null, {\r\n            removeAccount: { get: () => super.removeAccount }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const removeAccountResult = _super.removeAccount.call(this, accountIdentifier);\r\n            const activeAccount = yield this.getActiveAccount();\r\n            if (activeAccount && activeAccount.accountIdentifier === accountIdentifier) {\r\n                yield this.setActiveAccount(undefined);\r\n            }\r\n            return removeAccountResult;\r\n        });\r\n    }\r\n    /**\r\n     * Remove all accounts and set active account to undefined\r\n     */\r\n    removeAllAccounts() {\r\n        const _super = Object.create(null, {\r\n            removeAllAccounts: { get: () => super.removeAllAccounts }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield _super.removeAllAccounts.call(this);\r\n            yield this.setActiveAccount(undefined);\r\n        });\r\n    }\r\n    /**\r\n     * Removes a peer and all the accounts that have been connected through that peer\r\n     *\r\n     * @param peer Peer to be removed\r\n     */\r\n    removePeer(peer) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ((yield this.transport).type === TransportType.P2P) {\r\n                // TODO: Allow for other transport types?\r\n                const removePeerResult = (yield this.transport).removePeer(peer);\r\n                yield this.removeAccountsForPeers([peer]);\r\n                return removePeerResult;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Remove all peers and all accounts that have been connected through those peers\r\n     */\r\n    removeAllPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ((yield this.transport).type === TransportType.P2P) {\r\n                // TODO: Allow for other transport types?\r\n                const peers = yield (yield this.transport).getPeers();\r\n                const removePeerResult = (yield this.transport).removeAllPeers();\r\n                yield this.removeAccountsForPeers(peers);\r\n                return removePeerResult;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Allows the user to subscribe to specific events that are fired in the SDK\r\n     *\r\n     * @param internalEvent The event to subscribe to\r\n     * @param eventCallback The callback that will be called when the event occurs\r\n     */\r\n    subscribeToEvent(internalEvent, eventCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.events.on(internalEvent, eventCallback);\r\n        });\r\n    }\r\n    /**\r\n     * Check if we have permissions to send the specific message type to the active account.\r\n     * If no active account is set, only permission requests are allowed.\r\n     *\r\n     * @param type The type of the message\r\n     */\r\n    checkPermissions(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (type === BeaconMessageType.PermissionRequest) {\r\n                return true;\r\n            }\r\n            const activeAccount = yield this.getActiveAccount();\r\n            if (!activeAccount) {\r\n                throw yield this.sendInternalError('No active account set!');\r\n            }\r\n            const permissions = activeAccount.scopes;\r\n            switch (type) {\r\n                case BeaconMessageType.OperationRequest:\r\n                    return permissions.includes(PermissionScope.OPERATION_REQUEST);\r\n                case BeaconMessageType.SignPayloadRequest:\r\n                    return permissions.includes(PermissionScope.SIGN);\r\n                case BeaconMessageType.BroadcastRequest:\r\n                    return true;\r\n                default:\r\n                    return false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Send a permission request to the DApp. This should be done as the first step. The wallet will respond\r\n     * with an publicKey and permissions that were given. The account returned will be set as the \"activeAccount\"\r\n     * and will be used for the following requests.\r\n     *\r\n     * @param input The message details we need to prepare the PermissionRequest message.\r\n     */\r\n    requestPermissions(input) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const request = {\r\n                appMetadata: yield this.getAppMetadata(),\r\n                type: BeaconMessageType.PermissionRequest,\r\n                network: input && input.network ? input.network : { type: NetworkType.MAINNET },\r\n                scopes: input && input.scopes\r\n                    ? input.scopes\r\n                    : [PermissionScope.OPERATION_REQUEST, PermissionScope.SIGN]\r\n            };\r\n            const { message, connectionInfo } = yield this.makeRequest(request).catch((requestError) => __awaiter(this, void 0, void 0, function* () {\r\n                throw this.handleRequestError(request, requestError);\r\n            }));\r\n            // TODO: Migration code. Remove sometime after 1.0.0 release.\r\n            const publicKey = message.publicKey || message.pubkey || message.pubKey;\r\n            const address = yield getAddressFromPublicKey(publicKey);\r\n            const accountInfo = {\r\n                accountIdentifier: yield getAccountIdentifier(address, message.network),\r\n                senderId: message.senderId,\r\n                origin: {\r\n                    type: connectionInfo.origin,\r\n                    id: connectionInfo.id\r\n                },\r\n                address,\r\n                publicKey,\r\n                network: message.network,\r\n                scopes: message.scopes,\r\n                threshold: message.threshold,\r\n                connectedAt: new Date().getTime()\r\n            };\r\n            yield this.accountManager.addAccount(accountInfo);\r\n            yield this.setActiveAccount(accountInfo);\r\n            const { senderId, network, scopes, threshold } = message;\r\n            const output = {\r\n                senderId,\r\n                address,\r\n                network,\r\n                scopes,\r\n                publicKey,\r\n                threshold\r\n            }; // TODO: Should we return the account info here?\r\n            yield this.notifySuccess(request, {\r\n                account: accountInfo,\r\n                output,\r\n                connectionContext: connectionInfo\r\n            });\r\n            return output;\r\n        });\r\n    }\r\n    /**\r\n     * This method will send a \"SignPayloadRequest\" to the wallet. This method is meant to be used to sign\r\n     * arbitrary data (eg. a string). It will return the signature in the format of \"edsig...\"\r\n     *\r\n     * @param input The message details we need to prepare the SignPayloadRequest message.\r\n     */\r\n    requestSignPayload(input) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!input.payload) {\r\n                throw yield this.sendInternalError('Payload must be provided');\r\n            }\r\n            const activeAccount = yield this.getActiveAccount();\r\n            if (!activeAccount) {\r\n                throw yield this.sendInternalError('No active account!');\r\n            }\r\n            const request = {\r\n                type: BeaconMessageType.SignPayloadRequest,\r\n                payload: input.payload,\r\n                sourceAddress: input.sourceAddress || activeAccount.address\r\n            };\r\n            const { message, connectionInfo } = yield this.makeRequest(request).catch((requestError) => __awaiter(this, void 0, void 0, function* () {\r\n                throw this.handleRequestError(request, requestError);\r\n            }));\r\n            const { senderId, signature } = message;\r\n            const output = { senderId, signature };\r\n            yield this.notifySuccess(request, {\r\n                account: activeAccount,\r\n                output,\r\n                connectionContext: connectionInfo\r\n            });\r\n            return output;\r\n        });\r\n    }\r\n    /**\r\n     * This method sends an OperationRequest to the wallet. This method should be used for all kinds of operations,\r\n     * eg. transaction or delegation. Not all properties have to be provided. Data like \"counter\" and fees will be\r\n     * fetched and calculated by the wallet (but they can still be provided if required).\r\n     *\r\n     * @param input The message details we need to prepare the OperationRequest message.\r\n     */\r\n    requestOperation(input) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!input.operationDetails) {\r\n                throw yield this.sendInternalError('Operation details must be provided');\r\n            }\r\n            const activeAccount = yield this.getActiveAccount();\r\n            if (!activeAccount) {\r\n                throw yield this.sendInternalError('No active account!');\r\n            }\r\n            const request = {\r\n                type: BeaconMessageType.OperationRequest,\r\n                network: activeAccount.network || { type: NetworkType.MAINNET },\r\n                operationDetails: input.operationDetails,\r\n                sourceAddress: activeAccount.address || ''\r\n            };\r\n            const { message, connectionInfo } = yield this.makeRequest(request).catch((requestError) => __awaiter(this, void 0, void 0, function* () {\r\n                throw this.handleRequestError(request, requestError);\r\n            }));\r\n            const { senderId, transactionHash } = message;\r\n            const output = { senderId, transactionHash };\r\n            yield this.notifySuccess(request, {\r\n                account: activeAccount,\r\n                output,\r\n                connectionContext: connectionInfo\r\n            });\r\n            return { senderId, transactionHash };\r\n        });\r\n    }\r\n    /**\r\n     * Sends a \"BroadcastRequest\" to the wallet. This method can be used to inject an already signed transaction\r\n     * to the network.\r\n     *\r\n     * @param input The message details we need to prepare the BroadcastRequest message.\r\n     */\r\n    requestBroadcast(input) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!input.signedTransaction) {\r\n                throw yield this.sendInternalError('Signed transaction must be provided');\r\n            }\r\n            const network = input.network || { type: NetworkType.MAINNET };\r\n            const request = {\r\n                type: BeaconMessageType.BroadcastRequest,\r\n                network,\r\n                signedTransaction: input.signedTransaction\r\n            };\r\n            const { message, connectionInfo } = yield this.makeRequest(request).catch((requestError) => __awaiter(this, void 0, void 0, function* () {\r\n                throw this.handleRequestError(request, requestError);\r\n            }));\r\n            const { senderId, transactionHash } = message;\r\n            const output = { senderId, transactionHash };\r\n            yield this.notifySuccess(request, { network, output, connectionContext: connectionInfo });\r\n            return { senderId, transactionHash };\r\n        });\r\n    }\r\n    /**\r\n     * This method will emit an internal error message.\r\n     *\r\n     * @param errorMessage The error message to send.\r\n     */\r\n    sendInternalError(errorMessage) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.events.emit(BeaconEvent.INTERNAL_ERROR, errorMessage);\r\n            throw new Error(errorMessage);\r\n        });\r\n    }\r\n    /**\r\n     * This method will remove all accounts associated with a specific peer.\r\n     *\r\n     * @param peersToRemove An array of peers for which accounts should be removed\r\n     */\r\n    removeAccountsForPeers(peersToRemove) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const accounts = yield this.accountManager.getAccounts();\r\n            const peerIdsToRemove = peersToRemove.map((peer) => peer.publicKey);\r\n            // Remove all accounts with origin of the specified peer\r\n            const accountsToRemove = accounts.filter((account) => peerIdsToRemove.includes(account.origin.id));\r\n            const accountIdentifiersToRemove = accountsToRemove.map((accountInfo) => accountInfo.accountIdentifier);\r\n            yield this.accountManager.removeAccounts(accountIdentifiersToRemove);\r\n            // Check if one of the accounts that was removed was the active account and if yes, set it to undefined\r\n            const activeAccount = yield this.getActiveAccount();\r\n            if (activeAccount) {\r\n                if (accountIdentifiersToRemove.includes(activeAccount.accountIdentifier)) {\r\n                    yield this.setActiveAccount(undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * This message handles errors that we receive from the wallet.\r\n     *\r\n     * @param request The request we sent\r\n     * @param beaconError The error we received\r\n     */\r\n    handleRequestError(request, beaconError) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (beaconError.errorType) {\r\n                let errorCallback = () => Promise.resolve();\r\n                if (beaconError.errorType === BeaconErrorType.NO_PRIVATE_KEY_FOUND_ERROR) {\r\n                    errorCallback = () => __awaiter(this, void 0, void 0, function* () {\r\n                        const operationRequest = request;\r\n                        // if the account we requested is not available, we remove it locally\r\n                        let accountInfo;\r\n                        if (operationRequest.sourceAddress && operationRequest.network) {\r\n                            const accountIdentifier = yield getAccountIdentifier(operationRequest.sourceAddress, operationRequest.network);\r\n                            accountInfo = yield this.getAccount(accountIdentifier);\r\n                            if (accountInfo) {\r\n                                yield this.removeAccount(accountInfo.accountIdentifier);\r\n                            }\r\n                        }\r\n                        // // Check if we currently have an active account. This shouldn't be the case because it has been removed above.\r\n                        // // But because there could be a huge delay between request/response, it's possible that it has been set to a different account.\r\n                        // const activeAccount = await this.getActiveAccount()\r\n                        // if (!activeAccount) {\r\n                        //   // send new permission request\r\n                        //   await this.requestPermissions({\r\n                        //     network: accountInfo?.network,\r\n                        //     scopes: accountInfo?.scopes\r\n                        //   })\r\n                        // }\r\n                        // // send operation again\r\n                        // await this.requestOperation({ operationDetails: operationRequest.operationDetails })\r\n                    });\r\n                }\r\n                this.events\r\n                    .emit(messageEvents[request.type].error, beaconError, errorCallback)\r\n                    .catch((emitError) => console.warn(emitError));\r\n                throw BeaconError.getError(beaconError.errorType);\r\n            }\r\n            console.error('requestError', beaconError);\r\n            throw beaconError;\r\n        });\r\n    }\r\n    /**\r\n     * This message will send an event when we receive a successful response to one of the requests we sent.\r\n     *\r\n     * @param request The request we sent\r\n     * @param response The response we received\r\n     */\r\n    notifySuccess(request, response) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.events\r\n                .emit(messageEvents[request.type].success, response)\r\n                .catch((emitError) => console.warn(emitError));\r\n        });\r\n    }\r\n    /**\r\n     * This method handles sending of requests to the DApp. It makes sure that the DAppClient is initialized and connected\r\n     * to the transport. After that rate limits and permissions will be checked, an ID is attached and the request is sent\r\n     * to the DApp over the transport.\r\n     *\r\n     * @param requestInput The BeaconMessage to be sent to the wallet\r\n     * @param account The account that the message will be sent to\r\n     */\r\n    makeRequest(requestInput, account) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('makeRequest');\r\n            yield this.init();\r\n            logger.log('makeRequest', 'after init');\r\n            yield this.connect();\r\n            logger.log('makeRequest', 'after connecting');\r\n            if (yield this.addRequestAndCheckIfRateLimited()) {\r\n                this.events\r\n                    .emit(BeaconEvent.LOCAL_RATE_LIMIT_REACHED)\r\n                    .catch((emitError) => console.warn(emitError));\r\n                throw new Error('rate limit reached');\r\n            }\r\n            if (!(yield this.checkPermissions(requestInput.type))) {\r\n                this.events.emit(BeaconEvent.NO_PERMISSIONS).catch((emitError) => console.warn(emitError));\r\n                throw new Error('No permissions to send this request to wallet!');\r\n            }\r\n            if (!this.beaconId) {\r\n                throw yield this.sendInternalError('BeaconID not defined');\r\n            }\r\n            const request = Object.assign({ id: yield generateGUID(), version: BEACON_VERSION, senderId: yield this.beaconId }, requestInput);\r\n            const exposed = new ExposedPromise();\r\n            this.addOpenRequest(request.id, exposed);\r\n            const payload = yield new Serializer().serialize(request);\r\n            let origin;\r\n            if (account) {\r\n                origin = account.senderId;\r\n            }\r\n            yield (yield this.transport).send(payload, origin);\r\n            this.events\r\n                .emit(messageEvents[requestInput.type].sent)\r\n                .catch((emitError) => console.warn(emitError));\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return exposed.promise; // TODO: fix type\r\n        });\r\n    }\r\n    /**\r\n     * Adds a requests to the \"openRequests\" set so we know what messages have already been answered/handled.\r\n     *\r\n     * @param id The ID of the message\r\n     * @param promise A promise that resolves once the response for that specific message is received\r\n     */\r\n    addOpenRequest(id, promise) {\r\n        logger.log('addOpenRequest', this.name, `adding request ${id} and waiting for answer`);\r\n        this.openRequests.set(id, promise);\r\n    }\r\n}\r\n//# sourceMappingURL=DAppClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Serializer, Client, LocalStorage, TransportType } from '../..';\r\nimport { PermissionManager } from '../../managers/PermissionManager';\r\nimport { AppMetadataManager } from '../../managers/AppMetadataManager';\r\nimport { IncomingRequestInterceptor } from '../../interceptors/IncomingRequestInterceptor';\r\nimport { OutgoingResponseInterceptor } from '../../interceptors/OutgoingResponseInterceptor';\r\n/**\r\n * The WalletClient has to be used in the wallet. It handles all the logic related to connecting to beacon-compatible\r\n * dapps and handling/responding to requests.\r\n */\r\nexport class WalletClient extends Client {\r\n    constructor(config) {\r\n        super(Object.assign({ storage: new LocalStorage() }, config));\r\n        /**\r\n         * This array stores pending requests, meaning requests we received and have not yet handled / sent a response.\r\n         */\r\n        this.pendingRequests = [];\r\n        this.permissionManager = new PermissionManager(new LocalStorage());\r\n        this.appMetadataManager = new AppMetadataManager(new LocalStorage());\r\n    }\r\n    init() {\r\n        const _super = Object.create(null, {\r\n            init: { get: () => super.init }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return _super.init.call(this, false);\r\n        });\r\n    }\r\n    /**\r\n     * This method initiates a connection to the P2P network and registers a callback that will be called\r\n     * whenever a message is received.\r\n     *\r\n     * @param newMessageCallback The callback that will be invoked for every message the transport receives.\r\n     */\r\n    connect(newMessageCallback) {\r\n        const _super = Object.create(null, {\r\n            _connect: { get: () => super._connect }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.handleResponse = (message, connectionInfo) => __awaiter(this, void 0, void 0, function* () {\r\n                if (!this.pendingRequests.some((request) => request.id === message.id)) {\r\n                    this.pendingRequests.push(message);\r\n                    yield IncomingRequestInterceptor.intercept({\r\n                        message,\r\n                        connectionInfo,\r\n                        appMetadataManager: this.appMetadataManager,\r\n                        interceptorCallback: newMessageCallback\r\n                    });\r\n                }\r\n            });\r\n            return _super._connect.call(this);\r\n        });\r\n    }\r\n    /**\r\n     * This method sends a response for a specific request back to the DApp\r\n     *\r\n     * @param message The BeaconResponseMessage that will be sent back to the DApp\r\n     */\r\n    respond(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const request = this.pendingRequests.find((pendingRequest) => pendingRequest.id === message.id);\r\n            if (!request) {\r\n                throw new Error('No matching request found!');\r\n            }\r\n            this.pendingRequests = this.pendingRequests.filter((pendingRequest) => pendingRequest.id !== message.id);\r\n            yield OutgoingResponseInterceptor.intercept({\r\n                senderId: yield this.beaconId,\r\n                request,\r\n                message,\r\n                permissionManager: this.permissionManager,\r\n                appMetadataManager: this.appMetadataManager,\r\n                interceptorCallback: (response) => __awaiter(this, void 0, void 0, function* () {\r\n                    yield this.respondToMessage(response);\r\n                })\r\n            });\r\n        });\r\n    }\r\n    getAppMetadataList() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.appMetadataManager.getAppMetadataList();\r\n        });\r\n    }\r\n    getAppMetadata(senderId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.appMetadataManager.getAppMetadata(senderId);\r\n        });\r\n    }\r\n    removeAppMetadata(senderId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.appMetadataManager.removeAppMetadata(senderId);\r\n        });\r\n    }\r\n    removeAllAppMetadata() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.appMetadataManager.removeAllAppMetadata();\r\n        });\r\n    }\r\n    getPermissions() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.permissionManager.getPermissions();\r\n        });\r\n    }\r\n    getPermission(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.permissionManager.getPermission(accountIdentifier);\r\n        });\r\n    }\r\n    removePermission(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.permissionManager.removePermission(accountIdentifier);\r\n        });\r\n    }\r\n    removeAllPermissions() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.permissionManager.removeAllPermissions();\r\n        });\r\n    }\r\n    removePeer(peer) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ((yield this.transport).type === TransportType.P2P) {\r\n                const removePeerResult = (yield this.transport).removePeer(peer);\r\n                yield this.removePermissionsForPeers([peer]);\r\n                return removePeerResult;\r\n            }\r\n        });\r\n    }\r\n    removeAllPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ((yield this.transport).type === TransportType.P2P) {\r\n                const peers = yield (yield this.transport).getPeers();\r\n                const removePeerResult = (yield this.transport).removeAllPeers();\r\n                yield this.removePermissionsForPeers(peers);\r\n                return removePeerResult;\r\n            }\r\n        });\r\n    }\r\n    removePermissionsForPeers(peersToRemove) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const permissions = yield this.permissionManager.getPermissions();\r\n            const peerIdsToRemove = peersToRemove.map((peer) => peer.publicKey);\r\n            // Remove all permissions with origin of the specified peer\r\n            const permissionsToRemove = permissions.filter((permission) => peerIdsToRemove.includes(permission.appMetadata.senderId));\r\n            const permissionIdentifiersToRemove = permissionsToRemove.map((permissionInfo) => permissionInfo.accountIdentifier);\r\n            yield this.permissionManager.removePermissions(permissionIdentifiersToRemove);\r\n        });\r\n    }\r\n    /**\r\n     * An internal method to send a BeaconMessage to the DApp\r\n     *\r\n     * @param message Send a message back to the DApp\r\n     */\r\n    respondToMessage(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const serializedMessage = yield new Serializer().serialize(message);\r\n            yield (yield this.transport).send(serializedMessage);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=WalletClient.js.map","export const SDK_VERSION = '2.0.0-beta.10';\r\nexport const BEACON_VERSION = '2';\r\nexport const DEBUG = false;\r\n//# sourceMappingURL=constants.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class AbortedBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.ABORTED_ERROR, 'The action was aborted by the user.');\r\n        this.name = 'UnknownBeaconError';\r\n        this.title = 'Error';\r\n    }\r\n}\r\n//# sourceMappingURL=AbortedBeaconError.js.map","import { assertNever } from '../utils/assert-never';\r\nimport { AbortedBeaconError, BeaconErrorType, UnknownBeaconError, NetworkNotSupportedBeaconError, NoAddressBeaconError, NoPrivateKeyBeaconError, NotGrantedBeaconError, ParametersInvalidBeaconError, TooManyOperationsBeaconError, TransactionInvalidBeaconError } from '..';\r\nexport class BeaconError {\r\n    constructor(errorType, message) {\r\n        this.name = 'BeaconError';\r\n        this.title = 'Error'; // Visible in the UI\r\n        this.message = `[${errorType}]:${message}`;\r\n        this.description = message;\r\n    }\r\n    static getError(errorType) {\r\n        switch (errorType) {\r\n            case BeaconErrorType.BROADCAST_ERROR:\r\n                return new NetworkNotSupportedBeaconError();\r\n            case BeaconErrorType.NETWORK_NOT_SUPPORTED:\r\n                return new NetworkNotSupportedBeaconError();\r\n            case BeaconErrorType.NO_ADDRESS_ERROR:\r\n                return new NoAddressBeaconError();\r\n            case BeaconErrorType.NO_PRIVATE_KEY_FOUND_ERROR:\r\n                return new NoPrivateKeyBeaconError();\r\n            case BeaconErrorType.NOT_GRANTED_ERROR:\r\n                return new NotGrantedBeaconError();\r\n            case BeaconErrorType.PARAMETERS_INVALID_ERROR:\r\n                return new ParametersInvalidBeaconError();\r\n            case BeaconErrorType.TOO_MANY_OPERATIONS:\r\n                return new TooManyOperationsBeaconError();\r\n            case BeaconErrorType.TRANSACTION_INVALID_ERROR:\r\n                return new TransactionInvalidBeaconError();\r\n            case BeaconErrorType.ABORTED_ERROR:\r\n                return new AbortedBeaconError();\r\n            case BeaconErrorType.UNKNOWN_ERROR:\r\n                return new UnknownBeaconError();\r\n            default:\r\n                assertNever(errorType);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=BeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class BroadcastBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.BROADCAST_ERROR, 'The transaction could not be broadcast to the network. Please try again.');\r\n        this.name = 'BroadcastBeaconError';\r\n        this.title = 'Broadcast Error';\r\n    }\r\n}\r\n//# sourceMappingURL=BroadcastBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class NetworkNotSupportedBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.NETWORK_NOT_SUPPORTED, 'The wallet does not support this network. Please select another one.');\r\n        this.name = 'NetworkNotSupportedBeaconError';\r\n        this.title = 'Network Error';\r\n    }\r\n}\r\n//# sourceMappingURL=NetworkNotSupportedBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class NoAddressBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.NO_ADDRESS_ERROR, 'The wallet does not have an account set up. Please make sure to set up your wallet and try again.');\r\n        this.name = 'NoAddressBeaconError';\r\n        this.title = 'No Address';\r\n    }\r\n}\r\n//# sourceMappingURL=NoAddressBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class NoPrivateKeyBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.NO_PRIVATE_KEY_FOUND_ERROR, 'The account you are trying to interact with is not available. Please make sure to add the account to your wallet and try again.');\r\n        this.name = 'NoPrivateKeyBeaconError';\r\n        this.title = 'Account Not Found';\r\n    }\r\n}\r\n//# sourceMappingURL=NoPrivateKeyBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class NotGrantedBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.NOT_GRANTED_ERROR, 'You do not have the necessary permissions to perform this action. Please initiate another permission request and give the necessary permissions.');\r\n        this.name = 'NotGrantedBeaconError';\r\n        this.title = 'Permission Not Granted';\r\n    }\r\n}\r\n//# sourceMappingURL=NotGrantedBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class ParametersInvalidBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.PARAMETERS_INVALID_ERROR, 'Some of the parameters you provided are invalid and the request could not be completed. Please check your inputs and try again.');\r\n        this.name = 'ParametersInvalidBeaconError';\r\n        this.title = 'Parameters Invalid';\r\n    }\r\n}\r\n//# sourceMappingURL=ParametersInvalidBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class TooManyOperationsBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.TOO_MANY_OPERATIONS, 'The request contains too many transactions. Please include fewer operations and try again.');\r\n        this.name = 'TooManyOperationsBeaconError';\r\n        this.title = 'Too Many Operations';\r\n    }\r\n}\r\n//# sourceMappingURL=TooManyOperationsBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class TransactionInvalidBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.TRANSACTION_INVALID_ERROR, 'The transaction is invalid and the node did not accept it.');\r\n        this.name = 'TransactionInvalidBeaconError';\r\n        this.title = 'Transaction Invalid';\r\n    }\r\n}\r\n//# sourceMappingURL=TransactionInvalidBeaconError.js.map","import { BeaconError, BeaconErrorType } from '..';\r\nexport class UnknownBeaconError extends BeaconError {\r\n    constructor() {\r\n        super(BeaconErrorType.UNKNOWN_ERROR, 'An unknown error occured. Please try again or report it to a developer.');\r\n        this.name = 'UnknownBeaconError';\r\n        this.title = 'Error';\r\n    }\r\n}\r\n//# sourceMappingURL=UnknownBeaconError.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { getTzip10Link } from './utils/get-tzip10-link';\r\nimport { openToast } from './alert/Toast';\r\nimport { openAlert } from './alert/Alert';\r\nimport { getQrData } from './utils/qr';\r\nimport { Logger } from './utils/Logger';\r\nimport { BeaconError } from './errors/BeaconError';\r\nimport { Serializer } from './Serializer';\r\nimport { getAccountBlockExplorerLinkForNetwork, getTransactionBlockExplorerLinkForNetwork } from './utils/block-explorer';\r\nimport { UnknownBeaconError } from '.';\r\nconst logger = new Logger('BeaconEvents');\r\nconst serializer = new Serializer();\r\n/**\r\n * The different events that can be emitted by the beacon-sdk\r\n */\r\nexport var BeaconEvent;\r\n(function (BeaconEvent) {\r\n    BeaconEvent[\"PERMISSION_REQUEST_SENT\"] = \"PERMISSION_REQUEST_SENT\";\r\n    BeaconEvent[\"PERMISSION_REQUEST_SUCCESS\"] = \"PERMISSION_REQUEST_SUCCESS\";\r\n    BeaconEvent[\"PERMISSION_REQUEST_ERROR\"] = \"PERMISSION_REQUEST_ERROR\";\r\n    BeaconEvent[\"OPERATION_REQUEST_SENT\"] = \"OPERATION_REQUEST_SENT\";\r\n    BeaconEvent[\"OPERATION_REQUEST_SUCCESS\"] = \"OPERATION_REQUEST_SUCCESS\";\r\n    BeaconEvent[\"OPERATION_REQUEST_ERROR\"] = \"OPERATION_REQUEST_ERROR\";\r\n    BeaconEvent[\"SIGN_REQUEST_SENT\"] = \"SIGN_REQUEST_SENT\";\r\n    BeaconEvent[\"SIGN_REQUEST_SUCCESS\"] = \"SIGN_REQUEST_SUCCESS\";\r\n    BeaconEvent[\"SIGN_REQUEST_ERROR\"] = \"SIGN_REQUEST_ERROR\";\r\n    BeaconEvent[\"BROADCAST_REQUEST_SENT\"] = \"BROADCAST_REQUEST_SENT\";\r\n    BeaconEvent[\"BROADCAST_REQUEST_SUCCESS\"] = \"BROADCAST_REQUEST_SUCCESS\";\r\n    BeaconEvent[\"BROADCAST_REQUEST_ERROR\"] = \"BROADCAST_REQUEST_ERROR\";\r\n    BeaconEvent[\"LOCAL_RATE_LIMIT_REACHED\"] = \"LOCAL_RATE_LIMIT_REACHED\";\r\n    BeaconEvent[\"NO_PERMISSIONS\"] = \"NO_PERMISSIONS\";\r\n    BeaconEvent[\"ACTIVE_ACCOUNT_SET\"] = \"ACTIVE_ACCOUNT_SET\";\r\n    BeaconEvent[\"ACTIVE_TRANSPORT_SET\"] = \"ACTIVE_TRANSPORT_SET\";\r\n    BeaconEvent[\"P2P_CHANNEL_CONNECT_SUCCESS\"] = \"P2P_CHANNEL_CONNECT_SUCCESS\";\r\n    BeaconEvent[\"P2P_LISTEN_FOR_CHANNEL_OPEN\"] = \"P2P_LISTEN_FOR_CHANNEL_OPEN\";\r\n    BeaconEvent[\"P2P_CHANNEL_CLOSED\"] = \"P2P_CHANNEL_CLOSED\";\r\n    BeaconEvent[\"INTERNAL_ERROR\"] = \"INTERNAL_ERROR\";\r\n    BeaconEvent[\"UNKNOWN\"] = \"UNKNOWN\";\r\n})(BeaconEvent || (BeaconEvent = {}));\r\n/**\r\n * Show a \"Request sent\" toast\r\n */\r\nconst showSentToast = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    openToast({ body: 'Request sent', timer: 3000 }).catch((toastError) => console.error(toastError));\r\n});\r\n/**\r\n * Show a \"No Permission\" alert\r\n */\r\nconst showNoPermissionAlert = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    yield openAlert({\r\n        title: 'No Permission',\r\n        body: 'Please allow the wallet to handle this type of request.'\r\n    });\r\n});\r\n/**\r\n * Show an error alert\r\n *\r\n * @param beaconError The beacon error\r\n */\r\nconst showErrorAlert = (beaconError, buttons) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const error = beaconError.errorType\r\n        ? BeaconError.getError(beaconError.errorType)\r\n        : new UnknownBeaconError();\r\n    console.log('showing error alert type ', beaconError.errorType);\r\n    if (buttons) {\r\n        // eslint-disable-next-line @typescript-eslint/tslint/config\r\n    }\r\n    yield openAlert({\r\n        title: error.title,\r\n        body: error.description\r\n    });\r\n});\r\n/**\r\n * Show a rate limit reached toast\r\n */\r\nconst showRateLimitReached = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    openToast({\r\n        body: 'Rate limit reached. Please slow down',\r\n        timer: 3000\r\n    }).catch((toastError) => console.error(toastError));\r\n});\r\n/**\r\n * Show a \"connection successful\" alert for 1.5 seconds\r\n */\r\nconst showBeaconConnectedAlert = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    yield openAlert({\r\n        title: 'Success',\r\n        body: 'A wallet has been paired over the beacon network.',\r\n        confirmButtonText: 'Done',\r\n        timer: 1500\r\n    });\r\n});\r\n/**\r\n * Show a \"channel closed\" alert for 1.5 seconds\r\n */\r\nconst showChannelClosedAlert = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    yield openAlert({\r\n        title: 'Channel closed',\r\n        body: `Your peer has closed the connection.`,\r\n        confirmButtonText: 'Done',\r\n        timer: 1500\r\n    });\r\n});\r\nconst showInternalErrorAlert = (data) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const alertConfig = {\r\n        title: 'Internal Error',\r\n        confirmButtonText: 'Done',\r\n        body: `${data}`,\r\n        confirmCallback: () => undefined\r\n    };\r\n    yield openAlert(alertConfig);\r\n});\r\n/**\r\n * Show a connect alert with QR code\r\n *\r\n * @param data The data that is emitted by the P2P_LISTEN_FOR_CHANNEL_OPEN event\r\n */\r\nconst showQrCode = (data) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const dataString = JSON.stringify(data);\r\n    console.log(dataString);\r\n    const base58encoded = yield serializer.serialize(data);\r\n    console.log(base58encoded);\r\n    const uri = getTzip10Link('tezos://', base58encoded);\r\n    // const childWindow = window.open() as Window\r\n    // childWindow.opener = null\r\n    // // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    // childWindow.location = uri as any\r\n    const alertConfig = {\r\n        title: 'Pair with Wallet',\r\n        body: `${getQrData(uri, 'svg')}<p>Don't know what to do with this QR code? <a href=\"https://docs.walletbeacon.io/supported-wallets.html\" target=\"_blank\">Learn more</a>.</p>`,\r\n        pairingPayload: base58encoded\r\n    };\r\n    yield openAlert(alertConfig);\r\n});\r\n/**\r\n * Show a \"Permission Granted\" alert\r\n *\r\n * @param data The data that is emitted by the PERMISSION_REQUEST_SUCCESS event\r\n */\r\nconst showPermissionSuccessAlert = (data) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const { account, output } = data;\r\n    const alertConfig = {\r\n        title: 'Permission Granted',\r\n        body: `We received permissions for the address <strong>${output.address}</strong>\r\n    <br>\r\n    <br>\r\n    Network: <strong>${output.network.type}</strong>\r\n    <br>\r\n    Permissions: <strong>${output.scopes}</strong>`,\r\n        confirmButtonText: 'Done',\r\n        confirmCallback: () => undefined,\r\n        actionButtonText: 'Open Blockexplorer',\r\n        actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\r\n            const link = yield getAccountBlockExplorerLinkForNetwork(account.network, output.address);\r\n            window.open(link, '_blank');\r\n        })\r\n    };\r\n    yield openAlert(alertConfig);\r\n});\r\n/**\r\n * Show an \"Operation Broadcasted\" alert\r\n *\r\n * @param data The data that is emitted by the OPERATION_REQUEST_SUCCESS event\r\n */\r\nconst showOperationSuccessAlert = (data) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const { account, output } = data;\r\n    const alertConfig = {\r\n        title: 'Operation Broadcasted',\r\n        body: `The transaction has successfully been broadcasted to the network with the following hash. <strong>${output.transactionHash}</strong>`,\r\n        confirmButtonText: 'Done',\r\n        confirmCallback: () => undefined,\r\n        actionButtonText: 'Open Blockexplorer',\r\n        actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\r\n            const link = yield getTransactionBlockExplorerLinkForNetwork(account.network, output.transactionHash);\r\n            window.open(link, '_blank');\r\n        })\r\n    };\r\n    yield openAlert(alertConfig);\r\n});\r\n/**\r\n * Show a \"Transaction Signed\" alert\r\n *\r\n * @param data The data that is emitted by the SIGN_REQUEST_SUCCESS event\r\n */\r\nconst showSignSuccessAlert = (data) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const output = data.output;\r\n    const alertConfig = {\r\n        title: 'Payload signed',\r\n        body: `The payload has successfully been signed.\r\n    <br>\r\n    Signature: <strong>${output.signature}</strong>`,\r\n        confirmButtonText: 'Done',\r\n        confirmCallback: () => undefined\r\n    };\r\n    yield openAlert(alertConfig);\r\n});\r\n/**\r\n * Show a \"Broadcasted\" alert\r\n *\r\n * @param data The data that is emitted by the BROADCAST_REQUEST_SUCCESS event\r\n */\r\nconst showBroadcastSuccessAlert = (data) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const { network, output } = data;\r\n    const alertConfig = {\r\n        title: 'Broadcasted',\r\n        body: `The transaction has successfully been broadcasted to the network with the following hash. <strong>${output.transactionHash}</strong>`,\r\n        confirmButtonText: 'Done',\r\n        confirmCallback: () => undefined,\r\n        actionButtonText: 'Open Blockexplorer',\r\n        actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\r\n            const link = yield getTransactionBlockExplorerLinkForNetwork(network, output.transactionHash);\r\n            window.open(link, '_blank');\r\n        })\r\n    };\r\n    yield openAlert(alertConfig);\r\n});\r\nconst emptyHandler = (eventType) => (data) => __awaiter(void 0, void 0, void 0, function* () {\r\n    logger.log('emptyHandler', eventType, data);\r\n});\r\n/**\r\n * The default event handlers\r\n */\r\nexport const defaultEventCallbacks = {\r\n    [BeaconEvent.PERMISSION_REQUEST_SENT]: showSentToast,\r\n    [BeaconEvent.PERMISSION_REQUEST_SUCCESS]: showPermissionSuccessAlert,\r\n    [BeaconEvent.PERMISSION_REQUEST_ERROR]: showErrorAlert,\r\n    [BeaconEvent.OPERATION_REQUEST_SENT]: showSentToast,\r\n    [BeaconEvent.OPERATION_REQUEST_SUCCESS]: showOperationSuccessAlert,\r\n    [BeaconEvent.OPERATION_REQUEST_ERROR]: showErrorAlert,\r\n    [BeaconEvent.SIGN_REQUEST_SENT]: showSentToast,\r\n    [BeaconEvent.SIGN_REQUEST_SUCCESS]: showSignSuccessAlert,\r\n    [BeaconEvent.SIGN_REQUEST_ERROR]: showErrorAlert,\r\n    [BeaconEvent.BROADCAST_REQUEST_SENT]: showSentToast,\r\n    [BeaconEvent.BROADCAST_REQUEST_SUCCESS]: showBroadcastSuccessAlert,\r\n    [BeaconEvent.BROADCAST_REQUEST_ERROR]: showErrorAlert,\r\n    [BeaconEvent.LOCAL_RATE_LIMIT_REACHED]: showRateLimitReached,\r\n    [BeaconEvent.NO_PERMISSIONS]: showNoPermissionAlert,\r\n    [BeaconEvent.ACTIVE_ACCOUNT_SET]: emptyHandler(BeaconEvent.ACTIVE_ACCOUNT_SET),\r\n    [BeaconEvent.ACTIVE_TRANSPORT_SET]: emptyHandler(BeaconEvent.ACTIVE_TRANSPORT_SET),\r\n    [BeaconEvent.P2P_CHANNEL_CONNECT_SUCCESS]: showBeaconConnectedAlert,\r\n    [BeaconEvent.P2P_LISTEN_FOR_CHANNEL_OPEN]: showQrCode,\r\n    [BeaconEvent.P2P_CHANNEL_CLOSED]: showChannelClosedAlert,\r\n    [BeaconEvent.INTERNAL_ERROR]: showInternalErrorAlert,\r\n    [BeaconEvent.UNKNOWN]: emptyHandler(BeaconEvent.UNKNOWN)\r\n};\r\n/**\r\n * Handles beacon events\r\n */\r\nexport class BeaconEventHandler {\r\n    constructor(eventsToOverride = {}) {\r\n        this.callbackMap = {\r\n            [BeaconEvent.PERMISSION_REQUEST_SENT]: [defaultEventCallbacks.PERMISSION_REQUEST_SENT],\r\n            [BeaconEvent.PERMISSION_REQUEST_SUCCESS]: [defaultEventCallbacks.PERMISSION_REQUEST_SUCCESS],\r\n            [BeaconEvent.PERMISSION_REQUEST_ERROR]: [defaultEventCallbacks.PERMISSION_REQUEST_ERROR],\r\n            [BeaconEvent.OPERATION_REQUEST_SENT]: [defaultEventCallbacks.OPERATION_REQUEST_SENT],\r\n            [BeaconEvent.OPERATION_REQUEST_SUCCESS]: [defaultEventCallbacks.OPERATION_REQUEST_SUCCESS],\r\n            [BeaconEvent.OPERATION_REQUEST_ERROR]: [defaultEventCallbacks.OPERATION_REQUEST_ERROR],\r\n            [BeaconEvent.SIGN_REQUEST_SENT]: [defaultEventCallbacks.SIGN_REQUEST_SENT],\r\n            [BeaconEvent.SIGN_REQUEST_SUCCESS]: [defaultEventCallbacks.SIGN_REQUEST_SUCCESS],\r\n            [BeaconEvent.SIGN_REQUEST_ERROR]: [defaultEventCallbacks.SIGN_REQUEST_ERROR],\r\n            [BeaconEvent.BROADCAST_REQUEST_SENT]: [defaultEventCallbacks.BROADCAST_REQUEST_SENT],\r\n            [BeaconEvent.BROADCAST_REQUEST_SUCCESS]: [defaultEventCallbacks.BROADCAST_REQUEST_SUCCESS],\r\n            [BeaconEvent.BROADCAST_REQUEST_ERROR]: [defaultEventCallbacks.BROADCAST_REQUEST_ERROR],\r\n            [BeaconEvent.LOCAL_RATE_LIMIT_REACHED]: [defaultEventCallbacks.LOCAL_RATE_LIMIT_REACHED],\r\n            [BeaconEvent.NO_PERMISSIONS]: [defaultEventCallbacks.NO_PERMISSIONS],\r\n            [BeaconEvent.ACTIVE_ACCOUNT_SET]: [defaultEventCallbacks.ACTIVE_ACCOUNT_SET],\r\n            [BeaconEvent.ACTIVE_TRANSPORT_SET]: [defaultEventCallbacks.ACTIVE_TRANSPORT_SET],\r\n            [BeaconEvent.P2P_CHANNEL_CONNECT_SUCCESS]: [defaultEventCallbacks.P2P_CHANNEL_CONNECT_SUCCESS],\r\n            [BeaconEvent.P2P_LISTEN_FOR_CHANNEL_OPEN]: [defaultEventCallbacks.P2P_LISTEN_FOR_CHANNEL_OPEN],\r\n            [BeaconEvent.P2P_CHANNEL_CLOSED]: [defaultEventCallbacks.P2P_CHANNEL_CLOSED],\r\n            [BeaconEvent.INTERNAL_ERROR]: [defaultEventCallbacks.INTERNAL_ERROR],\r\n            [BeaconEvent.UNKNOWN]: [defaultEventCallbacks.UNKNOWN]\r\n        };\r\n        this.overrideDefaults(eventsToOverride).catch((overrideError) => {\r\n            logger.error('constructor', overrideError);\r\n        });\r\n    }\r\n    /**\r\n     * A method to subscribe to a specific beacon event and register a callback\r\n     *\r\n     * @param event The event being emitted\r\n     * @param eventCallback The callback that will be invoked\r\n     */\r\n    on(event, eventCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const listeners = this.callbackMap[event] || [];\r\n            listeners.push(eventCallback);\r\n            this.callbackMap[event] = listeners;\r\n        });\r\n    }\r\n    /**\r\n     * Emit a beacon event\r\n     *\r\n     * @param event The event being emitted\r\n     * @param data The data to be emit\r\n     */\r\n    emit(event, data, eventCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const listeners = this.callbackMap[event];\r\n            if (listeners && listeners.length > 0) {\r\n                listeners.forEach((listener) => __awaiter(this, void 0, void 0, function* () {\r\n                    try {\r\n                        yield listener(data, eventCallback);\r\n                    }\r\n                    catch (listenerError) {\r\n                        logger.error(`error handling event ${event}`, listenerError);\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Override beacon event default callbacks. This can be used to disable default alert/toast behaviour\r\n     *\r\n     * @param eventsToOverride An object with the events to override\r\n     */\r\n    overrideDefaults(eventsToOverride) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            Object.keys(eventsToOverride).forEach((untypedEvent) => {\r\n                const eventType = untypedEvent;\r\n                const event = eventsToOverride[eventType];\r\n                if (event) {\r\n                    this.callbackMap[eventType] = [event.handler];\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=events.js.map","import { P2PCommunicationClient } from './transports/clients/P2PCommunicationClient';\r\nimport { BeaconMessageType } from './types/beacon/BeaconMessageType';\r\nimport { PermissionScope } from './types/beacon/PermissionScope';\r\nimport { NetworkType } from './types/beacon/NetworkType';\r\nimport { TezosOperationType } from './types/tezos/OperationTypes';\r\nimport { Origin } from './types/Origin';\r\nimport { ExtensionMessageTarget } from './types/ExtensionMessageTarget';\r\nimport { Client } from './clients/client/Client';\r\nimport { WalletClient } from './clients/wallet-client/WalletClient';\r\nimport { DAppClient } from './clients/dapp-client/DAppClient';\r\nimport { BeaconError } from './errors/BeaconError';\r\nimport { BeaconErrorType } from './types/BeaconErrorType';\r\nimport { BroadcastBeaconError } from './errors/BroadcastBeaconError';\r\nimport { NetworkNotSupportedBeaconError } from './errors/NetworkNotSupportedBeaconError';\r\nimport { NoAddressBeaconError } from './errors/NoAddressBeaconError';\r\nimport { NoPrivateKeyBeaconError } from './errors/NoPrivateKeyBeaconError';\r\nimport { NotGrantedBeaconError } from './errors/NotGrantedBeaconError';\r\nimport { ParametersInvalidBeaconError } from './errors/ParametersInvalidBeaconError';\r\nimport { TooManyOperationsBeaconError } from './errors/TooManyOperationsBeaconError';\r\nimport { TransactionInvalidBeaconError } from './errors/TransactionInvalidBeaconError';\r\nimport { UnknownBeaconError } from './errors/UnknownBeaconError';\r\nimport { TransportStatus } from './types/transport/TransportStatus';\r\nimport { TransportType } from './types/transport/TransportType';\r\nimport { PostMessageTransport } from './transports/PostMessageTransport';\r\nimport { Transport } from './transports/Transport';\r\nimport { P2PTransport } from './transports/P2PTransport';\r\nimport { ChromeMessageTransport } from './transports/ChromeMessageTransport';\r\nimport { Storage } from './storage/Storage';\r\nimport { StorageKey } from './types/storage/StorageKey';\r\nimport { ChromeStorage } from './storage/ChromeStorage';\r\nimport { LocalStorage } from './storage/LocalStorage';\r\nimport { getStorage } from './storage/getStorage';\r\nimport { Serializer } from './Serializer';\r\nimport { SDK_VERSION, BEACON_VERSION } from './constants';\r\nimport { AccountManager } from './managers/AccountManager';\r\nimport { AppMetadataManager } from './managers/AppMetadataManager';\r\nimport { PermissionManager } from './managers/PermissionManager';\r\nimport { BeaconEvent, defaultEventCallbacks, BeaconEventHandler } from './events';\r\nimport { getAddressFromPublicKey } from './utils/crypto';\r\nimport { BeaconClient } from './clients/beacon-client/BeaconClient';\r\nimport { getAccountIdentifier } from './utils/get-account-identifier';\r\nimport { AbortedBeaconError } from './errors/AbortedBeaconError';\r\nimport { availableTransports } from './utils/available-transports';\r\n// Tezos\r\nexport { TezosOperationType };\r\n// Clients\r\nexport { BeaconClient, Client, DAppClient, WalletClient, P2PCommunicationClient };\r\n// Beacon\r\nexport { NetworkType, BeaconMessageType, PermissionScope, Origin, ExtensionMessageTarget };\r\n// Errors\r\nexport { BeaconError, BeaconErrorType, AbortedBeaconError, BroadcastBeaconError, NetworkNotSupportedBeaconError, NoAddressBeaconError, NoPrivateKeyBeaconError, NotGrantedBeaconError, ParametersInvalidBeaconError, TooManyOperationsBeaconError, TransactionInvalidBeaconError, UnknownBeaconError };\r\n// Transport\r\nexport { TransportStatus, TransportType, Transport, PostMessageTransport, P2PTransport, ChromeMessageTransport };\r\n// Events\r\nexport { BeaconEvent, BeaconEventHandler, defaultEventCallbacks };\r\n// Storage\r\nexport { Storage, StorageKey, ChromeStorage, LocalStorage, getStorage };\r\n// Managers\r\nexport { AccountManager, AppMetadataManager, PermissionManager };\r\n// Constants\r\nexport { SDK_VERSION, BEACON_VERSION };\r\n// Utils\r\nexport { getAccountIdentifier, getAddressFromPublicKey };\r\n// Others\r\nexport { Serializer, availableTransports };\r\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { BeaconMessageType } from '..';\r\n/**\r\n * The IncomingRequestInterceptor is used in the WalletClient to intercept an incoming request and enrich it with data, like app metadata.\r\n */\r\nexport class IncomingRequestInterceptor {\r\n    /**\r\n     * The method that is called during the interception\r\n     *\r\n     * @param config\r\n     */\r\n    static intercept(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { message, connectionInfo, appMetadataManager, interceptorCallback } = config;\r\n            // TODO: Remove v1 compatibility in later version\r\n            if (message.beaconId && !message.senderId) {\r\n                message.senderId = message.beaconId;\r\n                delete message.beaconId;\r\n            }\r\n            switch (message.type) {\r\n                case BeaconMessageType.PermissionRequest:\r\n                    {\r\n                        // TODO: Remove v1 compatibility in later version\r\n                        if (message.appMetadata.beaconId && !message.appMetadata.senderId) {\r\n                            message.appMetadata.senderId = message.appMetadata.beaconId;\r\n                            delete message.appMetadata.beaconId;\r\n                        }\r\n                        yield appMetadataManager.addAppMetadata(message.appMetadata);\r\n                        const request = message;\r\n                        interceptorCallback(request, connectionInfo);\r\n                    }\r\n                    break;\r\n                case BeaconMessageType.OperationRequest:\r\n                    {\r\n                        const appMetadata = yield IncomingRequestInterceptor.getAppMetadata(appMetadataManager, message.senderId);\r\n                        const request = Object.assign({ appMetadata }, message);\r\n                        interceptorCallback(request, connectionInfo);\r\n                    }\r\n                    break;\r\n                case BeaconMessageType.SignPayloadRequest:\r\n                    {\r\n                        const appMetadata = yield IncomingRequestInterceptor.getAppMetadata(appMetadataManager, message.senderId);\r\n                        const request = Object.assign({ appMetadata }, message);\r\n                        interceptorCallback(request, connectionInfo);\r\n                    }\r\n                    break;\r\n                case BeaconMessageType.BroadcastRequest:\r\n                    {\r\n                        const appMetadata = yield IncomingRequestInterceptor.getAppMetadata(appMetadataManager, message.senderId);\r\n                        const request = Object.assign({ appMetadata }, message);\r\n                        interceptorCallback(request, connectionInfo);\r\n                    }\r\n                    break;\r\n                default:\r\n                    console.log('Message not handled');\r\n            }\r\n        });\r\n    }\r\n    static getAppMetadata(appMetadataManager, senderId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const appMetadata = yield appMetadataManager.getAppMetadata(senderId);\r\n            if (!appMetadata) {\r\n                throw new Error('AppMetadata not found');\r\n            }\r\n            return appMetadata;\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=IncomingRequestInterceptor.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { BeaconMessageType } from '..';\r\nimport { BEACON_VERSION } from '../constants';\r\nimport { getAddressFromPublicKey } from '../utils/crypto';\r\nimport { getAccountIdentifier } from '../utils/get-account-identifier';\r\n/**\r\n * The OutgoingResponseInterceptor is used in the WalletClient to intercept an outgoing response and enrich it with data.\r\n */\r\nexport class OutgoingResponseInterceptor {\r\n    static intercept(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { senderId, request, message, permissionManager, appMetadataManager, interceptorCallback } = config;\r\n            // TODO: Remove v1 compatibility in later version\r\n            const interceptorCallbackWrapper = (msg) => {\r\n                const untypedMessage = msg;\r\n                untypedMessage.beaconId = msg.senderId;\r\n                interceptorCallback(msg);\r\n            };\r\n            switch (message.type) {\r\n                case BeaconMessageType.Error: {\r\n                    const response = {\r\n                        type: message.type,\r\n                        version: BEACON_VERSION,\r\n                        senderId,\r\n                        id: message.id,\r\n                        errorType: message.errorType\r\n                    };\r\n                    interceptorCallbackWrapper(response);\r\n                    break;\r\n                }\r\n                case BeaconMessageType.PermissionResponse: {\r\n                    const response = Object.assign({ senderId, version: BEACON_VERSION }, message);\r\n                    // TODO: Migration code. Remove sometime after 1.0.0 release.\r\n                    const publicKey = response.publicKey || response.pubkey || response.pubKey;\r\n                    const address = yield getAddressFromPublicKey(publicKey);\r\n                    const appMetadata = yield appMetadataManager.getAppMetadata(request.senderId);\r\n                    if (!appMetadata) {\r\n                        throw new Error('AppMetadata not found');\r\n                    }\r\n                    const permission = {\r\n                        accountIdentifier: yield getAccountIdentifier(address, response.network),\r\n                        senderId: request.senderId,\r\n                        appMetadata,\r\n                        website: '',\r\n                        address,\r\n                        publicKey,\r\n                        network: response.network,\r\n                        scopes: response.scopes,\r\n                        connectedAt: new Date().getTime()\r\n                    };\r\n                    permissionManager.addPermission(permission).catch(console.error);\r\n                    interceptorCallbackWrapper(response);\r\n                    break;\r\n                }\r\n                case BeaconMessageType.OperationResponse:\r\n                    {\r\n                        const response = Object.assign({ senderId, version: BEACON_VERSION }, message);\r\n                        interceptorCallbackWrapper(response);\r\n                    }\r\n                    break;\r\n                case BeaconMessageType.SignPayloadResponse:\r\n                    {\r\n                        const response = Object.assign({ senderId, version: BEACON_VERSION }, message);\r\n                        interceptorCallbackWrapper(response);\r\n                    }\r\n                    break;\r\n                case BeaconMessageType.BroadcastResponse:\r\n                    {\r\n                        const response = Object.assign({ senderId, version: BEACON_VERSION }, message);\r\n                        interceptorCallbackWrapper(response);\r\n                    }\r\n                    break;\r\n                default:\r\n                    console.log('Message not handled');\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=OutgoingResponseInterceptor.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { StorageKey } from '..';\r\nimport { StorageManager } from './StorageManager';\r\nimport { PermissionValidator } from './PermissionValidator';\r\n/**\r\n * The AccountManager provides CRUD functionality for account entities and persists them to the provided storage.\r\n */\r\nexport class AccountManager {\r\n    constructor(storage) {\r\n        this.storageManager = new StorageManager(storage, StorageKey.ACCOUNTS);\r\n    }\r\n    getAccounts() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getAll();\r\n        });\r\n    }\r\n    getAccount(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getOne((account) => account.accountIdentifier === accountIdentifier);\r\n        });\r\n    }\r\n    addAccount(accountInfo) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.addOne(accountInfo, (account) => account.accountIdentifier === accountInfo.accountIdentifier);\r\n        });\r\n    }\r\n    removeAccount(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((account) => account.accountIdentifier === accountIdentifier);\r\n        });\r\n    }\r\n    removeAccounts(accountIdentifiers) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((account) => accountIdentifiers.includes(account.accountIdentifier));\r\n        });\r\n    }\r\n    removeAllAccounts() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.removeAll();\r\n        });\r\n    }\r\n    hasPermission(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return PermissionValidator.hasPermission(message, this.getAccount.bind(this), this.getAccounts.bind(this));\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=AccountManager.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { StorageKey } from '..';\r\nimport { StorageManager } from './StorageManager';\r\n/**\r\n * The AppMetadataManager provides CRUD functionality for app-metadata entities and persists them to the provided storage.\r\n */\r\nexport class AppMetadataManager {\r\n    constructor(storage) {\r\n        this.storageManager = new StorageManager(storage, StorageKey.APP_METADATA_LIST);\r\n    }\r\n    getAppMetadataList() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getAll();\r\n        });\r\n    }\r\n    getAppMetadata(senderId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getOne((appMetadata) => appMetadata.senderId === senderId);\r\n        });\r\n    }\r\n    addAppMetadata(appMetadata) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.addOne(appMetadata, (appMetadataElement) => appMetadataElement.senderId === appMetadata.senderId);\r\n        });\r\n    }\r\n    removeAppMetadata(senderId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((appMetadata) => appMetadata.senderId === senderId);\r\n        });\r\n    }\r\n    removeAppMetadatas(senderIds) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((appMetadata) => senderIds.includes(appMetadata.senderId));\r\n        });\r\n    }\r\n    removeAllAppMetadata() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.removeAll();\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=AppMetadataManager.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { StorageManager } from './StorageManager';\r\n/**\r\n * The PeerManager provides CRUD functionality for peer entities and persists them to the provided storage.\r\n */\r\nexport class PeerManager {\r\n    constructor(storage, key) {\r\n        this.storageManager = new StorageManager(storage, key);\r\n    }\r\n    hasPeer(publicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return (yield this.getPeer(publicKey)) ? true : false;\r\n        });\r\n    }\r\n    getPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getAll();\r\n        });\r\n    }\r\n    getPeer(publicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getOne((peer) => peer.publicKey === publicKey);\r\n        });\r\n    }\r\n    addPeer(peerInfo) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.addOne(peerInfo, (peer) => peer.publicKey === peerInfo.publicKey);\r\n        });\r\n    }\r\n    removePeer(publicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((peer) => peer.publicKey === publicKey);\r\n        });\r\n    }\r\n    removePeers(publicKeys) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((peer) => publicKeys.includes(peer.publicKey));\r\n        });\r\n    }\r\n    removeAllPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.removeAll();\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=PeerManager.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { StorageKey } from '..';\r\nimport { StorageManager } from './StorageManager';\r\nimport { PermissionValidator } from './PermissionValidator';\r\n/**\r\n * The PermissionManager provides CRUD functionality for permission entities and persists them to the provided storage.\r\n */\r\nexport class PermissionManager {\r\n    constructor(storage) {\r\n        this.storageManager = new StorageManager(storage, StorageKey.PERMISSION_LIST);\r\n    }\r\n    getPermissions() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getAll();\r\n        });\r\n    }\r\n    getPermission(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.getOne((permission) => permission.accountIdentifier === accountIdentifier);\r\n        });\r\n    }\r\n    addPermission(permissionInfo) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.addOne(permissionInfo, (permission) => permission.accountIdentifier === permissionInfo.accountIdentifier);\r\n        });\r\n    }\r\n    removePermission(accountIdentifier) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((permissionInfo) => permissionInfo.accountIdentifier === accountIdentifier);\r\n        });\r\n    }\r\n    removePermissions(accountIdentifiers) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.remove((permission) => accountIdentifiers.includes(permission.accountIdentifier));\r\n        });\r\n    }\r\n    removeAllPermissions() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storageManager.removeAll();\r\n        });\r\n    }\r\n    hasPermission(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return PermissionValidator.hasPermission(message, this.getPermission.bind(this), this.getPermissions.bind(this));\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=PermissionManager.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { BeaconMessageType, PermissionScope } from '..';\r\nimport { getAccountIdentifier } from '../utils/get-account-identifier';\r\n/**\r\n * The PermissionValidator is used to check if permissions for a certain message type have been given\r\n */\r\nexport class PermissionValidator {\r\n    /**\r\n     * Check if permissions were given for a certain message type.\r\n     *\r\n     * PermissionRequest and BroadcastRequest will always return true.\r\n     *\r\n     * @param message Beacon Message\r\n     */\r\n    static hasPermission(message, getOne, getAll) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            switch (message.type) {\r\n                case BeaconMessageType.PermissionRequest:\r\n                case BeaconMessageType.BroadcastRequest: {\r\n                    return true;\r\n                }\r\n                case BeaconMessageType.OperationRequest: {\r\n                    const accountIdentifier = yield getAccountIdentifier(message.sourceAddress, message.network);\r\n                    const permission = yield getOne(accountIdentifier);\r\n                    if (!permission) {\r\n                        return false;\r\n                    }\r\n                    return permission.scopes.includes(PermissionScope.OPERATION_REQUEST);\r\n                }\r\n                case BeaconMessageType.SignPayloadRequest: {\r\n                    const permissions = yield getAll();\r\n                    const filteredPermissions = permissions.filter((permission) => permission.address === message.sourceAddress);\r\n                    if (filteredPermissions.length === 0) {\r\n                        return false;\r\n                    }\r\n                    return filteredPermissions.some((permission) => permission.scopes.includes(PermissionScope.SIGN));\r\n                }\r\n                default:\r\n                    throw new Error('Message not handled');\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=PermissionValidator.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n/* eslint-disable prefer-arrow/prefer-arrow-functions */\r\nfunction fixArrayType(array) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return array;\r\n}\r\n/* eslint-enable prefer-arrow/prefer-arrow-functions */\r\n/**\r\n * The StorageManager provides CRUD functionality for specific entities and persists them to the provided storage.\r\n */\r\nexport class StorageManager {\r\n    constructor(storage, storageKey) {\r\n        this.storage = storage;\r\n        this.storageKey = storageKey;\r\n    }\r\n    getAll() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storage.get(this.storageKey);\r\n        });\r\n    }\r\n    getOne(predicate) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const entities = yield this.storage.get(this.storageKey);\r\n            return fixArrayType(entities).find(predicate);\r\n        });\r\n    }\r\n    addOne(element, predicate, overwrite = true) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const entities = yield this.storage.get(this.storageKey);\r\n            if (!fixArrayType(entities).some(predicate)) {\r\n                fixArrayType(entities).push(element);\r\n            }\r\n            else if (overwrite) {\r\n                for (let i = 0; i < entities.length; i++) {\r\n                    if (predicate(fixArrayType(entities)[i])) {\r\n                        entities[i] = element;\r\n                    }\r\n                }\r\n            }\r\n            return this.storage.set(this.storageKey, entities);\r\n        });\r\n    }\r\n    remove(predicate) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const entities = yield this.storage.get(this.storageKey);\r\n            const filteredEntities = fixArrayType(entities).filter((entity) => !predicate(entity));\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return this.storage.set(this.storageKey, filteredEntities);\r\n        });\r\n    }\r\n    removeAll() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.storage.delete(this.storageKey);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=StorageManager.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { MatrixClientStore } from './MatrixClientStore';\r\nimport { MatrixHttpClient } from './MatrixHttpClient';\r\nimport { MatrixRoom, MatrixRoomStatus } from './models/MatrixRoom';\r\nimport { MatrixRoomService } from './services/MatrixRoomService';\r\nimport { MatrixUserService } from './services/MatrixUserService';\r\nimport { MatrixEventService } from './services/MatrixEventService';\r\nimport { MatrixClientEventEmitter } from './MatrixClientEventEmitter';\r\nconst MAX_POLLING_RETRIES = 3;\r\n/**\r\n * The matrix client used to connect to the matrix network\r\n */\r\nexport class MatrixClient {\r\n    constructor(store, eventEmitter, userService, roomService, eventService) {\r\n        this.store = store;\r\n        this.eventEmitter = eventEmitter;\r\n        this.userService = userService;\r\n        this.roomService = roomService;\r\n        this.eventService = eventService;\r\n        this.store.onStateChanged((oldState, newState, stateChange) => {\r\n            this.eventEmitter.onStateChanged(oldState, newState, stateChange);\r\n        }, 'rooms');\r\n    }\r\n    /**\r\n     * Create a matrix client based on the options provided\r\n     *\r\n     * @param config\r\n     */\r\n    static create(config) {\r\n        const store = new MatrixClientStore(config.storage);\r\n        const eventEmitter = new MatrixClientEventEmitter();\r\n        const httpClient = new MatrixHttpClient(config.baseUrl);\r\n        const accountService = new MatrixUserService(httpClient);\r\n        const roomService = new MatrixRoomService(httpClient);\r\n        const eventService = new MatrixEventService(httpClient);\r\n        return new MatrixClient(store, eventEmitter, accountService, roomService, eventService);\r\n    }\r\n    /**\r\n     * Return all the rooms we are currently part of\r\n     */\r\n    get joinedRooms() {\r\n        return Object.values(this.store.get('rooms')).filter((room) => room.status === MatrixRoomStatus.JOINED);\r\n    }\r\n    /**\r\n     * Return all the rooms to which we have received invitations\r\n     */\r\n    get invitedRooms() {\r\n        return Object.values(this.store.get('rooms')).filter((room) => room.status === MatrixRoomStatus.INVITED);\r\n    }\r\n    /**\r\n     * Return all the rooms that we left\r\n     */\r\n    get leftRooms() {\r\n        return Object.values(this.store.get('rooms')).filter((room) => room.status === MatrixRoomStatus.LEFT);\r\n    }\r\n    /**\r\n     * Initiate the connection to the matrix node and log in\r\n     *\r\n     * @param user\r\n     */\r\n    start(user) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = yield this.userService.login(user.id, user.password, user.deviceId);\r\n            yield this.store.update({\r\n                accessToken: response.access_token\r\n            });\r\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\r\n                yield this.poll(0, (pollingResponse) => __awaiter(this, void 0, void 0, function* () {\r\n                    if (!this.store.get('isRunning')) {\r\n                        resolve();\r\n                    }\r\n                    yield this.store.update({\r\n                        isRunning: true,\r\n                        syncToken: pollingResponse.next_batch,\r\n                        pollingTimeout: 30000,\r\n                        pollingRetries: 0,\r\n                        rooms: MatrixRoom.fromSync(pollingResponse.rooms)\r\n                    });\r\n                }), (error) => __awaiter(this, void 0, void 0, function* () {\r\n                    if (!this.store.get('isRunning')) {\r\n                        reject(error);\r\n                    }\r\n                    yield this.store.update({\r\n                        isRunning: false,\r\n                        pollingRetries: this.store.get('pollingRetries') + 1\r\n                    });\r\n                }));\r\n            }));\r\n        });\r\n    }\r\n    /**\r\n     * Subscribe to new matrix events\r\n     *\r\n     * @param event\r\n     * @param listener\r\n     */\r\n    subscribe(event, listener) {\r\n        this.eventEmitter.on(event, listener);\r\n    }\r\n    /**\r\n     * Unsubscribe from matrix events\r\n     *\r\n     * @param event\r\n     * @param listener\r\n     */\r\n    unsubscribe(event, listener) {\r\n        if (listener) {\r\n            this.eventEmitter.removeListener(event, listener);\r\n        }\r\n        else {\r\n            this.eventEmitter.removeAllListeners(event);\r\n        }\r\n    }\r\n    getRoomById(id) {\r\n        return this.store.getRoom(id);\r\n    }\r\n    /**\r\n     * Create a private room with the supplied members\r\n     *\r\n     * @param members Members that will be in the room\r\n     */\r\n    createTrustedPrivateRoom(...members) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.requiresAuthorization('createRoom', (accessToken) => __awaiter(this, void 0, void 0, function* () {\r\n                const response = yield this.roomService.createRoom(accessToken, {\r\n                    invite: members,\r\n                    preset: 'trusted_private_chat',\r\n                    is_direct: true\r\n                });\r\n                return response.room_id;\r\n            }));\r\n        });\r\n    }\r\n    /**\r\n     * Invite user to rooms\r\n     *\r\n     * @param user The user to be invited\r\n     * @param roomsOrIds The rooms the user will be invited to\r\n     */\r\n    inviteToRooms(user, ...roomsOrIds) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.requiresAuthorization('invite', (accessToken) => Promise.all(roomsOrIds.map((roomOrId) => {\r\n                const room = this.store.getRoom(roomOrId);\r\n                this.roomService\r\n                    .inviteToRoom(accessToken, user, room)\r\n                    .catch((error) => console.warn(error));\r\n            })));\r\n        });\r\n    }\r\n    /**\r\n     * Join rooms\r\n     *\r\n     * @param roomsOrIds\r\n     */\r\n    joinRooms(...roomsOrIds) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.requiresAuthorization('join', (accessToken) => Promise.all(roomsOrIds.map((roomOrId) => {\r\n                const room = this.store.getRoom(roomOrId);\r\n                return this.roomService.joinRoom(accessToken, room).catch((error) => console.warn(error));\r\n            })));\r\n        });\r\n    }\r\n    /**\r\n     * Send a text message\r\n     *\r\n     * @param roomOrId\r\n     * @param message\r\n     */\r\n    sendTextMessage(roomOrId, message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.requiresAuthorization('send', (accessToken) => __awaiter(this, void 0, void 0, function* () {\r\n                    const room = this.store.getRoom(roomOrId);\r\n                    const txnId = yield this.createTxnId();\r\n                    return this.eventService.sendMessage(accessToken, room, {\r\n                        msgtype: 'm.text',\r\n                        body: message\r\n                    }, txnId);\r\n                }));\r\n            }\r\n            catch (error) {\r\n                console.error(error);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Poll the server to get the latest data and get notified of changes\r\n     *\r\n     * @param interval\r\n     * @param onSyncSuccess\r\n     * @param onSyncError\r\n     */\r\n    poll(interval, onSyncSuccess, onSyncError) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const store = this.store;\r\n            const sync = this.sync.bind(this);\r\n            const pollSync = (resolve, reject) => __awaiter(this, void 0, void 0, function* () {\r\n                let continueSyncing = false;\r\n                try {\r\n                    const response = yield sync();\r\n                    onSyncSuccess(response);\r\n                    continueSyncing = true;\r\n                }\r\n                catch (error) {\r\n                    onSyncError(error);\r\n                    continueSyncing = store.get('pollingRetries') < MAX_POLLING_RETRIES;\r\n                    // console.warn('Could not sync:', error)\r\n                    if (continueSyncing) {\r\n                        console.log('Retry syncing...');\r\n                    }\r\n                }\r\n                finally {\r\n                    if (continueSyncing) {\r\n                        setTimeout(() => __awaiter(this, void 0, void 0, function* () {\r\n                            yield pollSync(resolve, reject);\r\n                        }), interval);\r\n                    }\r\n                    else {\r\n                        reject(new Error(`Max polling retries exeeded: ${MAX_POLLING_RETRIES}`));\r\n                    }\r\n                }\r\n            });\r\n            return new Promise(pollSync);\r\n        });\r\n    }\r\n    /**\r\n     * Get state from server\r\n     */\r\n    sync() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.requiresAuthorization('sync', (accessToken) => __awaiter(this, void 0, void 0, function* () {\r\n                return this.eventService.sync(accessToken, {\r\n                    pollingTimeout: this.store.get('pollingTimeout'),\r\n                    syncToken: this.store.get('syncToken')\r\n                });\r\n            }));\r\n        });\r\n    }\r\n    /**\r\n     * A helper method that makes sure an access token is provided\r\n     *\r\n     * @param name\r\n     * @param action\r\n     */\r\n    requiresAuthorization(name, action) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const storedToken = this.store.get('accessToken');\r\n            if (!storedToken) {\r\n                return Promise.reject(`${name} requires authorization but no access token has been provided.`);\r\n            }\r\n            return action(storedToken);\r\n        });\r\n    }\r\n    /**\r\n     * Create a transaction ID\r\n     */\r\n    createTxnId() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const timestamp = new Date().getTime();\r\n            const counter = this.store.get('txnNo');\r\n            yield this.store.update({\r\n                txnNo: counter + 1\r\n            });\r\n            return `m${timestamp}.${counter}`;\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixClient.js.map","import { EventEmitter } from 'events';\r\nimport { keys } from '../utils/utils';\r\nimport { MatrixRoomStatus } from './models/MatrixRoom';\r\nimport { MatrixClientEventType } from './models/MatrixClientEvent';\r\nexport class MatrixClientEventEmitter extends EventEmitter {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.eventEmitProviders = new Map([\r\n            [MatrixClientEventType.INVITE, () => [this.isInvite, this.emitInvite.bind(this)]],\r\n            [MatrixClientEventType.MESSAGE, () => [this.isMessage, this.emitMessage.bind(this)]]\r\n        ]);\r\n    }\r\n    /**\r\n     * This method is called every time the state is changed\r\n     *\r\n     * @param _oldState\r\n     * @param _newState\r\n     * @param stateChange\r\n     */\r\n    onStateChanged(_oldState, _newState, stateChange) {\r\n        for (const event of keys(MatrixClientEventType)) {\r\n            this.emitIfEvent(MatrixClientEventType[event], stateChange);\r\n        }\r\n    }\r\n    /**\r\n     * Emit the message if we have listeners registered for that type\r\n     *\r\n     * @param eventType\r\n     * @param object\r\n     */\r\n    emitIfEvent(eventType, object) {\r\n        const provider = this.eventEmitProviders.get(eventType);\r\n        if (provider) {\r\n            const [predicate, emitter] = provider();\r\n            if (predicate(object)) {\r\n                emitter(eventType, object);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Emit a client event\r\n     *\r\n     * @param eventType\r\n     * @param content\r\n     */\r\n    emitClientEvent(eventType, content) {\r\n        this.emit(eventType, {\r\n            type: eventType,\r\n            content\r\n        });\r\n    }\r\n    /**\r\n     * Check if event is an invite\r\n     *\r\n     * @param stateChange\r\n     */\r\n    isInvite(stateChange) {\r\n        return stateChange.rooms\r\n            ? stateChange.rooms.some((room) => room.status === MatrixRoomStatus.INVITED)\r\n            : false;\r\n    }\r\n    /**\r\n     * Emit an invite\r\n     *\r\n     * @param eventType\r\n     * @param stateChange\r\n     */\r\n    emitInvite(eventType, stateChange) {\r\n        stateChange.rooms\r\n            .filter((room) => room.status === MatrixRoomStatus.INVITED)\r\n            .map((room) => room.id)\r\n            .forEach((id) => {\r\n            this.emitClientEvent(eventType, {\r\n                roomId: id\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Check if event is a message\r\n     *\r\n     * @param stateChange\r\n     */\r\n    isMessage(stateChange) {\r\n        return stateChange.rooms ? stateChange.rooms.some((room) => room.messages.length > 0) : false;\r\n    }\r\n    /**\r\n     * Emit an event to all rooms\r\n     *\r\n     * @param eventType\r\n     * @param stateChange\r\n     */\r\n    emitMessage(eventType, stateChange) {\r\n        stateChange.rooms\r\n            .filter((room) => room.messages.length > 0)\r\n            .map((room) => room.messages.map((message) => [room.id, message]))\r\n            .reduce((flatten, toFlatten) => flatten.concat(toFlatten), [])\r\n            .forEach(([roomId, message]) => {\r\n            this.emitClientEvent(eventType, {\r\n                roomId,\r\n                message\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixClientEventEmitter.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { keys } from '../utils/utils';\r\nimport { MatrixRoom, MatrixRoomStatus } from './models/MatrixRoom';\r\nimport { StorageKey } from '..';\r\nconst PRESERVED_FIELDS = ['syncToken', 'rooms'];\r\n/**\r\n * The class managing the local state of matrix\r\n */\r\nexport class MatrixClientStore {\r\n    constructor(storage) {\r\n        this.storage = storage;\r\n        /**\r\n         * The state of the matrix client\r\n         */\r\n        this.state = {\r\n            isRunning: false,\r\n            userId: undefined,\r\n            deviceId: undefined,\r\n            txnNo: 0,\r\n            accessToken: undefined,\r\n            syncToken: undefined,\r\n            pollingTimeout: undefined,\r\n            pollingRetries: 0,\r\n            rooms: {}\r\n        };\r\n        /**\r\n         * Listeners that will be called when the state changes\r\n         */\r\n        this.onStateChangedListeners = new Map();\r\n        /**\r\n         * A promise that resolves once the client is ready\r\n         */\r\n        this.waitReadyPromise = new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.initFromStorage();\r\n                resolve();\r\n            }\r\n            catch (error) {\r\n                reject(error);\r\n            }\r\n        }));\r\n    }\r\n    /**\r\n     * Get an item from the state\r\n     *\r\n     * @param key\r\n     */\r\n    get(key) {\r\n        return this.state[key];\r\n    }\r\n    /**\r\n     * Get the room from an ID or room instance\r\n     *\r\n     * @param roomOrId\r\n     */\r\n    getRoom(roomOrId) {\r\n        const room = MatrixRoom.from(roomOrId, MatrixRoomStatus.UNKNOWN);\r\n        return this.state.rooms[room.id] || room;\r\n    }\r\n    /**\r\n     * Update the state with a partial state\r\n     *\r\n     * @param stateUpdate\r\n     */\r\n    update(stateUpdate) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.waitReady();\r\n            const oldState = Object.assign({}, this.state);\r\n            this.setState(stateUpdate);\r\n            this.updateStorage(stateUpdate);\r\n            this.notifyListeners(oldState, this.state, stateUpdate);\r\n        });\r\n    }\r\n    /**\r\n     * Register listeners that are called once the state has changed\r\n     *\r\n     * @param listener\r\n     * @param subscribed\r\n     */\r\n    onStateChanged(listener, ...subscribed) {\r\n        if (subscribed.length > 0) {\r\n            subscribed.forEach((key) => {\r\n                this.onStateChangedListeners.set(key, listener);\r\n            });\r\n        }\r\n        else {\r\n            this.onStateChangedListeners.set('all', listener);\r\n        }\r\n    }\r\n    /**\r\n     * A promise that resolves once the client is ready\r\n     */\r\n    waitReady() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.waitReadyPromise;\r\n        });\r\n    }\r\n    /**\r\n     * Read state from storage\r\n     */\r\n    initFromStorage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const preserved = yield this.storage.get(StorageKey.MATRIX_PRESERVED_STATE);\r\n            this.setState(preserved);\r\n        });\r\n    }\r\n    /**\r\n     * Prepare data before persisting it in storage\r\n     *\r\n     * @param toStore\r\n     */\r\n    prepareData(toStore) {\r\n        const requiresPreparation = ['rooms'];\r\n        const toStoreCopy = requiresPreparation.some((key) => toStore[key] !== undefined)\r\n            ? JSON.parse(JSON.stringify(toStore))\r\n            : toStore;\r\n        // there is no need for saving messages in a persistent storage\r\n        Object.values(toStoreCopy.rooms || {}).forEach((room) => {\r\n            room.messages = [];\r\n        });\r\n        return toStoreCopy;\r\n    }\r\n    /**\r\n     * Persist state in storage\r\n     *\r\n     * @param stateUpdate\r\n     */\r\n    updateStorage(stateUpdate) {\r\n        const updatedCachedFields = Object.entries(stateUpdate).filter(([key, value]) => PRESERVED_FIELDS.includes(key) && Boolean(value));\r\n        if (updatedCachedFields.length > 0) {\r\n            const filteredState = {};\r\n            PRESERVED_FIELDS.forEach((key) => {\r\n                filteredState[key] = this.state[key];\r\n            });\r\n            this.storage.set(StorageKey.MATRIX_PRESERVED_STATE, this.prepareData(filteredState));\r\n        }\r\n    }\r\n    /**\r\n     * Set the state\r\n     *\r\n     * @param partialState\r\n     */\r\n    setState(partialState) {\r\n        this.state = {\r\n            isRunning: partialState.isRunning || this.state.isRunning,\r\n            userId: partialState.userId || this.state.userId,\r\n            deviceId: partialState.deviceId || this.state.deviceId,\r\n            txnNo: partialState.txnNo || this.state.txnNo,\r\n            accessToken: partialState.accessToken || this.state.accessToken,\r\n            syncToken: partialState.syncToken || this.state.syncToken,\r\n            pollingTimeout: partialState.pollingTimeout || this.state.pollingTimeout,\r\n            pollingRetries: partialState.pollingRetries || this.state.pollingRetries,\r\n            rooms: this.mergeRooms(this.state.rooms, partialState.rooms)\r\n        };\r\n    }\r\n    /**\r\n     * Merge room records and eliminate duplicates\r\n     *\r\n     * @param oldRooms\r\n     * @param _newRooms\r\n     */\r\n    mergeRooms(oldRooms, _newRooms) {\r\n        if (!_newRooms) {\r\n            return oldRooms;\r\n        }\r\n        const newRooms = Array.isArray(_newRooms) ? _newRooms : Object.values(_newRooms);\r\n        const merged = Object.assign({}, oldRooms);\r\n        newRooms.forEach((newRoom) => {\r\n            merged[newRoom.id] = MatrixRoom.merge(newRoom, oldRooms[newRoom.id]);\r\n        });\r\n        return merged;\r\n    }\r\n    /**\r\n     * Notify listeners of state changes\r\n     *\r\n     * @param oldState\r\n     * @param newState\r\n     * @param stateChange\r\n     */\r\n    notifyListeners(oldState, newState, stateChange) {\r\n        const listenForAll = this.onStateChangedListeners.get('all');\r\n        if (listenForAll) {\r\n            listenForAll(oldState, newState, stateChange);\r\n        }\r\n        keys(stateChange)\r\n            .filter((key) => stateChange[key] !== undefined)\r\n            .forEach((key) => {\r\n            const listener = this.onStateChangedListeners.get(key);\r\n            if (listener) {\r\n                listener(oldState, newState, stateChange);\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixClientStore.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport axios from 'axios';\r\nimport { keys } from '../utils/utils';\r\nconst CLIENT_API_R0 = '/_matrix/client/r0';\r\n/**\r\n * Handling the HTTP connection to the matrix synapse node\r\n */\r\nexport class MatrixHttpClient {\r\n    constructor(baseUrl) {\r\n        this.baseUrl = baseUrl;\r\n    }\r\n    /**\r\n     * Get data from the synapse node\r\n     *\r\n     * @param endpoint\r\n     * @param params\r\n     * @param options\r\n     */\r\n    get(endpoint, params, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.send('GET', endpoint, options, params);\r\n        });\r\n    }\r\n    /**\r\n     * Post data to the synapse node\r\n     *\r\n     * @param endpoint\r\n     * @param body\r\n     * @param options\r\n     * @param params\r\n     */\r\n    post(endpoint, body, options, params) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.send('POST', endpoint, options, params, body);\r\n        });\r\n    }\r\n    /**\r\n     * Put data to the synapse node\r\n     *\r\n     * @param endpoint\r\n     * @param body\r\n     * @param options\r\n     * @param params\r\n     */\r\n    put(endpoint, body, options, params) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.send('PUT', endpoint, options, params, body);\r\n        });\r\n    }\r\n    /**\r\n     * Send a request to the synapse node\r\n     *\r\n     * @param method\r\n     * @param endpoint\r\n     * @param config\r\n     * @param requestParams\r\n     * @param data\r\n     */\r\n    send(method, endpoint, config, requestParams, data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const headers = config ? this.getHeaders(config) : undefined;\r\n            const params = requestParams ? this.getParams(requestParams) : undefined;\r\n            const response = yield axios.request({\r\n                method,\r\n                url: endpoint,\r\n                baseURL: this.apiUrl(CLIENT_API_R0),\r\n                headers,\r\n                data,\r\n                params\r\n            });\r\n            return response.data;\r\n        });\r\n    }\r\n    /**\r\n     * Get the headers based on the options object\r\n     *\r\n     * @param options\r\n     */\r\n    getHeaders(options) {\r\n        const headers = {};\r\n        const entries = [];\r\n        if (options.accessToken) {\r\n            entries.push(['Authorization', `Bearer ${options.accessToken}`]);\r\n        }\r\n        if (entries.length === 0) {\r\n            return undefined;\r\n        }\r\n        for (const [key, value] of entries) {\r\n            headers[key] = value;\r\n        }\r\n        return headers;\r\n    }\r\n    /**\r\n     * Get parameters\r\n     *\r\n     * @param _params\r\n     */\r\n    getParams(_params) {\r\n        if (!_params) {\r\n            return undefined;\r\n        }\r\n        const params = Object.assign(_params, {});\r\n        keys(params).forEach((key) => params[key] === undefined && delete params[key]);\r\n        return params;\r\n    }\r\n    /**\r\n     * Construct API URL\r\n     */\r\n    apiUrl(...parts) {\r\n        const apiBase = this.baseUrl.endsWith('/')\r\n            ? this.baseUrl.substr(0, this.baseUrl.length - 1)\r\n            : this.baseUrl;\r\n        const apiParts = parts.map((path) => (path.startsWith('/') ? path.substr(1) : path));\r\n        return [apiBase, ...apiParts].join('/');\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixHttpClient.js.map","export var MatrixClientEventType;\r\n(function (MatrixClientEventType) {\r\n    MatrixClientEventType[\"INVITE\"] = \"invite\";\r\n    MatrixClientEventType[\"MESSAGE\"] = \"message\";\r\n})(MatrixClientEventType || (MatrixClientEventType = {}));\r\n//# sourceMappingURL=MatrixClientEvent.js.map","import { isTextMessageEvent } from '../utils/events';\r\nexport var MatrixMessageType;\r\n(function (MatrixMessageType) {\r\n    MatrixMessageType[\"TEXT\"] = \"m.text\";\r\n})(MatrixMessageType || (MatrixMessageType = {}));\r\nexport class MatrixMessage {\r\n    constructor(type, sender, content) {\r\n        this.type = type;\r\n        this.sender = sender;\r\n        this.content = content;\r\n    }\r\n    /**\r\n     * Construct a message from a message event\r\n     *\r\n     * @param event\r\n     */\r\n    static from(event) {\r\n        if (isTextMessageEvent(event)) {\r\n            return new MatrixMessage(event.content.msgtype, event.sender, event.content.body);\r\n        }\r\n        // for now only text messages are supported\r\n        return undefined;\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixMessage.js.map","import { isCreateEvent, isJoinEvent, isMessageEvent } from '../utils/events';\r\nimport { MatrixMessage } from './MatrixMessage';\r\nexport var MatrixRoomStatus;\r\n(function (MatrixRoomStatus) {\r\n    MatrixRoomStatus[MatrixRoomStatus[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\r\n    MatrixRoomStatus[MatrixRoomStatus[\"JOINED\"] = 1] = \"JOINED\";\r\n    MatrixRoomStatus[MatrixRoomStatus[\"INVITED\"] = 2] = \"INVITED\";\r\n    MatrixRoomStatus[MatrixRoomStatus[\"LEFT\"] = 3] = \"LEFT\";\r\n})(MatrixRoomStatus || (MatrixRoomStatus = {}));\r\nexport class MatrixRoom {\r\n    constructor(id, status = MatrixRoomStatus.UNKNOWN, members = [], messages = []) {\r\n        this.id = id;\r\n        this.status = status;\r\n        this.members = members;\r\n        this.messages = messages;\r\n    }\r\n    /**\r\n     * Reconstruct rooms from a sync response\r\n     *\r\n     * @param roomSync\r\n     */\r\n    static fromSync(roomSync) {\r\n        function create(rooms, creator) {\r\n            return Object.entries(rooms).map(([id, room]) => creator(id, room));\r\n        }\r\n        return [\r\n            ...create(roomSync.join, MatrixRoom.fromJoined),\r\n            ...create(roomSync.invite, MatrixRoom.fromInvited),\r\n            ...create(roomSync.leave, MatrixRoom.fromLeft)\r\n        ];\r\n    }\r\n    /**\r\n     * Reconstruct a room from an ID or object\r\n     *\r\n     * @param roomOrId\r\n     * @param status\r\n     */\r\n    static from(roomOrId, status) {\r\n        return roomOrId instanceof MatrixRoom\r\n            ? status\r\n                ? new MatrixRoom(roomOrId.id, status, roomOrId.members, roomOrId.messages)\r\n                : roomOrId\r\n            : new MatrixRoom(roomOrId, status || MatrixRoomStatus.UNKNOWN);\r\n    }\r\n    /**\r\n     * Merge new and old state and remove duplicates\r\n     *\r\n     * @param newState\r\n     * @param previousState\r\n     */\r\n    static merge(newState, previousState) {\r\n        if (!previousState || previousState.id !== newState.id) {\r\n            return MatrixRoom.from(newState);\r\n        }\r\n        return new MatrixRoom(newState.id, newState.status, [...previousState.members, ...newState.members].filter((member, index, array) => array.indexOf(member) === index), [...previousState.messages, ...newState.messages]);\r\n    }\r\n    /**\r\n     * Create a room from a join\r\n     *\r\n     * @param id\r\n     * @param joined\r\n     */\r\n    static fromJoined(id, joined) {\r\n        const events = [...joined.state.events, ...joined.timeline.events];\r\n        const members = MatrixRoom.getMembersFromEvents(events);\r\n        const messages = MatrixRoom.getMessagesFromEvents(events);\r\n        return new MatrixRoom(id, MatrixRoomStatus.JOINED, members, messages);\r\n    }\r\n    /**\r\n     * Create a room from an invite\r\n     *\r\n     * @param id\r\n     * @param invited\r\n     */\r\n    static fromInvited(id, invited) {\r\n        const members = MatrixRoom.getMembersFromEvents(invited.invite_state.events);\r\n        return new MatrixRoom(id, MatrixRoomStatus.INVITED, members);\r\n    }\r\n    /**\r\n     * Create a room from a leave\r\n     *\r\n     * @param id\r\n     * @param left\r\n     */\r\n    static fromLeft(id, left) {\r\n        const events = [...left.state.events, ...left.timeline.events];\r\n        const members = MatrixRoom.getMembersFromEvents(events);\r\n        const messages = MatrixRoom.getMessagesFromEvents(events);\r\n        return new MatrixRoom(id, MatrixRoomStatus.LEFT, members, messages);\r\n    }\r\n    /**\r\n     * Extract members from an event\r\n     *\r\n     * @param events\r\n     */\r\n    static getMembersFromEvents(events) {\r\n        return MatrixRoom.getUniqueEvents(events.filter((event) => isCreateEvent(event) || isJoinEvent(event)))\r\n            .map((event) => event.sender)\r\n            .filter((member, index, array) => array.indexOf(member) === index);\r\n    }\r\n    /**\r\n     * Extract messages from an event\r\n     *\r\n     * @param events\r\n     */\r\n    static getMessagesFromEvents(events) {\r\n        return MatrixRoom.getUniqueEvents(events.filter(isMessageEvent))\r\n            .map((event) => MatrixMessage.from(event))\r\n            .filter(Boolean);\r\n    }\r\n    /**\r\n     * Get unique events and remove duplicates\r\n     *\r\n     * @param events\r\n     */\r\n    static getUniqueEvents(events) {\r\n        const eventIds = {};\r\n        const uniqueEvents = [];\r\n        events.forEach((event, index) => {\r\n            const eventId = event.event_id;\r\n            if (eventId === undefined || !(eventId in eventIds)) {\r\n                if (eventId !== undefined) {\r\n                    eventIds[eventId] = index;\r\n                }\r\n                uniqueEvents.push(event);\r\n            }\r\n        });\r\n        return uniqueEvents;\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixRoom.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { MatrixRoomStatus } from '../models/MatrixRoom';\r\n/**\r\n * A service to help with matrix event management\r\n */\r\nexport class MatrixEventService {\r\n    constructor(httpClient) {\r\n        this.httpClient = httpClient;\r\n        this.cachedPromises = new Map();\r\n    }\r\n    /**\r\n     * Get the latest state from the matrix node\r\n     *\r\n     * @param accessToken\r\n     * @param options\r\n     */\r\n    sync(accessToken, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.withCache('sync', () => this.httpClient.get('/sync', {\r\n                timeout: options ? options.pollingTimeout : undefined,\r\n                since: options ? options.syncToken : undefined\r\n            }, { accessToken }));\r\n        });\r\n    }\r\n    /**\r\n     * Send a message to a room\r\n     *\r\n     * @param accessToken\r\n     * @param room\r\n     * @param content\r\n     * @param txnId\r\n     */\r\n    sendMessage(accessToken, room, content, txnId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve, reject) => this.scheduleEvent({\r\n                accessToken,\r\n                room,\r\n                type: 'm.room.message',\r\n                content,\r\n                txnId,\r\n                onSuccess: resolve,\r\n                onError: reject\r\n            }));\r\n        });\r\n    }\r\n    /**\r\n     * Schedules an event to be sent to the node\r\n     *\r\n     * @param event\r\n     */\r\n    scheduleEvent(event) {\r\n        // TODO: actual scheduling\r\n        this.sendEvent(event);\r\n    }\r\n    /**\r\n     * Send an event to the matrix node\r\n     *\r\n     * @param scheduledEvent\r\n     */\r\n    sendEvent(scheduledEvent) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { room, type, txnId, content, accessToken } = scheduledEvent;\r\n            if (room.status !== MatrixRoomStatus.JOINED && room.status !== MatrixRoomStatus.UNKNOWN) {\r\n                return Promise.reject(`User is not a member of room ${room.id}.`);\r\n            }\r\n            try {\r\n                const response = yield this.httpClient.put(`/rooms/${room.id}/send/${type}/${txnId}`, content, { accessToken });\r\n                scheduledEvent.onSuccess(response);\r\n            }\r\n            catch (error) {\r\n                scheduledEvent.onError(error);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Check the cache when interacting with the Matrix node, if there is an already ongoing call for the specified key, return its promise instead of duplicating the call.\r\n     *\r\n     * @param key\r\n     * @param promiseProvider\r\n     */\r\n    withCache(key, promiseProvider) {\r\n        let promise = this.cachedPromises.get(key);\r\n        if (!promise) {\r\n            promise = promiseProvider().finally(() => {\r\n                this.cachedPromises.delete(key);\r\n            });\r\n            this.cachedPromises.set(key, promise);\r\n        }\r\n        return promise;\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixEventService.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { MatrixRoomStatus } from '../models/MatrixRoom';\r\n/**\r\n * A service to help with matrix room management\r\n */\r\nexport class MatrixRoomService {\r\n    constructor(httpClient) {\r\n        this.httpClient = httpClient;\r\n    }\r\n    /**\r\n     * Create a room\r\n     *\r\n     * @param accessToken\r\n     * @param config\r\n     */\r\n    createRoom(accessToken, config = {}) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.httpClient.post('/createRoom', config, { accessToken });\r\n        });\r\n    }\r\n    /**\r\n     * Invite a user to a room\r\n     *\r\n     * @param accessToken\r\n     * @param user\r\n     * @param room\r\n     */\r\n    inviteToRoom(accessToken, user, room) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (room.status !== MatrixRoomStatus.JOINED && room.status !== MatrixRoomStatus.UNKNOWN) {\r\n                return Promise.reject(`User is not a member of room ${room.id}.`);\r\n            }\r\n            return this.httpClient.post(`/rooms/${room.id}/invite`, { user_id: user }, { accessToken });\r\n        });\r\n    }\r\n    /**\r\n     * Join a specific room\r\n     *\r\n     * @param accessToken\r\n     * @param room\r\n     */\r\n    joinRoom(accessToken, room) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (room.status === MatrixRoomStatus.JOINED) {\r\n                return Promise.resolve({ room_id: room.id });\r\n            }\r\n            return this.httpClient.post(`/rooms/${room.id}/join`, {}, { accessToken });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixRoomService.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nexport class MatrixUserService {\r\n    constructor(httpClient) {\r\n        this.httpClient = httpClient;\r\n    }\r\n    /**\r\n     * Log in to the matrix node with username and password\r\n     *\r\n     * @param user\r\n     * @param password\r\n     * @param deviceId\r\n     */\r\n    login(user, password, deviceId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.httpClient.post('/login', {\r\n                type: 'm.login.password',\r\n                identifier: {\r\n                    type: 'm.id.user',\r\n                    user\r\n                },\r\n                password,\r\n                device_id: deviceId\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=MatrixUserService.js.map","import { MatrixMessageType } from '../models/MatrixMessage';\r\n/**\r\n * Check if an event is a create event\r\n *\r\n * @param event MatrixStateEvent\r\n */\r\nexport const isCreateEvent = (event) => event.type === 'm.room.create' && event.content instanceof Object && 'creator' in event.content;\r\n/**\r\n * Check if an event is a join event\r\n *\r\n * @param event MatrixStateEvent\r\n */\r\nexport const isJoinEvent = (event) => event.type === 'm.room.member' &&\r\n    event.content instanceof Object &&\r\n    'membership' in event.content &&\r\n    // eslint-disable-next-line dot-notation\r\n    event.content['membership'] === 'join';\r\n/**\r\n * Check if an event is a message event\r\n *\r\n * @param event MatrixStateEvent\r\n */\r\nexport const isMessageEvent = (event) => event.type === 'm.room.message';\r\n/**\r\n * Check if an event is a text message event\r\n *\r\n * @param event MatrixStateEvent\r\n */\r\nexport const isTextMessageEvent = (event) => isMessageEvent(event) &&\r\n    event.content instanceof Object &&\r\n    'msgtype' in event.content &&\r\n    // eslint-disable-next-line dot-notation\r\n    event.content['msgtype'] === MatrixMessageType.TEXT;\r\n//# sourceMappingURL=events.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { defaultValues } from '../types/storage/StorageKeyReturnDefaults';\r\nexport class ChromeStorage {\r\n    static isSupported() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return (typeof window !== 'undefined' &&\r\n                typeof chrome !== 'undefined' &&\r\n                Boolean(chrome) &&\r\n                Boolean(chrome.runtime) &&\r\n                Boolean(chrome.runtime.id));\r\n        });\r\n    }\r\n    get(key) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve) => {\r\n                chrome.storage.local.get(null, (storageContent) => {\r\n                    if (storageContent[key]) {\r\n                        resolve(storageContent[key]);\r\n                    }\r\n                    else {\r\n                        if (typeof defaultValues[key] === 'object') {\r\n                            resolve(JSON.parse(JSON.stringify(defaultValues[key])));\r\n                        }\r\n                        else {\r\n                            resolve(defaultValues[key]);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    set(key, value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve) => {\r\n                chrome.storage.local.set({ [key]: value }, () => {\r\n                    resolve();\r\n                });\r\n            });\r\n        });\r\n    }\r\n    delete(key) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve) => {\r\n                chrome.storage.local.set({ [key]: undefined }, () => {\r\n                    resolve();\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=ChromeStorage.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { defaultValues } from '../types/storage/StorageKeyReturnDefaults';\r\nexport class LocalStorage {\r\n    constructor(prefix) {\r\n        this.prefix = prefix;\r\n    }\r\n    static isSupported() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Promise.resolve(Boolean(typeof window !== 'undefined') && Boolean(window.localStorage));\r\n        });\r\n    }\r\n    get(key) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const value = localStorage.getItem(this.getPrefixedKey(key));\r\n            if (!value) {\r\n                if (typeof defaultValues[key] === 'object') {\r\n                    return JSON.parse(JSON.stringify(defaultValues[key]));\r\n                }\r\n                else {\r\n                    return defaultValues[key];\r\n                }\r\n            }\r\n            else {\r\n                try {\r\n                    return JSON.parse(value);\r\n                }\r\n                catch (jsonParseError) {\r\n                    return value; // TODO: Validate storage\r\n                }\r\n            }\r\n        });\r\n    }\r\n    set(key, value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof value === 'string') {\r\n                return localStorage.setItem(this.getPrefixedKey(key), value);\r\n            }\r\n            else {\r\n                return localStorage.setItem(this.getPrefixedKey(key), JSON.stringify(value));\r\n            }\r\n        });\r\n    }\r\n    delete(key) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Promise.resolve(localStorage.removeItem(this.getPrefixedKey(key)));\r\n        });\r\n    }\r\n    getPrefixedKey(key) {\r\n        return this.prefix ? `${this.prefix}-${key}` : key;\r\n    }\r\n}\r\n//# sourceMappingURL=LocalStorage.js.map","/**\r\n * The storage used in the SDK\r\n */\r\nexport class Storage {\r\n    /**\r\n     * Returns a promise that resolves to true if the storage option is available on this platform.\r\n     */\r\n    static isSupported() {\r\n        return Promise.resolve(false);\r\n    }\r\n}\r\n//# sourceMappingURL=Storage.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Logger } from '../utils/Logger';\r\nimport { ChromeStorage, LocalStorage } from '..';\r\nconst logger = new Logger('STORAGE');\r\n/**\r\n * Get a supported storage on this platform\r\n */\r\nexport const getStorage = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    if (yield ChromeStorage.isSupported()) {\r\n        logger.log('getStorage', 'USING CHROME STORAGE');\r\n        return new ChromeStorage();\r\n    }\r\n    else if (yield LocalStorage.isSupported()) {\r\n        logger.log('getStorage', 'USING LOCAL STORAGE');\r\n        return new LocalStorage();\r\n    }\r\n    else {\r\n        throw new Error('no storage type supported');\r\n    }\r\n});\r\n//# sourceMappingURL=getStorage.js.map","// eslint-disable-next-line spaced-comment\r\n/// <reference types=\"chrome\"/>\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Logger } from '../utils/Logger';\r\nimport { ExtensionMessageTarget, Transport, TransportType, Origin, StorageKey, Serializer } from '..';\r\nimport { PeerManager } from '../managers/PeerManager';\r\nimport { TransportStatus } from '../types/transport/TransportStatus';\r\nimport { ChromeMessageClient } from './clients/ChromeMessageClient';\r\nconst logger = new Logger('ChromeMessageTransport');\r\nexport class ChromeMessageTransport extends Transport {\r\n    constructor(name, keyPair, storage) {\r\n        super(name);\r\n        this.type = TransportType.CHROME_MESSAGE;\r\n        this.keyPair = keyPair;\r\n        this.client = new ChromeMessageClient(this.name, this.keyPair, false);\r\n        this.peerManager = new PeerManager(storage, StorageKey.TRANSPORT_POSTMESSAGE_PEERS);\r\n        this.init().catch((error) => console.error(error));\r\n        this.connect().catch((error) => console.error(error));\r\n    }\r\n    static isAvailable() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const isAvailable = Boolean(window.chrome && chrome.runtime && chrome.runtime.id);\r\n            return Promise.resolve(isAvailable);\r\n        });\r\n    }\r\n    connect() {\r\n        const _super = Object.create(null, {\r\n            connect: { get: () => super.connect }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('connect');\r\n            this._isConnected = TransportStatus.CONNECTING;\r\n            const knownPeers = yield this.peerManager.getPeers();\r\n            if (knownPeers.length > 0) {\r\n                logger.log('connect', `connecting to ${knownPeers.length} peers`);\r\n                const connectionPromises = knownPeers.map((peer) => __awaiter(this, void 0, void 0, function* () { return this.listen(peer.publicKey); }));\r\n                yield Promise.all(connectionPromises);\r\n            }\r\n            yield _super.connect.call(this);\r\n        });\r\n    }\r\n    send(payload) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const message = {\r\n                target: ExtensionMessageTarget.PAGE,\r\n                payload\r\n            };\r\n            chrome.runtime.sendMessage(message, (data) => {\r\n                logger.log('send', 'got response', data);\r\n            });\r\n        });\r\n    }\r\n    sendToTabs(publicKey, payload) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.client.sendMessage(publicKey, payload);\r\n        });\r\n    }\r\n    getPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.peerManager.getPeers();\r\n        });\r\n    }\r\n    addPeer(newPeer) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!(yield this.peerManager.hasPeer(newPeer.publicKey))) {\r\n                logger.log('addPeer', newPeer);\r\n                yield this.peerManager.addPeer(newPeer);\r\n                yield this.listen(newPeer.publicKey);\r\n            }\r\n            else {\r\n                logger.log('addPeer', 'peer already added, skipping', newPeer);\r\n            }\r\n            yield this.client.sendPairingResponse(newPeer);\r\n        });\r\n    }\r\n    removePeer(peerToBeRemoved) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('removePeer', peerToBeRemoved);\r\n            yield this.peerManager.removePeer(peerToBeRemoved.publicKey);\r\n            if (this.client) {\r\n                yield this.client.unsubscribeFromEncryptedMessage(peerToBeRemoved.publicKey);\r\n            }\r\n        });\r\n    }\r\n    removeAllPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('removeAllPeers');\r\n            yield this.peerManager.removeAllPeers();\r\n            yield this.client.unsubscribeFromEncryptedMessages();\r\n        });\r\n    }\r\n    listen(publicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.client\r\n                .listenForEncryptedMessage(publicKey, (message, sender, sendResponse) => __awaiter(this, void 0, void 0, function* () {\r\n                const connectionContext = {\r\n                    origin: Origin.WEBSITE,\r\n                    id: sender.url ? sender.url : '',\r\n                    extras: { sender, sendResponse }\r\n                };\r\n                this.notifyListeners(message, connectionContext).catch((error) => {\r\n                    throw error;\r\n                });\r\n            }))\r\n                .catch((error) => {\r\n                throw error;\r\n            });\r\n        });\r\n    }\r\n    init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n                logger.log('init', 'receiving chrome message', message, sender);\r\n                if (message && message.payload && typeof message.payload === 'string') {\r\n                    // Handling PairingRequest and connect peer\r\n                    new Serializer()\r\n                        .deserialize(message.payload)\r\n                        .then((deserialized) => {\r\n                        // TODO: Add check if it's a peer\r\n                        if (deserialized.publicKey) {\r\n                            this.addPeer(deserialized).catch(console.error);\r\n                        }\r\n                        else {\r\n                            // V1 does not support encryption, so we handle the message directly\r\n                            if (deserialized.version === '1') {\r\n                                this.notify(message, sender, sendResponse).catch((error) => {\r\n                                    throw error;\r\n                                });\r\n                            }\r\n                        }\r\n                    })\r\n                        .catch(undefined);\r\n                }\r\n                else if (message && message.payload) {\r\n                    // Most likely an internal, unencrypted message\r\n                    this.notify(message, sender, sendResponse).catch((error) => {\r\n                        throw error;\r\n                    });\r\n                }\r\n                // return true from the event listener to indicate you wish to send a response asynchronously\r\n                // (this will keep the message channel open to the other end until sendResponse is called).\r\n                // return true\r\n            });\r\n        });\r\n    }\r\n    notify(message, sender, sendResponse) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const connectionContext = {\r\n                origin: Origin.WEBSITE,\r\n                id: sender.url ? sender.url : '',\r\n                extras: { sender, sendResponse }\r\n            };\r\n            this.notifyListeners(message, connectionContext).catch((error) => {\r\n                throw error;\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=ChromeMessageTransport.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Logger } from '../utils/Logger';\r\nimport { StorageKey, TransportStatus, Transport, TransportType, P2PCommunicationClient, Origin } from '..';\r\nimport { BeaconEvent } from '../events';\r\nimport { PeerManager } from '../managers/PeerManager';\r\nconst logger = new Logger('P2PTransport');\r\nexport class P2PTransport extends Transport {\r\n    constructor(name, keyPair, storage, events, matrixNodes, isDapp) {\r\n        super(name);\r\n        this.type = TransportType.P2P;\r\n        this.isDapp = true;\r\n        // Make sure we only listen once\r\n        this.listeningForChannelOpenings = false;\r\n        this.events = events;\r\n        this.isDapp = isDapp;\r\n        this.client = new P2PCommunicationClient(this.name, keyPair, 1, storage, matrixNodes, false);\r\n        this.peerManager = new PeerManager(storage, StorageKey.TRANSPORT_P2P_PEERS);\r\n    }\r\n    static isAvailable() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Promise.resolve(true);\r\n        });\r\n    }\r\n    connect() {\r\n        const _super = Object.create(null, {\r\n            connect: { get: () => super.connect }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('connect');\r\n            this._isConnected = TransportStatus.CONNECTING;\r\n            yield this.client.start();\r\n            const knownPeers = yield this.peerManager.getPeers();\r\n            if (knownPeers.length > 0) {\r\n                logger.log('connect', `connecting to ${knownPeers.length} peers`);\r\n                const connectionPromises = knownPeers.map((peer) => __awaiter(this, void 0, void 0, function* () { return this.listen(peer.publicKey); }));\r\n                yield Promise.all(connectionPromises);\r\n            }\r\n            else {\r\n                if (this.isDapp) {\r\n                    yield this.connectNewPeer();\r\n                }\r\n            }\r\n            yield _super.connect.call(this);\r\n        });\r\n    }\r\n    reconnect() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.isDapp) {\r\n                yield this.connectNewPeer();\r\n            }\r\n        });\r\n    }\r\n    connectNewPeer() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('connectNewPeer');\r\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\r\n                if (!this.listeningForChannelOpenings) {\r\n                    yield this.client.listenForChannelOpening((peer) => __awaiter(this, void 0, void 0, function* () {\r\n                        logger.log('connectNewPeer', `new publicKey`, peer.publicKey);\r\n                        yield this.addPeer(peer);\r\n                        this.events\r\n                            .emit(BeaconEvent.P2P_CHANNEL_CONNECT_SUCCESS, peer)\r\n                            .catch((emitError) => console.warn(emitError));\r\n                        resolve();\r\n                    }));\r\n                    this.listeningForChannelOpenings = true;\r\n                }\r\n                this.events\r\n                    .emit(BeaconEvent.P2P_LISTEN_FOR_CHANNEL_OPEN, yield this.client.getHandshakeInfo())\r\n                    .catch((emitError) => console.warn(emitError));\r\n            }));\r\n        });\r\n    }\r\n    getPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.peerManager.getPeers();\r\n        });\r\n    }\r\n    addPeer(newPeer) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!(yield this.peerManager.hasPeer(newPeer.publicKey))) {\r\n                logger.log('addPeer', newPeer);\r\n                yield this.peerManager.addPeer(newPeer);\r\n                yield this.listen(newPeer.publicKey); // TODO: Prevent channels from being opened multiple times\r\n            }\r\n            else {\r\n                logger.log('addPeer', 'peer already added, skipping', newPeer);\r\n            }\r\n            yield this.client.sendPairingResponse(newPeer); // TODO: Should we have a confirmation here?\r\n        });\r\n    }\r\n    removePeer(peerToBeRemoved) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('removePeer', peerToBeRemoved);\r\n            yield this.peerManager.removePeer(peerToBeRemoved.publicKey);\r\n            if (this.client) {\r\n                yield this.client.unsubscribeFromEncryptedMessage(peerToBeRemoved.publicKey);\r\n            }\r\n        });\r\n    }\r\n    removeAllPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('removeAllPeers');\r\n            yield this.peerManager.removeAllPeers();\r\n            yield this.client.unsubscribeFromEncryptedMessages();\r\n        });\r\n    }\r\n    send(message, recipient) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const knownPeers = yield this.peerManager.getPeers();\r\n            if (recipient) {\r\n                if (!knownPeers.some((peer) => peer.publicKey === recipient)) {\r\n                    throw new Error('Recipient unknown');\r\n                }\r\n                return this.client.sendMessage(recipient, message);\r\n            }\r\n            else {\r\n                // A broadcast request has to be sent everywhere.\r\n                const promises = knownPeers.map((peer) => this.client.sendMessage(peer.publicKey, message));\r\n                return (yield Promise.all(promises))[0];\r\n            }\r\n        });\r\n    }\r\n    listen(publicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.client\r\n                .listenForEncryptedMessage(publicKey, (message) => {\r\n                const connectionContext = {\r\n                    origin: Origin.P2P,\r\n                    id: publicKey\r\n                };\r\n                this.notifyListeners(message, connectionContext).catch((error) => {\r\n                    throw error;\r\n                });\r\n            })\r\n                .catch((error) => {\r\n                throw error;\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=P2PTransport.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { myWindow } from '../MockWindow';\r\nimport { ExtensionMessageTarget, TransportType, TransportStatus, StorageKey } from '..';\r\nimport { Origin } from '../types/Origin';\r\nimport { PeerManager } from '../managers/PeerManager';\r\nimport { Logger } from '../utils/Logger';\r\nimport { Transport } from './Transport';\r\nimport { PostMessageClient } from './clients/PostMessageClient';\r\nconst logger = new Logger('PostMessageTransport');\r\nexport class PostMessageTransport extends Transport {\r\n    constructor(name, keyPair, storage, isDapp) {\r\n        super(name);\r\n        this.type = TransportType.POST_MESSAGE;\r\n        /**\r\n         * A flag indicating whether\r\n         */\r\n        this.isDapp = true;\r\n        // Make sure we only listen once\r\n        this.listeningForChannelOpenings = false;\r\n        this.isDapp = isDapp;\r\n        this.client = new PostMessageClient(this.name, keyPair, false);\r\n        this.peerManager = new PeerManager(storage, StorageKey.TRANSPORT_POSTMESSAGE_PEERS);\r\n    }\r\n    static isAvailable() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const fn = (event) => {\r\n                    const data = event.data;\r\n                    if (data && data.payload === 'pong') {\r\n                        resolve(true);\r\n                        myWindow.removeEventListener('message', fn);\r\n                    }\r\n                };\r\n                myWindow.addEventListener('message', fn);\r\n                const message = {\r\n                    target: ExtensionMessageTarget.EXTENSION,\r\n                    payload: 'ping'\r\n                };\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                myWindow.postMessage(message, window.location.origin);\r\n            });\r\n        });\r\n    }\r\n    connect() {\r\n        const _super = Object.create(null, {\r\n            connect: { get: () => super.connect }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('connect');\r\n            this._isConnected = TransportStatus.CONNECTING;\r\n            const knownPeers = yield this.peerManager.getPeers();\r\n            if (knownPeers.length > 0) {\r\n                logger.log('connect', `connecting to ${knownPeers.length} peers`);\r\n                const connectionPromises = knownPeers.map((peer) => __awaiter(this, void 0, void 0, function* () { return this.listen(peer.publicKey); }));\r\n                yield Promise.all(connectionPromises);\r\n            }\r\n            else {\r\n                if (this.isDapp) {\r\n                    yield this.connectNewPeer();\r\n                }\r\n            }\r\n            yield _super.connect.call(this);\r\n        });\r\n    }\r\n    reconnect() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.isDapp) {\r\n                yield this.connectNewPeer();\r\n            }\r\n        });\r\n    }\r\n    connectNewPeer() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('connectNewPeer');\r\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\r\n                if (!this.listeningForChannelOpenings) {\r\n                    yield this.client.listenForChannelOpening((pairingResponse) => __awaiter(this, void 0, void 0, function* () {\r\n                        logger.log('connectNewPeer', `received PairingResponse`, pairingResponse);\r\n                        yield this.addPeer(pairingResponse);\r\n                        resolve();\r\n                    }));\r\n                    this.listeningForChannelOpenings = true;\r\n                }\r\n            }));\r\n        });\r\n    }\r\n    getPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.peerManager.getPeers();\r\n        });\r\n    }\r\n    addPeer(newPeer) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!(yield this.peerManager.hasPeer(newPeer.publicKey))) {\r\n                logger.log('addPeer', newPeer);\r\n                yield this.peerManager.addPeer(newPeer);\r\n                yield this.listen(newPeer.publicKey);\r\n            }\r\n            else {\r\n                logger.log('addPeer', 'peer already added, skipping', newPeer);\r\n            }\r\n        });\r\n    }\r\n    removePeer(peerToBeRemoved) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('removePeer', peerToBeRemoved);\r\n            yield this.peerManager.removePeer(peerToBeRemoved.publicKey);\r\n            yield this.client.unsubscribeFromEncryptedMessage(peerToBeRemoved.publicKey);\r\n        });\r\n    }\r\n    removeAllPeers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('removeAllPeers');\r\n            yield this.peerManager.removeAllPeers();\r\n            yield this.client.unsubscribeFromEncryptedMessages();\r\n        });\r\n    }\r\n    send(message, recipient) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('send', recipient, message);\r\n            if (recipient) {\r\n                yield this.client.sendMessage(recipient, message);\r\n            }\r\n            else {\r\n                const peers = yield this.peerManager.getPeers();\r\n                yield Promise.all(peers.map((peer) => this.client.sendMessage(peer.publicKey, message).catch(console.error)));\r\n            }\r\n        });\r\n    }\r\n    listen(publicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('listen', publicKey);\r\n            yield this.client\r\n                .listenForEncryptedMessage(publicKey, (message, context) => {\r\n                const connectionContext = {\r\n                    origin: Origin.EXTENSION,\r\n                    id: context.id\r\n                };\r\n                this.notifyListeners(message, connectionContext).catch((error) => {\r\n                    throw error;\r\n                });\r\n            })\r\n                .catch((error) => {\r\n                throw error;\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=PostMessageTransport.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Logger } from '../utils/Logger';\r\nimport { TransportType, TransportStatus } from '..';\r\nconst logger = new Logger('Transport');\r\nexport class Transport {\r\n    constructor(name) {\r\n        /**\r\n         * The type of the transport\r\n         */\r\n        this.type = TransportType.POST_MESSAGE;\r\n        /**\r\n         * The status of the transport\r\n         */\r\n        this._isConnected = TransportStatus.NOT_CONNECTED;\r\n        /**\r\n         * The listeners that will be notified when new messages are coming in\r\n         */\r\n        this.listeners = [];\r\n        this.name = name;\r\n    }\r\n    /**\r\n     * Return the status of the connection\r\n     */\r\n    get connectionStatus() {\r\n        return this._isConnected;\r\n    }\r\n    /**\r\n     * Returns a promise that resolves to true if the transport is available, false if it is not\r\n     */\r\n    static isAvailable() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Promise.resolve(false);\r\n        });\r\n    }\r\n    /**\r\n     * Connect the transport\r\n     */\r\n    connect() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('connect');\r\n            this._isConnected = TransportStatus.CONNECTED;\r\n            return;\r\n        });\r\n    }\r\n    /**\r\n     * Reconnect the transport\r\n     *\r\n     * This method will be called if we tried to connect, but it didn't work\r\n     */\r\n    reconnect() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('reconnect');\r\n            return;\r\n        });\r\n    }\r\n    /**\r\n     * Send a message through the transport\r\n     *\r\n     * @param message The message to send\r\n     * @param recipient The recipient of the message\r\n     */\r\n    send(message, recipient) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('send', message, recipient);\r\n            return;\r\n        });\r\n    }\r\n    /**\r\n     * Add a listener to be called when a new message is received\r\n     *\r\n     * @param listener The listener that will be registered\r\n     */\r\n    addListener(listener) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('addListener');\r\n            this.listeners.push(listener);\r\n            return;\r\n        });\r\n    }\r\n    /**\r\n     * Remove a listener\r\n     *\r\n     * @param listener\r\n     */\r\n    removeListener(listener) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('removeListener');\r\n            this.listeners = this.listeners.filter((element) => element !== listener);\r\n            return;\r\n        });\r\n    }\r\n    /**\r\n     * Notify the listeners when a new message comes in\r\n     *\r\n     * @param message Message\r\n     * @param connectionInfo Context info about the connection\r\n     */\r\n    notifyListeners(message, connectionInfo) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            logger.log('notifyListeners');\r\n            if (this.listeners.length === 0) {\r\n                logger.warn('notifyListeners', '0 listeners notified!', this);\r\n            }\r\n            else {\r\n                logger.log(`Notifying ${this.listeners.length} listeners`, this);\r\n            }\r\n            this.listeners.forEach((listener) => {\r\n                listener(message, connectionInfo);\r\n            });\r\n            return;\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Transport.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { ExtensionMessageTarget } from '../..';\r\nimport { sealCryptobox } from '../../utils/crypto';\r\nimport { MessageBasedClient } from './MessageBasedClient';\r\nexport class ChromeMessageClient extends MessageBasedClient {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.activeListeners = new Map();\r\n    }\r\n    init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.subscribeToMessages().catch(console.error);\r\n        });\r\n    }\r\n    listenForEncryptedMessage(senderPublicKey, messageCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.activeListeners.has(senderPublicKey)) {\r\n                return;\r\n            }\r\n            const callbackFunction = (message, sender, sendResponse) => __awaiter(this, void 0, void 0, function* () {\r\n                if (message.hasOwnProperty('encryptedPayload')) {\r\n                    const encryptedMessage = message;\r\n                    try {\r\n                        const decrypted = yield this.decryptMessage(senderPublicKey, encryptedMessage.encryptedPayload);\r\n                        const decryptedMessage = {\r\n                            payload: decrypted,\r\n                            target: encryptedMessage.target,\r\n                            sender: encryptedMessage.sender\r\n                        };\r\n                        messageCallback(decryptedMessage, sender, sendResponse);\r\n                    }\r\n                    catch (decryptionError) {\r\n                        /* NO-OP. We try to decode every message, but some might not be addressed to us. */\r\n                    }\r\n                }\r\n            });\r\n            this.activeListeners.set(senderPublicKey, callbackFunction);\r\n        });\r\n    }\r\n    sendMessage(recipientPublicKey, message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let msg = {\r\n                target: ExtensionMessageTarget.PAGE,\r\n                payload: message\r\n            };\r\n            // If no recipient public key is provided, we respond with an unencrypted message\r\n            if (recipientPublicKey) {\r\n                const payload = yield this.encryptMessage(recipientPublicKey, message);\r\n                msg = {\r\n                    target: ExtensionMessageTarget.PAGE,\r\n                    encryptedPayload: payload\r\n                };\r\n            }\r\n            chrome.tabs.query({}, (tabs) => {\r\n                // TODO: Find way to have direct communication with tab\r\n                tabs.forEach(({ id }) => {\r\n                    if (id) {\r\n                        chrome.tabs.sendMessage(id, msg);\r\n                    }\r\n                }); // Send message to all tabs\r\n            });\r\n        });\r\n    }\r\n    sendPairingResponse(pairingRequest) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const encryptedMessage = yield sealCryptobox(JSON.stringify(yield this.getHandshakeInfo()), Buffer.from(pairingRequest.publicKey, 'hex'));\r\n            const message = {\r\n                target: ExtensionMessageTarget.PAGE,\r\n                payload: encryptedMessage\r\n            };\r\n            chrome.tabs.query({}, (tabs) => {\r\n                // TODO: Find way to have direct communication with tab\r\n                tabs.forEach(({ id }) => {\r\n                    if (id) {\r\n                        chrome.tabs.sendMessage(id, message);\r\n                    }\r\n                }); // Send message to all tabs\r\n            });\r\n        });\r\n    }\r\n    subscribeToMessages() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n                this.activeListeners.forEach((listener) => {\r\n                    listener(message, sender, sendResponse);\r\n                });\r\n                // return true from the event listener to indicate you wish to send a response asynchronously\r\n                // (this will keep the message channel open to the other end until sendResponse is called).\r\n                return true;\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=ChromeMessageClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as sodium from 'libsodium-wrappers';\r\nimport { toHex, getHexHash } from '../../utils/crypto';\r\nexport class CommunicationClient {\r\n    constructor(keyPair) {\r\n        this.keyPair = keyPair;\r\n    }\r\n    /**\r\n     * Get the public key\r\n     */\r\n    getPublicKey() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return toHex(this.keyPair.publicKey);\r\n        });\r\n    }\r\n    /**\r\n     * get the public key hash\r\n     */\r\n    getPublicKeyHash() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return getHexHash(this.keyPair.publicKey);\r\n        });\r\n    }\r\n    /**\r\n     * Create a cryptobox shared key\r\n     *\r\n     * @param otherPublicKey\r\n     * @param selfPrivateKey\r\n     */\r\n    createCryptoBox(otherPublicKey, selfPrivateKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            // TODO: Don't calculate it every time?\r\n            const kxSelfPrivateKey = sodium.crypto_sign_ed25519_sk_to_curve25519(Buffer.from(selfPrivateKey)); // Secret bytes to scalar bytes\r\n            const kxSelfPublicKey = sodium.crypto_sign_ed25519_pk_to_curve25519(Buffer.from(selfPrivateKey).slice(32, 64)); // Secret bytes to scalar bytes\r\n            const kxOtherPublicKey = sodium.crypto_sign_ed25519_pk_to_curve25519(Buffer.from(otherPublicKey, 'hex')); // Secret bytes to scalar bytes\r\n            return [\r\n                Buffer.from(kxSelfPublicKey),\r\n                Buffer.from(kxSelfPrivateKey),\r\n                Buffer.from(kxOtherPublicKey)\r\n            ];\r\n        });\r\n    }\r\n    /**\r\n     * Create a cryptobox server\r\n     *\r\n     * @param otherPublicKey\r\n     * @param selfPrivateKey\r\n     */\r\n    createCryptoBoxServer(otherPublicKey, selfPrivateKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const keys = yield this.createCryptoBox(otherPublicKey, selfPrivateKey);\r\n            return sodium.crypto_kx_server_session_keys(...keys);\r\n        });\r\n    }\r\n    /**\r\n     * Create a cryptobox client\r\n     *\r\n     * @param otherPublicKey\r\n     * @param selfPrivateKey\r\n     */\r\n    createCryptoBoxClient(otherPublicKey, selfPrivateKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const keys = yield this.createCryptoBox(otherPublicKey, selfPrivateKey);\r\n            return sodium.crypto_kx_client_session_keys(...keys);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=CommunicationClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as sodium from 'libsodium-wrappers';\r\nimport { BEACON_VERSION } from '../../constants';\r\nimport { decryptCryptoboxPayload, encryptCryptoboxPayload } from '../../utils/crypto';\r\nimport { CommunicationClient } from './CommunicationClient';\r\nexport class MessageBasedClient extends CommunicationClient {\r\n    constructor(name, keyPair, debug = true) {\r\n        super(keyPair);\r\n        this.name = name;\r\n        this.debug = debug;\r\n        /**\r\n         * The listeners that will be notified of new messages\r\n         */\r\n        this.activeListeners = new Map();\r\n        this.init().catch(console.error);\r\n    }\r\n    /**\r\n     * start the client and make sure all dependencies are ready\r\n     */\r\n    start() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield sodium.ready;\r\n        });\r\n    }\r\n    /**\r\n     * Get the handshake information. This will be shared with the peer during the connection setup\r\n     */\r\n    getHandshakeInfo() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                name: this.name,\r\n                version: BEACON_VERSION,\r\n                publicKey: yield this.getPublicKey()\r\n            };\r\n        });\r\n    }\r\n    /**\r\n     * Unsubscribe from encrypted messages from a specific peer\r\n     *\r\n     * @param senderPublicKey\r\n     */\r\n    unsubscribeFromEncryptedMessage(senderPublicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const listener = this.activeListeners.get(senderPublicKey);\r\n            if (!listener) {\r\n                return;\r\n            }\r\n            this.activeListeners.delete(senderPublicKey);\r\n        });\r\n    }\r\n    /**\r\n     * Unsubscribe from all encrypted messages\r\n     */\r\n    unsubscribeFromEncryptedMessages() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.activeListeners.clear();\r\n        });\r\n    }\r\n    /**\r\n     * Decrypt a message from a specific peer\r\n     *\r\n     * @param senderPublicKey\r\n     * @param payload\r\n     */\r\n    decryptMessage(senderPublicKey, payload) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { sharedRx } = yield this.createCryptoBoxServer(senderPublicKey, this.keyPair.privateKey);\r\n            const hexPayload = Buffer.from(payload, 'hex');\r\n            if (hexPayload.length >=\r\n                sodium.crypto_secretbox_NONCEBYTES + sodium.crypto_secretbox_MACBYTES) {\r\n                try {\r\n                    return yield decryptCryptoboxPayload(hexPayload, sharedRx);\r\n                }\r\n                catch (decryptionError) {\r\n                    /* NO-OP. We try to decode every message, but some might not be addressed to us. */\r\n                }\r\n            }\r\n            throw new Error('Could not decrypt message');\r\n        });\r\n    }\r\n    /**\r\n     * Encrypt a message for a specific publicKey (receiver)\r\n     *\r\n     * @param recipientPublicKey\r\n     * @param message\r\n     */\r\n    encryptMessage(recipientPublicKey, message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { sharedTx } = yield this.createCryptoBoxClient(recipientPublicKey, this.keyPair.privateKey);\r\n            return encryptCryptoboxPayload(message, sharedTx);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=MessageBasedClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as sodium from 'libsodium-wrappers';\r\nimport BigNumber from 'bignumber.js';\r\nimport { getHexHash, toHex, sealCryptobox, recipientString, openCryptobox, encryptCryptoboxPayload, decryptCryptoboxPayload } from '../../utils/crypto';\r\nimport { MatrixClient } from '../../matrix-client/MatrixClient';\r\nimport { MatrixClientEventType } from '../../matrix-client/models/MatrixClientEvent';\r\nimport { MatrixMessageType } from '../../matrix-client/models/MatrixMessage';\r\nimport { BEACON_VERSION } from '../../constants';\r\nimport { CommunicationClient } from './CommunicationClient';\r\nconst KNOWN_RELAY_SERVERS = [\r\n    'matrix.papers.tech'\r\n    // 'matrix.tez.ie',\r\n    // 'matrix-dev.papers.tech',\r\n    // \"matrix.stove-labs.com\",\r\n    // \"yadayada.cryptonomic-infra.tech\"\r\n];\r\nexport class P2PCommunicationClient extends CommunicationClient {\r\n    constructor(name, keyPair, replicationCount, storage, matrixNodes, debug = false) {\r\n        super(keyPair);\r\n        this.name = name;\r\n        this.replicationCount = replicationCount;\r\n        this.storage = storage;\r\n        this.debug = debug;\r\n        this.clients = [];\r\n        this.activeListeners = new Map();\r\n        this.KNOWN_RELAY_SERVERS = matrixNodes.length > 0 ? matrixNodes : KNOWN_RELAY_SERVERS;\r\n    }\r\n    getHandshakeInfo() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                name: this.name,\r\n                version: BEACON_VERSION,\r\n                publicKey: yield this.getPublicKey(),\r\n                relayServer: yield this.getRelayServer()\r\n            };\r\n        });\r\n    }\r\n    getRelayServer(publicKeyHash, nonce = '') {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const hash = publicKeyHash || (yield getHexHash(this.keyPair.publicKey));\r\n            return this.KNOWN_RELAY_SERVERS.reduce((prevPromise, curr) => __awaiter(this, void 0, void 0, function* () {\r\n                const prev = yield prevPromise;\r\n                const prevRelayServerHash = yield getHexHash(prev + nonce);\r\n                const currRelayServerHash = yield getHexHash(curr + nonce);\r\n                const prevBigInt = yield this.getAbsoluteBigIntDifference(hash, prevRelayServerHash);\r\n                const currBigInt = yield this.getAbsoluteBigIntDifference(hash, currRelayServerHash);\r\n                return prevBigInt.isLessThan(currBigInt) ? prev : curr;\r\n            }), Promise.resolve(this.KNOWN_RELAY_SERVERS[0]));\r\n        });\r\n    }\r\n    start() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.log('starting client');\r\n            yield sodium.ready;\r\n            const loginRawDigest = sodium.crypto_generichash(32, sodium.from_string(`login:${Math.floor(Date.now() / 1000 / (5 * 60))}`));\r\n            const rawSignature = sodium.crypto_sign_detached(loginRawDigest, this.keyPair.privateKey);\r\n            yield this.log(`connecting to ${this.replicationCount} servers`);\r\n            for (let i = 0; i < this.replicationCount; i++) {\r\n                // TODO: Parallel\r\n                const client = MatrixClient.create({\r\n                    baseUrl: `https://${yield this.getRelayServer(yield this.getPublicKeyHash(), i.toString())}`,\r\n                    storage: this.storage\r\n                });\r\n                client.subscribe(MatrixClientEventType.INVITE, (event) => __awaiter(this, void 0, void 0, function* () {\r\n                    yield client.joinRooms(event.content.roomId);\r\n                }));\r\n                yield this.log('login', yield this.getPublicKeyHash(), 'on', yield this.getRelayServer(yield this.getPublicKeyHash(), i.toString()));\r\n                yield client\r\n                    .start({\r\n                    id: yield this.getPublicKeyHash(),\r\n                    password: `ed:${toHex(rawSignature)}:${yield this.getPublicKey()}`,\r\n                    deviceId: toHex(this.keyPair.publicKey)\r\n                })\r\n                    .catch((error) => this.log(error));\r\n                yield client.joinRooms(...client.invitedRooms).catch((error) => this.log(error));\r\n                this.clients.push(client);\r\n            }\r\n        });\r\n    }\r\n    listenForEncryptedMessage(senderPublicKey, messageCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.activeListeners.has(senderPublicKey)) {\r\n                return;\r\n            }\r\n            const { sharedRx } = yield this.createCryptoBoxServer(senderPublicKey, this.keyPair.privateKey);\r\n            const callbackFunction = (event) => __awaiter(this, void 0, void 0, function* () {\r\n                if (this.isTextMessage(event.content) && (yield this.isSender(event, senderPublicKey))) {\r\n                    const payload = Buffer.from(event.content.message.content, 'hex');\r\n                    if (payload.length >=\r\n                        sodium.crypto_secretbox_NONCEBYTES + sodium.crypto_secretbox_MACBYTES) {\r\n                        try {\r\n                            messageCallback(yield decryptCryptoboxPayload(payload, sharedRx));\r\n                        }\r\n                        catch (decryptionError) {\r\n                            /* NO-OP. We try to decode every message, but some might not be addressed to us. */\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.activeListeners.set(senderPublicKey, callbackFunction);\r\n            for (const client of this.clients) {\r\n                client.subscribe(MatrixClientEventType.MESSAGE, callbackFunction);\r\n            }\r\n        });\r\n    }\r\n    unsubscribeFromEncryptedMessage(senderPublicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const listener = this.activeListeners.get(senderPublicKey);\r\n            if (!listener) {\r\n                return;\r\n            }\r\n            for (const client of this.clients) {\r\n                client.unsubscribe(MatrixClientEventType.MESSAGE, listener);\r\n            }\r\n            this.activeListeners.delete(senderPublicKey);\r\n        });\r\n    }\r\n    unsubscribeFromEncryptedMessages() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            for (const client of this.clients) {\r\n                client.unsubscribe(MatrixClientEventType.MESSAGE);\r\n            }\r\n            this.activeListeners.clear();\r\n        });\r\n    }\r\n    sendMessage(recipientPublicKey, message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { sharedTx } = yield this.createCryptoBoxClient(recipientPublicKey, this.keyPair.privateKey);\r\n            for (let i = 0; i < this.replicationCount; i++) {\r\n                const recipientHash = yield getHexHash(Buffer.from(recipientPublicKey, 'hex'));\r\n                const recipient = recipientString(recipientHash, yield this.getRelayServer(recipientHash, i.toString()));\r\n                for (const client of this.clients) {\r\n                    const room = yield this.getRelevantRoom(client, recipient);\r\n                    client\r\n                        .sendTextMessage(room.id, yield encryptCryptoboxPayload(message, sharedTx))\r\n                        .catch((error) => this.log(error));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    listenForChannelOpening(messageCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            for (const client of this.clients) {\r\n                client.subscribe(MatrixClientEventType.MESSAGE, (event) => __awaiter(this, void 0, void 0, function* () {\r\n                    yield this.log('channel opening', event);\r\n                    if (this.isTextMessage(event.content) && (yield this.isChannelOpenMessage(event.content))) {\r\n                        yield this.log('new channel open event!');\r\n                        const splits = event.content.message.content.split(':');\r\n                        const payload = Buffer.from(splits[splits.length - 1], 'hex');\r\n                        if (payload.length >=\r\n                            sodium.crypto_secretbox_NONCEBYTES + sodium.crypto_secretbox_MACBYTES) {\r\n                            try {\r\n                                messageCallback(JSON.parse(yield openCryptobox(payload, this.keyPair.publicKey, this.keyPair.privateKey)));\r\n                            }\r\n                            catch (decryptionError) {\r\n                                /* NO-OP. We try to decode every message, but some might not be addressed to us. */\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    sendPairingResponse(pairingRequest) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.log('open channel');\r\n            const recipientHash = yield getHexHash(Buffer.from(pairingRequest.publicKey, 'hex'));\r\n            const recipient = recipientString(recipientHash, pairingRequest.relayServer);\r\n            yield this.log(`currently there are ${this.clients.length} clients open`);\r\n            for (const client of this.clients) {\r\n                const room = yield this.getRelevantRoom(client, recipient);\r\n                // TODO: remove v1 backwards-compatibility\r\n                const message = typeof pairingRequest.version === 'undefined'\r\n                    ? yield this.getPublicKey() // v1\r\n                    : JSON.stringify(yield this.getHandshakeInfo()); // v2\r\n                const encryptedMessage = yield sealCryptobox(message, Buffer.from(pairingRequest.publicKey, 'hex'));\r\n                client\r\n                    .sendTextMessage(room.id, ['@channel-open', recipient, encryptedMessage].join(':'))\r\n                    .catch((error) => this.log(error));\r\n            }\r\n        });\r\n    }\r\n    isTextMessage(content) {\r\n        return content.message.type === MatrixMessageType.TEXT;\r\n    }\r\n    isChannelOpenMessage(content) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return content.message.content.startsWith(`@channel-open:@${yield getHexHash(Buffer.from(yield this.getPublicKey(), 'hex'))}`);\r\n        });\r\n    }\r\n    isSender(event, senderPublicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return event.content.message.sender.startsWith(`@${yield getHexHash(Buffer.from(senderPublicKey, 'hex'))}`);\r\n        });\r\n    }\r\n    getAbsoluteBigIntDifference(firstHash, secondHash) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const difference = new BigNumber(`0x${firstHash}`).minus(`0x${secondHash}`);\r\n            return difference.absoluteValue();\r\n        });\r\n    }\r\n    getRelevantRoom(client, recipient) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const joinedRooms = client.joinedRooms;\r\n            const relevantRooms = joinedRooms.filter((roomElement) => roomElement.members.some((member) => member === recipient));\r\n            let room;\r\n            if (relevantRooms.length === 0) {\r\n                yield this.log(`no relevant rooms found`);\r\n                const roomId = yield client.createTrustedPrivateRoom(recipient);\r\n                room = client.getRoomById(roomId);\r\n            }\r\n            else {\r\n                room = relevantRooms[0];\r\n                yield this.log(`channel already open, reusing room ${room.id}`);\r\n            }\r\n            return room;\r\n        });\r\n    }\r\n    log(...args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.debug) {\r\n                console.log(`--- [P2PCommunicationClient]:${this.name}: `, ...args);\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=P2PCommunicationClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as sodium from 'libsodium-wrappers';\r\nimport { myWindow } from '../../MockWindow';\r\nimport { ExtensionMessageTarget, Origin, Serializer } from '../..';\r\nimport { openCryptobox } from '../../utils/crypto';\r\nimport { MessageBasedClient } from './MessageBasedClient';\r\nexport class PostMessageClient extends MessageBasedClient {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.activeListeners = new Map();\r\n    }\r\n    init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.subscribeToMessages().catch(console.error);\r\n        });\r\n    }\r\n    listenForEncryptedMessage(senderPublicKey, messageCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.activeListeners.has(senderPublicKey)) {\r\n                return;\r\n            }\r\n            const callbackFunction = (message, context) => __awaiter(this, void 0, void 0, function* () {\r\n                try {\r\n                    messageCallback(yield this.decryptMessage(senderPublicKey, message.encryptedPayload), context);\r\n                }\r\n                catch (decryptionError) {\r\n                    /* NO-OP. We try to decode every message, but some might not be addressed to us. */\r\n                }\r\n            });\r\n            this.activeListeners.set(senderPublicKey, callbackFunction);\r\n        });\r\n    }\r\n    sendMessage(recipientPublicKey, message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const payload = yield this.encryptMessage(recipientPublicKey, message);\r\n            const msg = {\r\n                target: ExtensionMessageTarget.EXTENSION,\r\n                encryptedPayload: payload\r\n            };\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            myWindow.postMessage(msg, window.location.origin);\r\n        });\r\n    }\r\n    listenForChannelOpening(messageCallback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const fn = (event) => __awaiter(this, void 0, void 0, function* () {\r\n                var _a;\r\n                const data = (_a = event === null || event === void 0 ? void 0 : event.data) === null || _a === void 0 ? void 0 : _a.message;\r\n                if (data &&\r\n                    data.target === ExtensionMessageTarget.PAGE &&\r\n                    (yield this.isChannelOpenMessage(data))) {\r\n                    const payload = Buffer.from(data.payload, 'hex');\r\n                    if (payload.length >=\r\n                        sodium.crypto_secretbox_NONCEBYTES + sodium.crypto_secretbox_MACBYTES) {\r\n                        try {\r\n                            const decrypted = yield openCryptobox(payload, this.keyPair.publicKey, this.keyPair.privateKey);\r\n                            messageCallback(JSON.parse(decrypted));\r\n                            myWindow.removeEventListener('message', fn);\r\n                        }\r\n                        catch (decryptionError) {\r\n                            /* NO-OP. We try to decode every message, but some might not be addressed to us. */\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            myWindow.addEventListener('message', fn);\r\n            const message = {\r\n                target: ExtensionMessageTarget.EXTENSION,\r\n                payload: yield new Serializer().serialize(yield this.getHandshakeInfo())\r\n            };\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            myWindow.postMessage(message, window.location.origin);\r\n        });\r\n    }\r\n    isChannelOpenMessage(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return typeof message === 'object' && message.hasOwnProperty('payload');\r\n        });\r\n    }\r\n    subscribeToMessages() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            myWindow.addEventListener('message', (message) => {\r\n                if (typeof message === 'object' && message) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    const data = message.data;\r\n                    if (data.message && data.message.target === ExtensionMessageTarget.PAGE) {\r\n                        this.activeListeners.forEach((listener) => {\r\n                            listener(data.message, {\r\n                                origin: Origin.EXTENSION,\r\n                                id: data.sender.id || ''\r\n                            });\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=PostMessageClient.js.map","export var BeaconErrorType;\r\n(function (BeaconErrorType) {\r\n    BeaconErrorType[\"BROADCAST_ERROR\"] = \"BROADCAST_ERROR\";\r\n    BeaconErrorType[\"NETWORK_NOT_SUPPORTED\"] = \"NETWORK_NOT_SUPPORTED\";\r\n    BeaconErrorType[\"NO_ADDRESS_ERROR\"] = \"NO_ADDRESS_ERROR\";\r\n    BeaconErrorType[\"NO_PRIVATE_KEY_FOUND_ERROR\"] = \"NO_PRIVATE_KEY_FOUND_ERROR\";\r\n    BeaconErrorType[\"NOT_GRANTED_ERROR\"] = \"NOT_GRANTED_ERROR\";\r\n    BeaconErrorType[\"PARAMETERS_INVALID_ERROR\"] = \"PARAMETERS_INVALID_ERROR\";\r\n    BeaconErrorType[\"TOO_MANY_OPERATIONS\"] = \"TOO_MANY_OPERATIONS\";\r\n    BeaconErrorType[\"TRANSACTION_INVALID_ERROR\"] = \"TRANSACTION_INVALID_ERROR\";\r\n    BeaconErrorType[\"ABORTED_ERROR\"] = \"ABORTED_ERROR\";\r\n    BeaconErrorType[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\"; // Used as a wildcard if an unexpected error occured.\r\n})(BeaconErrorType || (BeaconErrorType = {}));\r\n//# sourceMappingURL=BeaconErrorType.js.map","export var ExtensionMessageTarget;\r\n(function (ExtensionMessageTarget) {\r\n    ExtensionMessageTarget[\"BACKGROUND\"] = \"toBackground\";\r\n    ExtensionMessageTarget[\"PAGE\"] = \"toPage\";\r\n    ExtensionMessageTarget[\"EXTENSION\"] = \"toExtension\";\r\n})(ExtensionMessageTarget || (ExtensionMessageTarget = {}));\r\n//# sourceMappingURL=ExtensionMessageTarget.js.map","export var Origin;\r\n(function (Origin) {\r\n    Origin[\"WEBSITE\"] = \"website\";\r\n    Origin[\"EXTENSION\"] = \"extension\";\r\n    Origin[\"P2P\"] = \"p2p\";\r\n})(Origin || (Origin = {}));\r\n//# sourceMappingURL=Origin.js.map","export var BeaconMessageType;\r\n(function (BeaconMessageType) {\r\n    BeaconMessageType[\"PermissionRequest\"] = \"permission_request\";\r\n    BeaconMessageType[\"SignPayloadRequest\"] = \"sign_payload_request\";\r\n    BeaconMessageType[\"OperationRequest\"] = \"operation_request\";\r\n    BeaconMessageType[\"BroadcastRequest\"] = \"broadcast_request\";\r\n    BeaconMessageType[\"PermissionResponse\"] = \"permission_response\";\r\n    BeaconMessageType[\"SignPayloadResponse\"] = \"sign_payload_response\";\r\n    BeaconMessageType[\"OperationResponse\"] = \"operation_response\";\r\n    BeaconMessageType[\"BroadcastResponse\"] = \"broadcast_response\";\r\n    BeaconMessageType[\"Disconnect\"] = \"disconnect\";\r\n    BeaconMessageType[\"Error\"] = \"error\";\r\n})(BeaconMessageType || (BeaconMessageType = {}));\r\n//# sourceMappingURL=BeaconMessageType.js.map","export var NetworkType;\r\n(function (NetworkType) {\r\n    NetworkType[\"MAINNET\"] = \"mainnet\";\r\n    NetworkType[\"CARTHAGENET\"] = \"carthagenet\";\r\n    NetworkType[\"CUSTOM\"] = \"custom\";\r\n})(NetworkType || (NetworkType = {}));\r\n//# sourceMappingURL=NetworkType.js.map","export var PermissionScope;\r\n(function (PermissionScope) {\r\n    PermissionScope[\"SIGN\"] = \"sign\";\r\n    PermissionScope[\"OPERATION_REQUEST\"] = \"operation_request\";\r\n    PermissionScope[\"THRESHOLD\"] = \"threshold\"; // Allows the DApp to sign transactions below a certain threshold. This is currently not fully defined and unused\r\n})(PermissionScope || (PermissionScope = {}));\r\n//# sourceMappingURL=PermissionScope.js.map","export var StorageKey;\r\n(function (StorageKey) {\r\n    StorageKey[\"TRANSPORT_P2P_PEERS\"] = \"beacon:communication-peers\";\r\n    StorageKey[\"TRANSPORT_POSTMESSAGE_PEERS\"] = \"beacon:postmessage-peers\";\r\n    StorageKey[\"ACCOUNTS\"] = \"beacon:accounts\";\r\n    StorageKey[\"ACTIVE_ACCOUNT\"] = \"beacon:active-account\";\r\n    StorageKey[\"BEACON_SDK_SECRET_SEED\"] = \"beacon:sdk-secret-seed\";\r\n    StorageKey[\"APP_METADATA_LIST\"] = \"beacon:app-metadata-list\";\r\n    StorageKey[\"PERMISSION_LIST\"] = \"beacon:permissions\";\r\n    StorageKey[\"BEACON_SDK_VERSION\"] = \"beacon:sdk_version\";\r\n    StorageKey[\"MATRIX_PRESERVED_STATE\"] = \"beacon:sdk-matrix-preserved-state\";\r\n})(StorageKey || (StorageKey = {}));\r\n//# sourceMappingURL=StorageKey.js.map","import { StorageKey } from '../..';\r\nexport const defaultValues = {\r\n    [StorageKey.TRANSPORT_P2P_PEERS]: [],\r\n    [StorageKey.TRANSPORT_POSTMESSAGE_PEERS]: [],\r\n    [StorageKey.ACCOUNTS]: [],\r\n    [StorageKey.ACTIVE_ACCOUNT]: undefined,\r\n    [StorageKey.BEACON_SDK_SECRET_SEED]: undefined,\r\n    [StorageKey.APP_METADATA_LIST]: [],\r\n    [StorageKey.PERMISSION_LIST]: [],\r\n    [StorageKey.BEACON_SDK_VERSION]: undefined,\r\n    [StorageKey.MATRIX_PRESERVED_STATE]: {}\r\n};\r\n//# sourceMappingURL=StorageKeyReturnDefaults.js.map","export var TezosOperationType;\r\n(function (TezosOperationType) {\r\n    TezosOperationType[\"ENDORSEMENT\"] = \"endorsement\";\r\n    TezosOperationType[\"SEED_NONCE_REVELATION\"] = \"seed_nonce_revelation\";\r\n    TezosOperationType[\"DOUBLE_ENDORSEMENT_EVIDENCE\"] = \"double_endorsement_evidence\";\r\n    TezosOperationType[\"DOUBLE_BAKING_EVIDENCE\"] = \"double_baking_evidence\";\r\n    TezosOperationType[\"ACTIVATE_ACCOUNT\"] = \"activate_account\";\r\n    TezosOperationType[\"PROPOSALS\"] = \"proposals\";\r\n    TezosOperationType[\"BALLOT\"] = \"ballot\";\r\n    TezosOperationType[\"REVEAL\"] = \"reveal\";\r\n    TezosOperationType[\"TRANSACTION\"] = \"transaction\";\r\n    TezosOperationType[\"ORIGINATION\"] = \"origination\";\r\n    TezosOperationType[\"DELEGATION\"] = \"delegation\";\r\n})(TezosOperationType || (TezosOperationType = {}));\r\n//# sourceMappingURL=OperationTypes.js.map","export var TransportStatus;\r\n(function (TransportStatus) {\r\n    TransportStatus[\"NOT_CONNECTED\"] = \"NOT_CONNECTED\";\r\n    TransportStatus[\"CONNECTING\"] = \"CONNECTING\";\r\n    TransportStatus[\"CONNECTED\"] = \"CONNECTED\";\r\n})(TransportStatus || (TransportStatus = {}));\r\n//# sourceMappingURL=TransportStatus.js.map","export var TransportType;\r\n(function (TransportType) {\r\n    TransportType[\"CHROME_MESSAGE\"] = \"chrome_message\";\r\n    TransportType[\"POST_MESSAGE\"] = \"post_message\";\r\n    TransportType[\"LEDGER\"] = \"ledger\";\r\n    TransportType[\"P2P\"] = \"p2p\";\r\n})(TransportType || (TransportType = {}));\r\n//# sourceMappingURL=TransportType.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { DEBUG } from '../constants';\r\n/**\r\n * The logger that is used internally\r\n */\r\nexport class Logger {\r\n    constructor(service, debug = DEBUG) {\r\n        this.name = service;\r\n        this.debug = debug;\r\n    }\r\n    _log(color, method, args) {\r\n        if (!this.debug) {\r\n            return;\r\n        }\r\n        const origin = `%c[${this.name}](${method})`;\r\n        const css = `background: #${color}`;\r\n        if (args.length === 0) {\r\n            console.log(origin, css);\r\n        }\r\n        else if (args.every((arg) => typeof arg === 'string')) {\r\n            console.log(`${origin}:`, css, ...args);\r\n        }\r\n        else {\r\n            console.log(`${origin}:`, css, ...args);\r\n        }\r\n    }\r\n    log(method, ...args) {\r\n        this._log('d3ffcf', method, args);\r\n    }\r\n    warn(method, ...args) {\r\n        this._log('fff4cf', method, args);\r\n    }\r\n    error(method, ...args) {\r\n        this._log('ffcfcf', method, args);\r\n    }\r\n}\r\n//# sourceMappingURL=Logger.js.map","/* eslint-disable prefer-arrow/prefer-arrow-functions */\r\n/**\r\n * A helper function to make sure if/elses and switch/cases are exhaustive\r\n *\r\n * @param empty The data that has to be empty\r\n */\r\nexport function assertNever(empty) {\r\n    return empty;\r\n}\r\n/* eslint-enable prefer-arrow/prefer-arrow-functions */\r\n//# sourceMappingURL=assert-never.js.map","import { PostMessageTransport } from '../transports/PostMessageTransport';\r\n/**\r\n * An object with promises to indicate whether or not that transport is available.\r\n */\r\nexport const availableTransports = {\r\n    extension: PostMessageTransport.isAvailable()\r\n};\r\n//# sourceMappingURL=available-transports.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { NetworkType } from '..';\r\n/**\r\n * Return a blockexplorer link for an address\r\n *\r\n * @param network The network that was used\r\n * @param address The address to be opened\r\n */\r\nexport const getAccountBlockExplorerLinkForNetwork = (network, address) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const urls = {\r\n        [NetworkType.MAINNET]: 'https://tezblock.io/account/',\r\n        [NetworkType.CARTHAGENET]: 'https://carthagenet.tezblock.io/account/',\r\n        [NetworkType.CUSTOM]: 'https://carthagenet.tezblock.io/account/'\r\n    };\r\n    const url = urls[network ? network.type : NetworkType.MAINNET];\r\n    return `${url}${address}`;\r\n});\r\n/**\r\n * Return a blockexplorer link for a transaction hash\r\n *\r\n * @param network The network that was used\r\n * @param transactionHash The hash of the transaction\r\n */\r\nexport const getTransactionBlockExplorerLinkForNetwork = (network, transactionHash) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const urls = {\r\n        [NetworkType.MAINNET]: 'https://tezblock.io/transaction/',\r\n        [NetworkType.CARTHAGENET]: 'https://carthagenet.tezblock.io/transaction/',\r\n        [NetworkType.CUSTOM]: 'https://carthagenet.tezblock.io/transaction/'\r\n    };\r\n    const url = urls[network ? network.type : NetworkType.MAINNET];\r\n    return `${url}${transactionHash}`;\r\n});\r\n//# sourceMappingURL=block-explorer.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as bs58check from 'bs58check';\r\nimport * as sodium from 'libsodium-wrappers';\r\n/* eslint-disable prefer-arrow/prefer-arrow-functions */\r\n/**\r\n * Convert a value to hex\r\n *\r\n * @param value\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function toHex(value) {\r\n    return Buffer.from(value).toString('hex');\r\n}\r\n/**\r\n * Get the hex hash of a value\r\n *\r\n * @param key\r\n */\r\nexport function getHexHash(key) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        return toHex(sodium.crypto_generichash(32, key));\r\n    });\r\n}\r\n/**\r\n * Get a keypair from a seed\r\n *\r\n * @param seed\r\n */\r\nexport function getKeypairFromSeed(seed) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        return sodium.crypto_sign_seed_keypair(sodium.crypto_generichash(32, sodium.from_string(seed)));\r\n    });\r\n}\r\n/**\r\n * Encrypt a message with a shared key\r\n *\r\n * @param message\r\n * @param sharedKey\r\n */\r\nexport function encryptCryptoboxPayload(message, sharedKey) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        const nonce = Buffer.from(sodium.randombytes_buf(sodium.crypto_secretbox_NONCEBYTES));\r\n        const combinedPayload = Buffer.concat([\r\n            nonce,\r\n            Buffer.from(sodium.crypto_secretbox_easy(Buffer.from(message, 'utf8'), nonce, sharedKey))\r\n        ]);\r\n        return toHex(combinedPayload);\r\n    });\r\n}\r\n/**\r\n * Decrypt a message with a shared key\r\n *\r\n * @param payload\r\n * @param sharedKey\r\n */\r\nexport function decryptCryptoboxPayload(payload, sharedKey) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        const nonce = payload.slice(0, sodium.crypto_secretbox_NONCEBYTES);\r\n        const ciphertext = payload.slice(sodium.crypto_secretbox_NONCEBYTES);\r\n        return Buffer.from(sodium.crypto_secretbox_open_easy(ciphertext, nonce, sharedKey)).toString('utf8');\r\n    });\r\n}\r\n/**\r\n * Encrypt a message with a public key\r\n *\r\n * @param payload\r\n * @param publicKey\r\n */\r\nexport function sealCryptobox(payload, publicKey) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        const kxSelfPublicKey = sodium.crypto_sign_ed25519_pk_to_curve25519(Buffer.from(publicKey)); // Secret bytes to scalar bytes\r\n        const encryptedMessage = sodium.crypto_box_seal(payload, kxSelfPublicKey);\r\n        return toHex(encryptedMessage);\r\n    });\r\n}\r\n/**\r\n * Decrypt a message with public + private key\r\n *\r\n * @param encryptedPayload\r\n * @param publicKey\r\n * @param privateKey\r\n */\r\nexport function openCryptobox(encryptedPayload, publicKey, privateKey) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        const kxSelfPrivateKey = sodium.crypto_sign_ed25519_sk_to_curve25519(Buffer.from(privateKey)); // Secret bytes to scalar bytes\r\n        const kxSelfPublicKey = sodium.crypto_sign_ed25519_pk_to_curve25519(Buffer.from(publicKey)); // Secret bytes to scalar bytes\r\n        const decryptedMessage = sodium.crypto_box_seal_open(encryptedPayload, kxSelfPublicKey, kxSelfPrivateKey);\r\n        return Buffer.from(decryptedMessage).toString();\r\n    });\r\n}\r\n/**\r\n * Get an address from the public key\r\n *\r\n * @param publicKey\r\n */\r\nexport function getAddressFromPublicKey(publicKey) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        let plainPublicKey;\r\n        if (publicKey.length === 64) {\r\n            plainPublicKey = publicKey;\r\n        }\r\n        else if (publicKey.startsWith('edpk') && publicKey.length === 54) {\r\n            const edpkPrefixLength = 4;\r\n            const decoded = bs58check.decode(publicKey);\r\n            plainPublicKey = decoded.slice(edpkPrefixLength, decoded.length).toString('hex');\r\n        }\r\n        else {\r\n            throw new Error(`invalid publicKey: ${publicKey}`);\r\n        }\r\n        const payload = sodium.crypto_generichash(20, Buffer.from(plainPublicKey, 'hex'));\r\n        const tz1Prefix = Buffer.from(new Uint8Array([6, 161, 159]));\r\n        return bs58check.encode(Buffer.concat([tz1Prefix, Buffer.from(payload)]));\r\n    });\r\n}\r\n/**\r\n * Get the recipient string used in the matrix message\r\n *\r\n * @param recipientHash\r\n * @param relayServer\r\n */\r\nexport function recipientString(recipientHash, relayServer) {\r\n    return `@${recipientHash}:${relayServer}`;\r\n}\r\n/* eslint-enable prefer-arrow/prefer-arrow-functions */\r\n//# sourceMappingURL=crypto.js.map","export var ExposedPromiseStatus;\r\n(function (ExposedPromiseStatus) {\r\n    ExposedPromiseStatus[\"PENDING\"] = \"pending\";\r\n    ExposedPromiseStatus[\"RESOLVED\"] = \"resolved\";\r\n    ExposedPromiseStatus[\"REJECTED\"] = \"rejected\";\r\n})(ExposedPromiseStatus || (ExposedPromiseStatus = {}));\r\nconst notInitialized = () => {\r\n    throw new Error('ExposedPromise not initialized yet.');\r\n};\r\n/**\r\n * Exposed promise allow you to create a promise and then resolve it later, from the outside\r\n */\r\nexport class ExposedPromise {\r\n    constructor() {\r\n        this._resolve = notInitialized;\r\n        this._reject = notInitialized;\r\n        this._status = ExposedPromiseStatus.PENDING;\r\n        this._promise = new Promise((innerResolve, innerReject) => {\r\n            this._resolve = (value) => {\r\n                if (this.isSettled()) {\r\n                    return;\r\n                }\r\n                this._promiseResult = value;\r\n                innerResolve(value);\r\n                this._status = ExposedPromiseStatus.RESOLVED;\r\n                return;\r\n            };\r\n            this._reject = (reason) => {\r\n                if (this.isSettled()) {\r\n                    return;\r\n                }\r\n                this._promiseError = reason;\r\n                innerReject(reason);\r\n                this._status = ExposedPromiseStatus.REJECTED;\r\n                return;\r\n            };\r\n        });\r\n    }\r\n    get promise() {\r\n        return this._promise;\r\n    }\r\n    get resolve() {\r\n        return this._resolve;\r\n    }\r\n    get reject() {\r\n        return this._reject;\r\n    }\r\n    get status() {\r\n        return this._status;\r\n    }\r\n    get promiseResult() {\r\n        return this._promiseResult;\r\n    }\r\n    get promiseError() {\r\n        return this._promiseError;\r\n    }\r\n    static resolve(value) {\r\n        const promise = new ExposedPromise();\r\n        promise.resolve(value);\r\n        return promise;\r\n    }\r\n    static reject(reason) {\r\n        const promise = new ExposedPromise();\r\n        promise.reject(reason);\r\n        return promise;\r\n    }\r\n    isPending() {\r\n        return this.status === ExposedPromiseStatus.PENDING;\r\n    }\r\n    isResolved() {\r\n        return this.status === ExposedPromiseStatus.RESOLVED;\r\n    }\r\n    isRejected() {\r\n        return this.status === ExposedPromiseStatus.REJECTED;\r\n    }\r\n    isSettled() {\r\n        return this.isResolved() || this.isRejected();\r\n    }\r\n}\r\n//# sourceMappingURL=exposed-promise.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n/* eslint-disable prefer-arrow/prefer-arrow-functions */\r\nimport * as sodium from 'libsodium-wrappers';\r\n/**\r\n * Generate a random GUID\r\n */\r\nexport function generateGUID() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield sodium.ready;\r\n        const buf = sodium.randombytes_buf(16);\r\n        return [buf.slice(0, 4), buf.slice(4, 6), buf.slice(6, 8), buf.slice(8, 10), buf.slice(10, 16)]\r\n            .map(function (subbuf) {\r\n            return Buffer.from(subbuf).toString('hex');\r\n        })\r\n            .join('-');\r\n    });\r\n}\r\n/* eslint-enable prefer-arrow/prefer-arrow-functions */\r\n//# sourceMappingURL=generate-uuid.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as sodium from 'libsodium-wrappers';\r\nimport * as bs58check from 'bs58check';\r\n/**\r\n * Generate a deterministic account identifier based on an address and a network\r\n *\r\n * @param address\r\n * @param network\r\n */\r\nexport const getAccountIdentifier = (address, network) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const data = [address, network.type];\r\n    if (network.name) {\r\n        data.push(`name:${network.name}`);\r\n    }\r\n    if (network.rpcUrl) {\r\n        data.push(`rpc:${network.rpcUrl}`);\r\n    }\r\n    yield sodium.ready;\r\n    const buffer = Buffer.from(sodium.crypto_generichash(10, data.join('-')));\r\n    return bs58check.encode(buffer);\r\n});\r\n//# sourceMappingURL=get-account-identifier.js.map","export const getTzip10Link = (url, payload) => `${url}?type=tzip10&data=${payload}`;\r\n//# sourceMappingURL=get-tzip10-link.js.map","// Helper functions from https://github.com/ionic-team/ionic-framework/blob/master/core/src/utils/platform.ts\r\nexport const testUserAgent = (win, expr) => expr.test(win.navigator.userAgent);\r\nconst matchMedia = (win, query) => win.matchMedia(query).matches;\r\nexport const isMobile = (win) => matchMedia(win, '(any-pointer:coarse)');\r\n// const isCordova = (win: any): boolean => Boolean(win.cordova || win.phonegap || win.PhoneGap)\r\n// const isCapacitorNative = (win: any): boolean => {\r\n//   const capacitor = win.Capacitor\r\n//   return Boolean(capacitor && capacitor.isNative)\r\n// }\r\n// const isHybrid = (win: Window): boolean => isCordova(win) || isCapacitorNative(win)\r\n// const isMobileWeb = (win: Window): boolean => isMobile(win) && !isHybrid(win)\r\nconst isIpad = (win) => {\r\n    // iOS 12 and below\r\n    if (testUserAgent(win, /iPad/i)) {\r\n        return true;\r\n    }\r\n    // iOS 13+\r\n    if (testUserAgent(win, /Macintosh/i) && isMobile(win)) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nexport const isIOS = (win) => testUserAgent(win, /iPhone|iPod/i) || isIpad(win);\r\nexport const isAndroid = (win) => testUserAgent(win, /android|sink/i);\r\nexport const isDesktop = (win) => !isMobile(win);\r\n//# sourceMappingURL=platform.js.map","import * as qrcode from 'qrcode-generator';\r\n/**\r\n * Convert data to a QR code\r\n *\r\n * @param payload The data to be encoded as a QR code\r\n * @param type How the QR code will be encoded\r\n */\r\nexport const getQrData = (payload, type) => {\r\n    const typeNumber = 0;\r\n    const errorCorrectionLevel = 'L';\r\n    const qr = qrcode(typeNumber, errorCorrectionLevel);\r\n    try {\r\n        qr.addData(payload);\r\n        qr.make();\r\n        if (type === 'svg') {\r\n            return qr.createSvgTag();\r\n        }\r\n        else if (type === 'ascii') {\r\n            const length = qr.getModuleCount();\r\n            const black = '\\x1B[40m  \\x1B[0m';\r\n            const white = '\\x1B[47m  \\x1B[0m';\r\n            const whiteLine = new Array(length + 3).join(white);\r\n            const blackLine = new Array(length + 3).join(black);\r\n            let ascii = '';\r\n            ascii += `${blackLine}\\n`;\r\n            ascii += `${whiteLine}\\n`;\r\n            for (let x = 0; x < length; x++) {\r\n                ascii += white;\r\n                for (let y = 0; y < length; y++) {\r\n                    ascii += qr.isDark(x, y) ? black : white;\r\n                }\r\n                ascii += `${white}\\n`;\r\n            }\r\n            ascii += whiteLine;\r\n            ascii += blackLine;\r\n            return ascii;\r\n        }\r\n        else {\r\n            return qr.createDataURL();\r\n        }\r\n    }\r\n    catch (qrError) {\r\n        console.error('error', qrError);\r\n        throw qrError;\r\n    }\r\n};\r\n//# sourceMappingURL=qr.js.map","export const replaceInTemplate = (text, placeholder, value) => text.split(`{{${placeholder}}}`).join(value);\r\n//# sourceMappingURL=replace-in-template.js.map","/* eslint-disable prefer-arrow/prefer-arrow-functions */\r\n/**\r\n * A helper function to improve typings of object keys\r\n *\r\n * @param obj Object\r\n */\r\nexport function keys(obj) {\r\n    return Object.keys(obj);\r\n}\r\n//# sourceMappingURL=utils.js.map","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-action-sheet-ios-entry-js\"\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-action-sheet-md-entry-js\"\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-alert-ios-entry-js\"\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-alert-md-entry-js\"\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-app_8-ios-entry-js\"\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-app_8-md-entry-js\"\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-avatar_3-ios-entry-js\"\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-avatar_3-md-entry-js\"\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-back-button-ios-entry-js\"\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-back-button-md-entry-js\"\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-ios.entry.js\",\n\t\t\"stencil-ion-backdrop-ios-entry-js\"\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-md.entry.js\",\n\t\t\"stencil-ion-backdrop-md-entry-js\"\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-button_2-ios-entry-js\"\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-button_2-md-entry-js\"\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-card_5-ios-entry-js\"\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-card_5-md-entry-js\"\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-checkbox-ios-entry-js\"\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-checkbox-md-entry-js\"\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-chip-ios-entry-js\"\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-chip-md-entry-js\"\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-col_3.entry.js\",\n\t\t\"stencil-ion-col_3-entry-js\"\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-datetime_3-ios-entry-js\"\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-datetime_3-md-entry-js\"\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-fab_3-ios-entry-js\"\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-fab_3-md-entry-js\"\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-img.entry.js\",\n\t\t\"stencil-ion-img-entry-js\"\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-infinite-scroll_2-ios-entry-js\"\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-infinite-scroll_2-md-entry-js\"\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-input-ios-entry-js\"\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-input-md-entry-js\"\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item-option_3-ios-entry-js\"\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item-option_3-md-entry-js\"\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item_8-ios-entry-js\"\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item_8-md-entry-js\"\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-loading-ios-entry-js\"\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-loading-md-entry-js\"\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-menu_3-ios-entry-js\"\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-menu_3-md-entry-js\"\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-modal-ios-entry-js\"\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-modal-md-entry-js\"\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-nav_2.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-nav_2-entry-js\"\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-popover-ios-entry-js\"\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-popover-md-entry-js\"\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-progress-bar-ios-entry-js\"\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-progress-bar-md-entry-js\"\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-radio_2-ios-entry-js\"\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-radio_2-md-entry-js\"\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-range-ios-entry-js\"\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-range-md-entry-js\"\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-refresher_2-ios-entry-js\"\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-refresher_2-md-entry-js\"\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-reorder_2-ios-entry-js\"\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-reorder_2-md-entry-js\"\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-ripple-effect.entry.js\",\n\t\t\"stencil-ion-ripple-effect-entry-js\"\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-route_4-entry-js\"\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-searchbar-ios-entry-js\"\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-searchbar-md-entry-js\"\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-segment_2-ios-entry-js\"\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-segment_2-md-entry-js\"\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-select_3-ios-entry-js\"\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-select_3-md-entry-js\"\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-ios.entry.js\",\n\t\t\"stencil-ion-slide_2-ios-entry-js\"\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-md.entry.js\",\n\t\t\"stencil-ion-slide_2-md-entry-js\"\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-spinner-entry-js\"\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-ios.entry.js\",\n\t\t\"stencil-ion-split-pane-ios-entry-js\"\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-md.entry.js\",\n\t\t\"stencil-ion-split-pane-md-entry-js\"\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-tab-bar_2-ios-entry-js\"\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-tab-bar_2-md-entry-js\"\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-tab_2-entry-js\"\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-text.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-text-entry-js\"\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-textarea-ios-entry-js\"\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-textarea-md-entry-js\"\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toast-ios-entry-js\"\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toast-md-entry-js\"\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toggle-ios-entry-js\"\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toggle-md-entry-js\"\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js\",\n\t\t\"stencil-ion-virtual-scroll-entry-js\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./node_modules/@ionic/core/dist/esm lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","export default \"<ion-header class=\\\"header--menu\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      <div class=\\\"logo--container ion-align-items-center\\\">\\r\\n        <div class=\\\"ion-align-items-center\\\">\\r\\n          <a href=\\\"https://walletbeacon.io\\\">\\r\\n            <img src=\\\"assets/img/beacon_logoy_type_hor_padding.svg\\\" />\\r\\n          </a>\\r\\n          <span><a href=\\\"https://airgap.it\\\" target=\\\"_blank\\\">by AirGap</a></span>\\r\\n        </div>\\r\\n        <ion-chip color=\\\"primary\\\" outline=\\\"true\\\" class=\\\"ion-margin-start\\\">\\r\\n          <ion-label>v{{ beaconSdkVersion }}</ion-label>\\r\\n        </ion-chip>\\r\\n      </div>\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"reset()\\\">\\r\\n        {{ connectionStatus$ | async }}\\r\\n        <ng-container *ngIf=\\\"activeAccount$ | async; let activeAccount\\\">\\r\\n          connected to {{ activeAccount.address }} on {{ activeAccount.network.type }}\\r\\n        </ng-container>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-app>\\r\\n  <ion-split-pane contentId=\\\"main-content\\\">\\r\\n    <ion-menu contentId=\\\"main-content\\\" type=\\\"overlay\\\">\\r\\n      <ion-content>\\r\\n        <ion-list lines=\\\"none\\\">\\r\\n          <ion-menu-toggle auto-hide=\\\"false\\\">\\r\\n            <!--TODO: handle generic -->\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'approach' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('approach')\\\"\\r\\n              (click)=\\\"select('approach')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'approach' ? 'primary' : 'black'\\\">\\r\\n                Approach\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'wallets_dapps' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('wallets_dapps')\\\"\\r\\n              (click)=\\\"select('wallets_dapps')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'wallets_dapps' ? 'primary' : 'black'\\\">\\r\\n                Wallets & dApps\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'transport_layer' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('transport_layer')\\\"\\r\\n              (click)=\\\"select('transport_layer')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'transport_layer' ? 'primary' : 'black'\\\">\\r\\n                Transport Layer\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'message_types' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('message_types')\\\"\\r\\n              (click)=\\\"select('message_types')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'message_types' ? 'primary' : 'black'\\\">Message Types</ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'permissionRequest' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('permissionRequest')\\\"\\r\\n              (click)=\\\"select('permissionRequest')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'permissionRequest' ? 'primary' : 'black'\\\">\\r\\n                permissionRequest\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'operationRequest' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('operationRequest')\\\"\\r\\n              (click)=\\\"select('operationRequest')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'operationRequest' ? 'primary' : 'black'\\\">\\r\\n                operationRequest\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'signPayloadRequest' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('signPayloadRequest')\\\"\\r\\n              (click)=\\\"select('signPayloadRequest')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'signPayloadRequest' ? 'primary' : 'black'\\\">\\r\\n                signPayloadRequest\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'broadcastRequest' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('broadcastRequest')\\\"\\r\\n              (click)=\\\"select('broadcastRequest')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'broadcastRequest' ? 'primary' : 'black'\\\">\\r\\n                broadcastRequest\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              [class]=\\\"selectedTab === 'components' ? 'item--active' : ''\\\"\\r\\n              (click)=\\\"scrollTo('components')\\\"\\r\\n              (click)=\\\"select('components')\\\"\\r\\n            >\\r\\n              <ion-label [color]=\\\"selectedTab === 'components' ? 'primary' : 'black'\\\">\\r\\n                Components\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n          </ion-menu-toggle>\\r\\n        </ion-list>\\r\\n      </ion-content>\\r\\n      <ion-footer class=\\\"ion-no-border\\\">\\r\\n        <ion-toolbar>\\r\\n          <ion-row class=\\\"ion-padding-horizontal ion-justify-content-evenly\\\">\\r\\n            <a href=\\\"https://github.com/airgap-it/beacon-sdk\\\" target=\\\"_blank\\\">\\r\\n              <ion-icon name=\\\"logo-github\\\" color=\\\"medium\\\"></ion-icon>\\r\\n            </a>\\r\\n            <a href=\\\"https://docs.walletbeacon.io/\\\" target=\\\"_blank\\\">\\r\\n              <ion-icon name=\\\"document-text-outline\\\" color=\\\"medium\\\"></ion-icon>\\r\\n            </a>\\r\\n            <a href=\\\"https://twitter.com/AirGap_it\\\" target=\\\"_blank\\\">\\r\\n              <ion-icon name=\\\"logo-twitter\\\" color=\\\"medium\\\"></ion-icon>\\r\\n            </a>\\r\\n            <a href=\\\"https://t.me/AirGap\\\" target=\\\"_blank\\\">\\r\\n              <ion-icon src=\\\"/assets/img/telegram-plane-brands.svg\\\" color=\\\"medium\\\"></ion-icon>\\r\\n            </a>\\r\\n            <a href=\\\"https://medium.com/airgap-it\\\" target=\\\"_blank\\\">\\r\\n              <ion-icon src=\\\"/assets/img/medium-brands.svg\\\" color=\\\"medium\\\"></ion-icon>\\r\\n            </a>\\r\\n          </ion-row>\\r\\n        </ion-toolbar>\\r\\n      </ion-footer>\\r\\n    </ion-menu>\\r\\n    <ion-router-outlet id=\\\"main-content\\\"></ion-router-outlet>\\r\\n  </ion-split-pane>\\r\\n</ion-app>\\r\\n\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content :scrollEvents=\\\"true\\\">\\r\\n  <ion-grid fixed=\\\"true\\\" class=\\\"ion-padding\\\">\\r\\n    <ion-row class=\\\"hero--container ion-align-items-center\\\">\\r\\n      <ion-col>\\r\\n        <h1>\\r\\n          Beacon\\r\\n          <br />\\r\\n          Connect dApps with Wallets\\r\\n        </h1>\\r\\n        <ion-button (click)=\\\"askForPermissions()\\\">Connect Beacon</ion-button>\\r\\n        <a href=\\\"https://chrome.google.com/webstore/detail/gpfndedineagiepkpinficbcbbgjoenn\\\" target=\\\"_blank\\\">\\r\\n          <ion-button fill=\\\"outline\\\">\\r\\n            Download Extension\\r\\n          </ion-button>\\r\\n        </a>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <img src=\\\"assets/img/beacon_illu_hero.svg\\\" />\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\">\\r\\n      <ion-col class=\\\"ion-no-padding ion-padding-bottom\\\">\\r\\n        <ion-card color=\\\"secondary\\\" class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <small>Latest News</small>\\r\\n            <p>\\r\\n              <strong>Beacon Android SDK Alpha</strong>\\r\\n              - Released for native Android development in Kotlin.\\r\\n              <a href=\\\"https://medium.com/airgap-it/beacon-android-sdk-alpha-released-69f896834189\\\" target=\\\"_blank\\\">\\r\\n                Read More\\r\\n              </a>\\r\\n            </p>\\r\\n            <p>\\r\\n              <strong>Least Authority Audit</strong>\\r\\n              - Beacon SDK has been successfully audited by Least Authority.\\r\\n              <a href=\\\"https://medium.com/airgap-it/beacon-sdk-audited-by-least-authority-fa12f83e91e0\\\" target=\\\"_blank\\\">\\r\\n                Read More\\r\\n              </a>\\r\\n            </p>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-top\\\">\\r\\n      <ion-col>\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n            <p class=\\\"intro__container\\\">\\r\\n              <strong>Beacon</strong>\\r\\n              is the implementation of\\r\\n              <a href=\\\"https://gitlab.com/tzip/tzip/tree/master/proposals/tzip-10\\\" target=\\\"_blank\\\">tzip-10</a>\\r\\n              which describes an interaction standard between a wallet and a dApp.\\r\\n            </p>\\r\\n            <p class=\\\"intro__container\\\">\\r\\n              Where a dApp impelementing the\\r\\n              <a href=\\\"https://github.com/airgap-it/beacon-sdk\\\" target=\\\"_blank\\\">beacon-sdk</a>\\r\\n              can build up a channel and send messages over a peer to peer communication layer to a wallet using the\\r\\n              sdk. This allows for a communication for example of a mobile wallet with a desktop application. The\\r\\n              requests of the dApp are sent to the wallet, signed and returned to the application.\\r\\n            </p>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" offset-md=\\\"1\\\" size-md=\\\"5\\\" class=\\\"ion-no-padding\\\">\\r\\n            <a href=\\\"https://youtu.be/-BrRTlgza10\\\" target=\\\"_blank\\\">\\r\\n              <img src=\\\"assets/img/beacon_video_preview.png\\\" />\\r\\n              <ion-button expand=\\\"block\\\">Play Video</ion-button>\\r\\n            </a>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"approach\\\">\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding ion-padding-vertical\\\">\\r\\n        <h2>Approach</h2>\\r\\n        <p>\\r\\n          For the user there are two option to interact with dApps.\\r\\n        </p>\\r\\n        <p>\\r\\n          Either a browser extension is installed that communicates with the dApp and wallet by only pairing them once\\r\\n          or each dApp is paired directly with the wallet.\\r\\n        </p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-row class=\\\"selection--container\\\">\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\r\\n            <ion-card class=\\\"ion-no-margin\\\">\\r\\n              <ion-card-header>\\r\\n                <img src=\\\"assets/img/beacon_extension.svg\\\" />\\r\\n                <ion-card-title>Browser Extension</ion-card-title>\\r\\n              </ion-card-header>\\r\\n              <ion-card-content>\\r\\n                <p>The Beacon browser extension is responsible for the communication with the dApp and the wallet.</p>\\r\\n              </ion-card-content>\\r\\n              <div class=\\\"ion-margin\\\">\\r\\n                <a href=\\\"https://github.com/airgap-it/beacon-extension/releases\\\" target=\\\"_blank\\\">\\r\\n                  <ion-button>\\r\\n                    Download Extension\\r\\n                  </ion-button>\\r\\n                </a>\\r\\n                <a href=\\\"https://youtu.be/Ws_1U6ioG8s\\\" target=\\\"_blank\\\">\\r\\n                  <ion-button fill=\\\"outline\\\">\\r\\n                    Video\\r\\n                  </ion-button>\\r\\n                </a>\\r\\n              </div>\\r\\n            </ion-card>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\r\\n            <ion-card class=\\\"ion-no-margin\\\">\\r\\n              <ion-card-header>\\r\\n                <img src=\\\"assets/img/beacon_dapp.svg\\\" />\\r\\n                <ion-card-title>\\r\\n                  dApp Integration\\r\\n                </ion-card-title>\\r\\n              </ion-card-header>\\r\\n              <ion-card-content>\\r\\n                <p>\\r\\n                  With the implementation of the beacon-sdk, the dApp can also support direct connections. The user has\\r\\n                  to scan the pairing qr with his wallet for each dApp.\\r\\n                </p>\\r\\n              </ion-card-content>\\r\\n              <div class=\\\"ion-margin\\\">\\r\\n                <ion-button (click)=\\\"askForPermissions()\\\">Connect Beacon</ion-button>\\r\\n                <a href=\\\"https://youtu.be/-BrRTlgza10\\\" target=\\\"_blank\\\">\\r\\n                  <ion-button fill=\\\"outline\\\">\\r\\n                    Video\\r\\n                  </ion-button>\\r\\n                </a>\\r\\n              </div>\\r\\n            </ion-card>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-bottom integration--container\\\" id=\\\"wallets_dapps\\\">\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding ion-padding-vertical\\\">\\r\\n        <h2>Wallets & dApps</h2>\\r\\n        <p>\\r\\n          These wallets and dApps are using the\\r\\n          <a href=\\\"https://github.com/airgap-it/beacon-sdk\\\" target=\\\"_blank\\\">beacon-sdk</a>\\r\\n          to support a simple interaction for their users.\\r\\n        </p>\\r\\n        <p>\\r\\n          More Wallets and dApps will follow in the near future. If you're supporting Beacon in your project, please\\r\\n          reach out to us to be listed.\\r\\n        </p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-row class=\\\"ion-padding-top\\\">\\r\\n          <ion-col size=\\\"12\\\" class=\\\"ion-no-padding ion-padding-bottom\\\">\\r\\n            <strong>Wallets</strong>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'airgap_logo.svg'\\\"\\r\\n              [description]=\\\"'<strong>AirGap</strong> makes self custody  simple and secure. Protect your crypto and store your private keys offline. It’s time to set up your safe place for your coins and get rewards.'\\\"\\r\\n              [btnLink]=\\\"'https://airgap.it/'\\\"\\r\\n              [btnDescription]=\\\"'Download'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'thanos.svg'\\\"\\r\\n              [description]=\\\"'<strong>Thanos</strong> is a cryptocurrency wallet for Tezos blockchain as Web Extension for your Browser. An easy-to-use browser extension wallet for interacting with Tezos ecosystem.'\\\"\\r\\n              [btnLink]=\\\"'https://thanoswallet.com/'\\\"\\r\\n              [btnDescription]=\\\"'Download'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'ledger_logo.svg'\\\"\\r\\n              [description]=\\\"'Communication with <strong>Ledger</strong> hardware wallets is natively supported in the <strong>Beacon Extension</strong>, allowing any operation to be signed with a Ledger hardware wallet.'\\\"\\r\\n              [btnLink]=\\\"'https://chrome.google.com/webstore/detail/gpfndedineagiepkpinficbcbbgjoenn'\\\"\\r\\n              [btnDescription]=\\\"'Download'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-padding-top\\\">\\r\\n          <ion-col size=\\\"12\\\" class=\\\"ion-no-padding ion-padding-vertical\\\">\\r\\n            <strong>dApps</strong>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'beacon_logoy_type_hor_padding.svg'\\\"\\r\\n              [description]=\\\"'This website is the <strong>Beacon Example dApp</strong> that showcases various interactions with the beacon-sdk. The code is open source and available on GitHub.'\\\"\\r\\n              [btnLink]=\\\"'https://github.com/airgap-it/beacon-example-dapp'\\\"\\r\\n              [btnDescription]=\\\"'Open'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [title]=\\\"'Better Call Dev'\\\"\\r\\n              [description]=\\\"'<strong>Better Call Dev</strong> is a detailed Tezos smart contract explorer to inspect each contract call and allows you to run contract interactions directly from the Better Call Dev website.'\\\"\\r\\n              [btnLink]=\\\"'https://better-call.dev/'\\\"\\r\\n              [btnDescription]=\\\"'Open'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'dexter_logo.svg'\\\"\\r\\n              [description]=\\\"'<strong>Dexter</strong> is a decentralized, non-custodial exchange on the Tezos blockchain that enables users to exchange their XTZ with other tokens built on the Tezos FA1.2 token standard.'\\\"\\r\\n              [btnLink]=\\\"'https://app.dexter.exchange/'\\\"\\r\\n              [btnDescription]=\\\"'Beta Signup'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'minitez.png'\\\"\\r\\n              [description]=\\\"'<strong>MiniTez Store</strong> is a minimalistic token on Tezos to learn Michelson smart contract developemt and token contract best practice by building your own token by Claude Barde.'\\\"\\r\\n              [btnLink]=\\\"'https://minitez.netlify.app/'\\\"\\r\\n              [btnDescription]=\\\"'Open'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'tezblock_logo.svg'\\\"\\r\\n              [description]=\\\"'<strong>tezblock</strong> is a Tezos block explorer focused on the end user and accessibility of the Tezos blockchain data. Users can directly delegate on tezblock to any baker.'\\\"\\r\\n              [btnLink]=\\\"'https://tezblock.io'\\\"\\r\\n              [btnDescription]=\\\"'Open'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'tezos-domains_logo.svg'\\\"\\r\\n              [description]=\\\"'<strong>Tezos Domains</strong> is a distributed, open and extensible naming system using Tezos blockchain. The main function is to translate a meaningful and user-friendly alias to a Tezos address and vice versa.'\\\"\\r\\n              [btnLink]=\\\"'https://docs.tezos.domains/'\\\"\\r\\n              [btnDescription]=\\\"'Open'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-padding-top\\\">\\r\\n          <ion-col size=\\\"12\\\" class=\\\"ion-no-padding ion-padding-vertical\\\">\\r\\n            <strong>Libraries</strong>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <beacon-supporting-project-item\\r\\n              [logo]=\\\"'taquito.png'\\\"\\r\\n              [description]=\\\"'<strong>Taquito</strong> is a TypeScript library suite for development on the Tezos blockchain, for smart contract interactions. Supports Beacon in the Taquito Wallet API.'\\\"\\r\\n              [btnLink]=\\\"'https://tezostaquito.io/'\\\"\\r\\n              [btnDescription]=\\\"'Open'\\\"\\r\\n            ></beacon-supporting-project-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"transport_layer\\\">\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding ion-padding-vertical\\\">\\r\\n        <h2>Transport Layer</h2>\\r\\n        <p>\\r\\n          As specified in\\r\\n          <a href=\\\"https://gitlab.com/tzip/tzip/tree/master/proposals/tzip-10\\\" target=\\\"_blank\\\">tzip-10</a>\\r\\n          Beacon utilizes a peer to peer network built with the\\r\\n          <a href=\\\"https://matrix.org/\\\" target=\\\"_blank\\\">matrix protocol</a>\\r\\n          to transport messages from the dApps to the Wallets thus leveraging a decentralized approach.\\r\\n        </p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-row class=\\\"ion-padding-top\\\">\\r\\n          <ion-col class=\\\"ion-no-padding\\\"><img src=\\\"assets/img/beacon_transport.png\\\" /></ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row id=\\\"message_types\\\">\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n        <h2>Message Types</h2>\\r\\n        <p>\\r\\n          The following message types have been implemented from the\\r\\n          <a href=\\\"https://gitlab.com/tzip/tzip/tree/master/proposals/tzip-10\\\" target=\\\"_blank\\\">tzip-10</a>\\r\\n          standard in the\\r\\n          <a href=\\\"https://github.com/airgap-it/beacon-sdk\\\" target=\\\"_blank\\\">beacon-sdk</a>\\r\\n          . Examples for each messaging type have been implemented below.\\r\\n        </p>\\r\\n        <ion-row class=\\\"ion-padding-vertical\\\">\\r\\n          <ion-col class=\\\"ion-no-padding ion-padding-bottom\\\">\\r\\n            <ion-card color=\\\"secondary\\\" class=\\\"ion-no-margin\\\">\\r\\n              <ion-card-content>\\r\\n                <strong>Detailed Documentation</strong>\\r\\n                can also be found in the\\r\\n                <a href=\\\"http://docs.walletbeacon.io/\\\" target=\\\"_blank\\\">Beacon SDK Documentation.</a>\\r\\n              </ion-card-content>\\r\\n            </ion-card>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"permissionRequest\\\">\\r\\n      <ion-col size-md=\\\"6\\\">\\r\\n        <h3>\\r\\n          permissionRequest\\r\\n          <a href=\\\"https://gitlab.com/tzip/tzip/blob/master/proposals/tzip-10/tzip-10.md#1-permission\\\" target=\\\"_blank\\\">\\r\\n            <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n          </a>\\r\\n        </h3>\\r\\n        <p class=\\\"ion-padding-bottom\\\">App requests permission to access account details from wallet.</p>\\r\\n      </ion-col>\\r\\n      <ion-col size-md=\\\"9\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Granted Permissions\\r\\n            </ion-card-subtitle>\\r\\n            <ng-container *ngIf=\\\"!(activeAccount$ | async)\\\">\\r\\n              <p>No permissions yet. Request permissions from the wallet first.</p>\\r\\n            </ng-container>\\r\\n            <ng-container *ngIf=\\\"(activeAccount$ | async); let activeAccount\\\">\\r\\n              <ion-list lines=\\\"none\\\">\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                  <ion-label>\\r\\n                    {{ activeAccount.address }}\\r\\n                    <p *ngIf=\\\"activeAccount.network.rpcUrl\\\">{{ activeAccount.network.rpcUrl }}</p>\\r\\n                  </ion-label>\\r\\n                  <ion-badge color=\\\"primary\\\" slot=\\\"end\\\" *ngIf=\\\"activeAccount.network\\\">\\r\\n                    {{ activeAccount.network.type }}\\r\\n                  </ion-badge>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-no-padding\\\" [disabled]=\\\"!(activeAccount.scopes.indexOf('sign') >= 0)\\\">\\r\\n                  <ion-icon slot=\\\"start\\\" name=\\\"create\\\"></ion-icon>\\r\\n                  <ion-label>Sign transactions</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-no-padding\\\" [disabled]=\\\"!(activeAccount.scopes.indexOf('operation_request') >= 0)\\\">\\r\\n                  <ion-icon slot=\\\"start\\\" name=\\\"color-wand\\\"></ion-icon>\\r\\n                  <ion-label>Operations requests</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-no-padding\\\" [disabled]=\\\"!(activeAccount.scopes.indexOf('threshold') >= 0)\\\">\\r\\n                  <ion-icon slot=\\\"start\\\" name=\\\"code-working\\\"></ion-icon>\\r\\n                  <ion-label>Threshold</ion-label>\\r\\n                </ion-item>\\r\\n              </ion-list>\\r\\n            </ng-container>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Connected Networks\\r\\n            </ion-card-subtitle>\\r\\n            <ion-list lines=\\\"none\\\">\\r\\n              <ion-item class=\\\"ion-no-padding\\\">\\r\\n                <ion-label>Network</ion-label>\\r\\n                <ion-select [(ngModel)]=\\\"selectedNetwork\\\" placeholder=\\\"Select one\\\">\\r\\n                  <ion-select-option value=\\\"mainnet\\\">Mainnet</ion-select-option>\\r\\n                  <ion-select-option value=\\\"carthagenet\\\">Carthagenet</ion-select-option>\\r\\n                  <ion-select-option value=\\\"custom\\\">Custom</ion-select-option>\\r\\n                </ion-select>\\r\\n              </ion-item>\\r\\n              <ng-container *ngIf=\\\"selectedNetwork === 'custom'\\\">\\r\\n                <ion-item>\\r\\n                  <ion-label>Name (optional)</ion-label>\\r\\n                  <ion-input [(ngModel)]=\\\"networkName\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <ion-item>\\r\\n                  <ion-label>RPC Url</ion-label>\\r\\n                  <ion-input [(ngModel)]=\\\"networkRpcUrl\\\"></ion-input>\\r\\n                </ion-item>\\r\\n              </ng-container>\\r\\n            </ion-list>\\r\\n            <ion-button class=\\\"ion-margin-top\\\" (click)=\\\"askForPermissions()\\\">Request Permissions</ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Connected Accounts\\r\\n            </ion-card-subtitle>\\r\\n            <div *ngFor=\\\"let connectedAccount of connectedAccounts\\\">\\r\\n              <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n                <ion-label slot=\\\"start\\\">\\r\\n                  <h3>{{ connectedAccount.address }}</h3>\\r\\n                  <p>{{ connectedAccount.scopes }}</p>\\r\\n                  <ng-container *ngIf=\\\"(activeAccount$ | async) let activeAccount\\\">\\r\\n                    <ion-badge\\r\\n                      color=\\\"dark\\\"\\r\\n                      *ngIf=\\\"connectedAccount.accountIdentifier === activeAccount.accountIdentifier\\\"\\r\\n                    >\\r\\n                      Active Account\\r\\n                    </ion-badge>\\r\\n                  </ng-container>\\r\\n                </ion-label>\\r\\n                <ion-badge color=\\\"primary\\\" slot=\\\"end\\\">\\r\\n                  {{ connectedAccount.network.type }}\\r\\n                </ion-badge>\\r\\n              </ion-item>\\r\\n              <ion-button size=\\\"small\\\" (click)=\\\"activateAccount(connectedAccount)\\\">\\r\\n                Activate\\r\\n              </ion-button>\\r\\n              <ion-button size=\\\"small\\\" fill=\\\"outline\\\" (click)=\\\"disconnectAccount(connectedAccount.accountIdentifier)\\\">\\r\\n                Remove\\r\\n              </ion-button>\\r\\n            </div>\\r\\n            <ion-button class=\\\"ion-margin-top\\\" (click)=\\\"showConnectedAccounts()\\\">Load Accounts</ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"operationRequest\\\">\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n        <h3>\\r\\n          operationRequest\\r\\n          <a\\r\\n            href=\\\"https://gitlab.com/tzip/tzip/blob/master/proposals/tzip-10/tzip-10.md#3-payment-request\\\"\\r\\n            target=\\\"_blank\\\"\\r\\n          >\\r\\n            <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n          </a>\\r\\n        </h3>\\r\\n        <p class=\\\"ion-padding-bottom\\\">\\r\\n          App sends parameters like recipient and amount to the wallet and the wallet will prepare the transaction and\\r\\n          broadcast it.\\r\\n        </p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"9\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Contract Details\\r\\n            </ion-card-subtitle>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Contract Address</ion-label>\\r\\n              <ion-input [(ngModel)]=\\\"contractAddress\\\" placeholder=\\\"KT1...\\\"></ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n              <ion-label *ngIf=\\\"activeAccount$ | async; let activeAccount\\\">{{ activeAccount.address }}</ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n              <ion-icon name=\\\"wallet\\\" slot=\\\"start\\\"></ion-icon>\\r\\n              <ion-label>\\r\\n                <strong>\\r\\n                  <ng-container *ngIf=\\\"!contractBalance\\\">0</ng-container>\\r\\n                  {{ contractBalance }}\\r\\n                </strong>\\r\\n                FA Token Balance\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-button (click)=\\\"getBalanceOfContract()\\\" class=\\\"ion-margin-top\\\">Get Balance</ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Transfer\\r\\n            </ion-card-subtitle>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Amount</ion-label>\\r\\n              <ion-input [(ngModel)]=\\\"transferAmount\\\" placeholder=\\\"15\\\"></ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding ion-padding-bottom\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Recipient</ion-label>\\r\\n              <ion-input [(ngModel)]=\\\"transferRecipient\\\" placeholder=\\\"tz1..\\\"></ion-input>\\r\\n            </ion-item>\\r\\n            <ion-button (click)=\\\"transfer()\\\">Transfer</ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Custom Tezos Operation\\r\\n            </ion-card-subtitle>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding ion-padding-bottom\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Operation Requests (Array)</ion-label>\\r\\n              <ion-textarea rows=\\\"10\\\" [(ngModel)]=\\\"rawOperationRequest\\\"></ion-textarea>\\r\\n            </ion-item>\\r\\n            <ion-button (click)=\\\"operationRequest()\\\">Custom Tezos Operation</ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n        <h3 class=\\\"ion-padding-top\\\">operationRequest Examples</h3>\\r\\n        <p class=\\\"ion-padding-bottom\\\">\\r\\n          Additional reference implementations for the operationRequest message.\\r\\n        </p>\\r\\n        <p>\\r\\n          <strong>One Click Delegation</strong>\\r\\n        </p>\\r\\n        <p>\\r\\n          Prompts the wallet with a delegation operation for a specific baker. Bakers can use this on their websites as\\r\\n          an simple way to create a delegation operation for potential users.\\r\\n        </p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"9\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-card class=\\\"ion-no-margin ion-padding-bottom\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Baker Details\\r\\n            </ion-card-subtitle>\\r\\n            <!--TODO: enter baker address -->\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding ion-padding-bottom\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Baker address</ion-label>\\r\\n              <ion-input placeholder=\\\"tz1..\\\" [(ngModel)]=\\\"delegationAddress\\\"></ion-input>\\r\\n            </ion-item>\\r\\n            <ion-button (click)=\\\"delegate()\\\">One Click Delegation</ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n        <p class=\\\"ion-padding-top\\\">\\r\\n          <strong>Tipping</strong>\\r\\n        </p>\\r\\n        <p>\\r\\n          Prompts the wallet with a spend operation to a pre-defined addres, in this case an address owned by AirGap.\\r\\n        </p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"9\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Tippinng Details\\r\\n            </ion-card-subtitle>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding ion-padding-bottom\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Amount in XTZ</ion-label>\\r\\n              <ion-input [(ngModel)]=\\\"tippingAmount\\\" placeholder=\\\"1\\\"></ion-input>\\r\\n            </ion-item>\\r\\n            <ion-button (click)=\\\"tip()\\\">Tip us</ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n        <beacon-sample-contract></beacon-sample-contract>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"signPayloadRequest\\\">\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n        <h3>\\r\\n          signPayloadRequest\\r\\n          <a\\r\\n            href=\\\"https://gitlab.com/tzip/tzip/blob/master/proposals/tzip-10/tzip-10.md#2-sign-payload\\\"\\r\\n            target=\\\"_blank\\\"\\r\\n          >\\r\\n            <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n          </a>\\r\\n        </h3>\\r\\n        <p class=\\\"ion-padding-bottom\\\">dApp requests that a payload is signed.</p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"9\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Sign Transaction\\r\\n            </ion-card-subtitle>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Unsigned Transaction</ion-label>\\r\\n              <ion-textarea [(ngModel)]=\\\"unsignedTransaction\\\"></ion-textarea>\\r\\n            </ion-item>\\r\\n          </ion-card-content>\\r\\n          <ion-button (click)=\\\"sign()\\\" class=\\\"ion-margin\\\">Sign Transaction</ion-button>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"broadcastRequest\\\">\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n        <h3>\\r\\n          broadcastRequest\\r\\n          <a\\r\\n            href=\\\"https://gitlab.com/tzip/tzip/blob/master/proposals/tzip-10/tzip-10.md#4-broadcast-transactions\\\"\\r\\n            target=\\\"_blank\\\"\\r\\n          >\\r\\n            <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n          </a>\\r\\n        </h3>\\r\\n        <p class=\\\"ion-padding-bottom\\\">dApp requests a signed transaction to be broadcasted.</p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\" size-md=\\\"9\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-card class=\\\"ion-no-margin\\\">\\r\\n          <ion-card-content>\\r\\n            <ion-card-subtitle>\\r\\n              Broadcast Transaction\\r\\n            </ion-card-subtitle>\\r\\n            <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n              <ion-label position=\\\"stacked\\\">Signed Transaction</ion-label>\\r\\n              <ion-textarea [(ngModel)]=\\\"broadcastTransaction\\\"></ion-textarea>\\r\\n            </ion-item>\\r\\n          </ion-card-content>\\r\\n          <ion-button (click)=\\\"broadcast()\\\" class=\\\"ion-margin\\\">Broadcast Transaction</ion-button>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"beacon-sdk-info\\\">\\r\\n      <ion-col>\\r\\n        <h3>\\r\\n          Beacon SDK Info\\r\\n        </h3>\\r\\n        <p>\\r\\n          <strong>SDK Version:</strong>\\r\\n          {{ beaconSdkVersion }}\\r\\n        </p>\\r\\n        <p>\\r\\n          <strong>Beacon ID:</strong>\\r\\n          {{ beaconSdkBeaconId }}\\r\\n        </p>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"ion-padding-bottom\\\" id=\\\"components\\\">\\r\\n      <ion-col>\\r\\n        <h3>\\r\\n          Components\\r\\n        </h3>\\r\\n        <p class=\\\"ion-padding-bottom\\\">The various Beacon components repositories for developers.</p>\\r\\n        <ion-row>\\r\\n          <ion-col size-md=\\\"4\\\" size=\\\"12\\\">\\r\\n            <h5>\\r\\n              SDK\\r\\n              <a href=\\\"https://github.com/airgap-it/beacon-sdk\\\" target=\\\"_blank\\\">\\r\\n                <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n              </a>\\r\\n            </h5>\\r\\n            <p>\\r\\n              The beacon-sdk simplifies and abstracts the communication between dApps and wallets over different\\r\\n              transport layers.\\r\\n            </p>\\r\\n          </ion-col>\\r\\n          <ion-col size-md=\\\"4\\\" size=\\\"12\\\">\\r\\n            <h5>\\r\\n              Extension\\r\\n              <a href=\\\"https://chrome.google.com/webstore/detail/gpfndedineagiepkpinficbcbbgjoenn\\\" target=\\\"_blank\\\">\\r\\n                <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n              </a>\\r\\n            </h5>\\r\\n            <p class=\\\"ion-padding-end\\\">\\r\\n              The Beacon Extension implements the beacon-sdk to interact with dApps that have implemented the beacon-sdk\\r\\n              and use the various signing methods.\\r\\n            </p>\\r\\n          </ion-col>\\r\\n          <ion-col size-md=\\\"4\\\" size=\\\"12\\\">\\r\\n            <h5>\\r\\n              dApp\\r\\n              <a href=\\\"https://github.com/airgap-it/beacon-example-dapp\\\" target=\\\"_blank\\\">\\r\\n                <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n              </a>\\r\\n            </h5>\\r\\n            <p>\\r\\n              The Beacon Example dApp is the reference implementation of a dApp that uses the beacon-sdk with various\\r\\n              examples of the different message types.\\r\\n            </p>\\r\\n          </ion-col>\\r\\n          <ion-col size-md=\\\"4\\\" size=\\\"12\\\">\\r\\n            <h5>\\r\\n              Android SDK\\r\\n              <a href=\\\"https://github.com/airgap-it/beacon-android-sdk\\\" target=\\\"_blank\\\">\\r\\n                <ion-icon name=\\\"open\\\" color=\\\"medium\\\" mode=\\\"ios\\\"></ion-icon>\\r\\n              </a>\\r\\n            </h5>\\r\\n            <p>\\r\\n              The beacon-android-sdk simplifies and abstracts the communication between dApps and wallets for Android.\\r\\n            </p>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n  <ion-row class=\\\"ion-justify-content-center footer--container ion-margin-top ion-padding-vertical\\\">\\r\\n    <ion-col class=\\\"ion-no-padding\\\">\\r\\n      <ion-grid fixed=\\\"true\\\" class=\\\"ion-padding\\\">\\r\\n        <ion-row class=\\\"ion-padding-vertical\\\">\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n            <img src=\\\"assets/img/beacon_logoy_type_hor_padding.svg\\\" class=\\\"ion-padding-top\\\" />\\r\\n            <p>\\r\\n              Beacon is developed and maintained by\\r\\n              <a href=\\\"https://airgap.it\\\" target=\\\"_blank\\\">AirGap</a>\\r\\n              .\\r\\n            </p>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"3\\\">\\r\\n            <h6>Developers</h6>\\r\\n            <ul class=\\\"ion-no-padding\\\">\\r\\n              <li><a href=\\\"https://github.com/airgap-it/beacon-sdk\\\" target=\\\"_blank\\\">beacon-sdk</a></li>\\r\\n              <li><a href=\\\"https://github.com/airgap-it/beacon-android-sdk\\\" target=\\\"_blank\\\">beacon-android-sdk</a></li>\\r\\n              <li><a href=\\\"https://github.com/airgap-it/beacon-extension\\\" target=\\\"_blank\\\">beacon-extension</a></li>\\r\\n              <li>\\r\\n                <a href=\\\"https://github.com/airgap-it/beacon-example-dapp\\\" target=\\\"_blank\\\">beacon-example-dapp</a>\\r\\n              </li>\\r\\n            </ul>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"3\\\">\\r\\n            <h6>Social Media</h6>\\r\\n            <ul class=\\\"ion-no-padding\\\">\\r\\n              <li><a href=\\\"https://twitter.com/AirGap_it\\\" target=\\\"_blank\\\">Twitter</a></li>\\r\\n              <li><a href=\\\"https://medium.com/airgap-it\\\" target=\\\"_blank\\\">Medium</a></li>\\r\\n              <li><a href=\\\"https://t.me/AirGap\\\" target=\\\"_blank\\\">Telegram</a></li>\\r\\n            </ul>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\";","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { NgModule } from '@angular/core'\r\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router'\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    loadChildren: () => import('./pages/home/home.module').then((m) => m.HomePageModule)\r\n  },\r\n  { path: '**', redirectTo: '/', pathMatch: 'full' }\r\n]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes, {\r\n      preloadingStrategy: PreloadAllModules,\r\n      scrollPositionRestoration: 'enabled', // or 'top'\r\n      anchorScrolling: 'enabled',\r\n      scrollOffset: [0, 64]\r\n    })\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {}\r\n","export default \"/* active menu item styling */\\n.item--active {\\n  border-left-width: 4px;\\n  border-left-color: var(--ion-color-primary);\\n  border-left-style: solid;\\n}\\n/* mobile menu shadow */\\n.show-menu {\\n  box-shadow: 2px 4px 4px 0px rgba(0, 0, 0, 0.24);\\n}\\nion-footer ion-icon {\\n  font-size: 24px;\\n}\\n@media only screen and (max-width: 767px) {\\n  ion-title {\\n    padding: 0;\\n  }\\n\\n  /* hides ion-buttons with connection status on mobile */\\n  ion-header ion-buttons {\\n    display: none;\\n  }\\n}\\n/* header logo and status styling */\\n.logo--container ion-label,\\n.logo--container span {\\n  font-size: 12px;\\n}\\n.logo--container span {\\n  padding-top: 4px;\\n  padding-left: 4px;\\n}\\n.logo--container span a {\\n  color: var(--ion-color-dark);\\n  font-weight: 400;\\n}\\n.logo--container,\\n.logo--container div {\\n  display: flex;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQzpcXFVzZXJzXFxrbGFzX1xcR2l0XFxiZWFjb24tZXhhbXBsZS1kYXBwL3NyY1xcYXBwXFxhcHAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2QkFBQTtBQUNBO0VBQ0Usc0JBQUE7RUFDQSwyQ0FBQTtFQUNBLHdCQUFBO0FDQ0Y7QURDQSx1QkFBQTtBQUNBO0VBQ0UsK0NBQUE7QUNFRjtBRENFO0VBQ0UsZUFBQTtBQ0VKO0FEQ0E7RUFDRTtJQUNFLFVBQUE7RUNFRjs7RURBQSx1REFBQTtFQUVFO0lBQ0UsYUFBQTtFQ0VKO0FBQ0Y7QURDQSxtQ0FBQTtBQUVFOztFQUVFLGVBQUE7QUNBSjtBREVFO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQ0FKO0FEQ0k7RUFDRSw0QkFBQTtFQUNBLGdCQUFBO0FDQ047QURHQTs7RUFFRSxhQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBhY3RpdmUgbWVudSBpdGVtIHN0eWxpbmcgKi9cclxuLml0ZW0tLWFjdGl2ZSB7XHJcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDRweDtcclxuICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gIGJvcmRlci1sZWZ0LXN0eWxlOiBzb2xpZDtcclxufVxyXG4vKiBtb2JpbGUgbWVudSBzaGFkb3cgKi9cclxuLnNob3ctbWVudSB7XHJcbiAgYm94LXNoYWRvdzogMnB4IDRweCA0cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yNCk7XHJcbn1cclxuaW9uLWZvb3RlciB7XHJcbiAgaW9uLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gIH1cclxufVxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2N3B4KSB7XHJcbiAgaW9uLXRpdGxlIHtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgfVxyXG4gIC8qIGhpZGVzIGlvbi1idXR0b25zIHdpdGggY29ubmVjdGlvbiBzdGF0dXMgb24gbW9iaWxlICovXHJcbiAgaW9uLWhlYWRlciB7XHJcbiAgICBpb24tYnV0dG9ucyB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbi8qIGhlYWRlciBsb2dvIGFuZCBzdGF0dXMgc3R5bGluZyAqL1xyXG4ubG9nby0tY29udGFpbmVyIHtcclxuICBpb24tbGFiZWwsXHJcbiAgc3BhbiB7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgfVxyXG4gIHNwYW4ge1xyXG4gICAgcGFkZGluZy10b3A6IDRweDtcclxuICAgIHBhZGRpbmctbGVmdDogNHB4O1xyXG4gICAgYSB7XHJcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbi5sb2dvLS1jb250YWluZXIsXHJcbi5sb2dvLS1jb250YWluZXIgZGl2IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcbiIsIi8qIGFjdGl2ZSBtZW51IGl0ZW0gc3R5bGluZyAqL1xuLml0ZW0tLWFjdGl2ZSB7XG4gIGJvcmRlci1sZWZ0LXdpZHRoOiA0cHg7XG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIGJvcmRlci1sZWZ0LXN0eWxlOiBzb2xpZDtcbn1cblxuLyogbW9iaWxlIG1lbnUgc2hhZG93ICovXG4uc2hvdy1tZW51IHtcbiAgYm94LXNoYWRvdzogMnB4IDRweCA0cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yNCk7XG59XG5cbmlvbi1mb290ZXIgaW9uLWljb24ge1xuICBmb250LXNpemU6IDI0cHg7XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHtcbiAgaW9uLXRpdGxlIHtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG5cbiAgLyogaGlkZXMgaW9uLWJ1dHRvbnMgd2l0aCBjb25uZWN0aW9uIHN0YXR1cyBvbiBtb2JpbGUgKi9cbiAgaW9uLWhlYWRlciBpb24tYnV0dG9ucyB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufVxuLyogaGVhZGVyIGxvZ28gYW5kIHN0YXR1cyBzdHlsaW5nICovXG4ubG9nby0tY29udGFpbmVyIGlvbi1sYWJlbCxcbi5sb2dvLS1jb250YWluZXIgc3BhbiB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbi5sb2dvLS1jb250YWluZXIgc3BhbiB7XG4gIHBhZGRpbmctdG9wOiA0cHg7XG4gIHBhZGRpbmctbGVmdDogNHB4O1xufVxuLmxvZ28tLWNvbnRhaW5lciBzcGFuIGEge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICBmb250LXdlaWdodDogNDAwO1xufVxuXG4ubG9nby0tY29udGFpbmVyLFxuLmxvZ28tLWNvbnRhaW5lciBkaXYge1xuICBkaXNwbGF5OiBmbGV4O1xufSJdfQ== */\";","import { AccountInfo, SDK_VERSION } from '@airgap/beacon-sdk'\r\nimport { Component, ViewChild } from '@angular/core'\r\nimport { Storage } from '@ionic/storage'\r\nimport { Observable } from 'rxjs'\r\n\r\nimport { HomePage } from './pages/home/home.page'\r\nimport { BeaconService } from './services/beacon/beacon.service'\r\nimport { ScrollService } from './services/scroll/scroll.service'\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: 'app.component.html',\r\n  styleUrls: ['app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  @ViewChild(HomePage, { read: HomePage }) public myContent!: HomePage\r\n\r\n  public selectedTab: string = 'approach'\r\n  public connectionStatus$: Observable<string>\r\n  public activeAccount$: Observable<AccountInfo>\r\n  public beaconSdkVersion: string = SDK_VERSION\r\n\r\n  constructor(\r\n    private readonly beaconService: BeaconService,\r\n    private readonly scrollService: ScrollService,\r\n    private readonly storage: Storage\r\n  ) {\r\n    this.connectionStatus$ = this.beaconService.connectionStatus$\r\n    this.activeAccount$ = this.beaconService.activeAccount$\r\n    this.scrollService.currentSelectedTab$.subscribe((currentTab: string) => {\r\n      this.selectedTab = currentTab\r\n    })\r\n  }\r\n\r\n  public scrollTo(element: string): void {\r\n    this.scrollService.scrollTo(element)\r\n  }\r\n\r\n  public select(element: string): void {\r\n    this.selectedTab = element\r\n    this.scrollService.setCurrentSelectedTab(element)\r\n  }\r\n\r\n  public async reset(): Promise<void> {\r\n    await this.beaconService.client.removeAllPeers()\r\n    await this.storage.clear()\r\n    location.reload()\r\n  }\r\n}\r\n","import { HttpClientModule } from '@angular/common/http'\r\nimport { ErrorHandler, NgModule } from '@angular/core'\r\nimport { BrowserModule } from '@angular/platform-browser'\r\nimport { RouteReuseStrategy } from '@angular/router'\r\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular'\r\nimport { IonicStorageModule } from '@ionic/storage'\r\n\r\nimport { AppRoutingModule } from './app-routing.module'\r\nimport { AppComponent } from './app.component'\r\nimport { SentryErrorHandler } from './classes/sentry-error-handler/sentry-error-handler'\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  entryComponents: [],\r\n  imports: [BrowserModule, HttpClientModule, IonicModule.forRoot(), AppRoutingModule, IonicStorageModule.forRoot()],\r\n  providers: [\r\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\r\n    { provide: ErrorHandler, useClass: SentryErrorHandler }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { SDK_VERSION } from '@airgap/beacon-sdk'\r\nimport { ErrorHandler, Injectable } from '@angular/core'\r\nimport { captureException, configureScope, Event, init, Scope, withScope } from '@sentry/browser'\r\n\r\ninit({\r\n  dsn: 'https://bce0d14340384d60823b5ed9494b6d7d@sentry.papers.tech/172',\r\n  release: 'unknown'\r\n})\r\n\r\nexport enum ErrorCategory {\r\n  UNKNOWN = 'unknown'\r\n}\r\n\r\nconst ERROR_CATEGORY_TAG: string = 'error-category'\r\nconst SDK_VERSION_TAG: string = 'sdk-version'\r\n\r\nconst handleErrorSentry: (category?: ErrorCategory) => (error: any) => void = (\r\n  category: ErrorCategory = ErrorCategory.UNKNOWN\r\n): ((error: any) => void) => {\r\n  return (error: any): void => {\r\n    try {\r\n      withScope((scope: Scope) => {\r\n        scope.setTag(ERROR_CATEGORY_TAG, category)\r\n        scope.setTag(SDK_VERSION_TAG, SDK_VERSION)\r\n        const eventId: string = captureException(error.originalError || error)\r\n        // tslint:disable-next-line\r\n        console.debug(`[sentry](${category}) - ${eventId}`)\r\n      })\r\n    } catch (sentryReportingError) {\r\n      // tslint:disable-next-line\r\n      console.debug('Error reporting exception to sentry: ', sentryReportingError)\r\n    }\r\n  }\r\n}\r\n\r\nconst handleErrorIgnore: (error: any) => void = (error: any): void => {\r\n  // tslint:disable\r\n  console.debug('[Sentry]: not sending to sentry')\r\n  console.debug(error.originalError || error)\r\n  // tslint:enable\r\n}\r\n\r\nconst setSentryRelease: (release: string) => void = (release: string): void => {\r\n  configureScope((scope: Scope) => {\r\n    scope.addEventProcessor(async (event: Event) => {\r\n      event.release = release\r\n\r\n      return event\r\n    })\r\n  })\r\n}\r\n\r\nconst setSentryUser: (UUID: string) => void = (UUID: string): void => {\r\n  configureScope((scope: Scope) => {\r\n    scope.setUser({ id: UUID })\r\n  })\r\n}\r\n\r\nexport { setSentryRelease, setSentryUser, handleErrorIgnore, handleErrorSentry }\r\n\r\n@Injectable()\r\nexport class SentryErrorHandler extends ErrorHandler {\r\n  public handleError(error: any): void {\r\n    super.handleError(error)\r\n    handleErrorSentry()(error)\r\n  }\r\n}\r\n","export default \".intro__container {\\n  font-size: 1.2em;\\n  margin-bottom: 1.2em;\\n  line-height: 2;\\n  font-weight: 200;\\n}\\n\\n.hero--container {\\n  min-height: 50vh;\\n}\\n\\n.selection--container ion-card,\\n.integration--container ion-card {\\n  height: 100%;\\n  justify-content: space-between;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.selection--container ion-card ion-card-content,\\n.integration--container ion-card ion-card-content {\\n  flex: 1;\\n}\\n\\n.selection--container ion-card img,\\n.integration--container ion-card img {\\n  width: 124px;\\n  height: auto;\\n}\\n\\n.selection--container ion-card img,\\n.selection--container ion-card h3,\\n.integration--container ion-card img,\\n.integration--container ion-card h3 {\\n  min-height: 48px;\\n}\\n\\n.selection--container ion-card h3,\\n.integration--container ion-card h3 {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n@media only screen and (min-width: 768px) {\\n  .selection--container ion-card ion-button,\\n.integration--container ion-card ion-button {\\n    width: -webkit-fit-content;\\n    width: -moz-fit-content;\\n    width: fit-content;\\n  }\\n}\\n\\n.footer--container {\\n  background: var(--ion-color-light);\\n}\\n\\n.footer--container ul {\\n  list-style: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9tZS9DOlxcVXNlcnNcXGtsYXNfXFxHaXRcXGJlYWNvbi1leGFtcGxlLWRhcHAvc3JjXFxhcHBcXHBhZ2VzXFxob21lXFxob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0Esb0JBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURDQTtFQUNFLGdCQUFBO0FDRUY7O0FERUU7O0VBQ0UsWUFBQTtFQUNBLDhCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0FDRUo7O0FEREk7O0VBQ0UsT0FBQTtBQ0lOOztBREZJOztFQUNFLFlBQUE7RUFDQSxZQUFBO0FDS047O0FESEk7Ozs7RUFFRSxnQkFBQTtBQ09OOztBRExJOztFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQ1FOOztBRE5JO0VBQ0U7O0lBQ0UsMEJBQUE7SUFBQSx1QkFBQTtJQUFBLGtCQUFBO0VDU047QUFDRjs7QURKQTtFQUNFLGtDQUFBO0FDT0Y7O0FETkU7RUFDRSxnQkFBQTtBQ1FKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbnRyb19fY29udGFpbmVyIHtcclxuICBmb250LXNpemU6IDEuMmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDEuMmVtO1xyXG4gIGxpbmUtaGVpZ2h0OiAyO1xyXG4gIGZvbnQtd2VpZ2h0OiAyMDA7XHJcbn1cclxuLmhlcm8tLWNvbnRhaW5lciB7XHJcbiAgbWluLWhlaWdodDogNTB2aDtcclxufVxyXG4uc2VsZWN0aW9uLS1jb250YWluZXIsXHJcbi5pbnRlZ3JhdGlvbi0tY29udGFpbmVyIHtcclxuICBpb24tY2FyZCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGlvbi1jYXJkLWNvbnRlbnQge1xyXG4gICAgICBmbGV4OiAxO1xyXG4gICAgfVxyXG4gICAgaW1nIHtcclxuICAgICAgd2lkdGg6IDEyNHB4O1xyXG4gICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICB9XHJcbiAgICBpbWcsXHJcbiAgICBoMyB7XHJcbiAgICAgIG1pbi1oZWlnaHQ6IDQ4cHg7XHJcbiAgICB9XHJcbiAgICBoMyB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcbiAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XHJcbiAgICAgIGlvbi1idXR0b24ge1xyXG4gICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLmZvb3Rlci0tY29udGFpbmVyIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xyXG4gIHVsIHtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgfVxyXG59XHJcbiIsIi5pbnRyb19fY29udGFpbmVyIHtcbiAgZm9udC1zaXplOiAxLjJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMS4yZW07XG4gIGxpbmUtaGVpZ2h0OiAyO1xuICBmb250LXdlaWdodDogMjAwO1xufVxuXG4uaGVyby0tY29udGFpbmVyIHtcbiAgbWluLWhlaWdodDogNTB2aDtcbn1cblxuLnNlbGVjdGlvbi0tY29udGFpbmVyIGlvbi1jYXJkLFxuLmludGVncmF0aW9uLS1jb250YWluZXIgaW9uLWNhcmQge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5zZWxlY3Rpb24tLWNvbnRhaW5lciBpb24tY2FyZCBpb24tY2FyZC1jb250ZW50LFxuLmludGVncmF0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaW9uLWNhcmQtY29udGVudCB7XG4gIGZsZXg6IDE7XG59XG4uc2VsZWN0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaW1nLFxuLmludGVncmF0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaW1nIHtcbiAgd2lkdGg6IDEyNHB4O1xuICBoZWlnaHQ6IGF1dG87XG59XG4uc2VsZWN0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaW1nLFxuLnNlbGVjdGlvbi0tY29udGFpbmVyIGlvbi1jYXJkIGgzLFxuLmludGVncmF0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaW1nLFxuLmludGVncmF0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaDMge1xuICBtaW4taGVpZ2h0OiA0OHB4O1xufVxuLnNlbGVjdGlvbi0tY29udGFpbmVyIGlvbi1jYXJkIGgzLFxuLmludGVncmF0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaDMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xuICAuc2VsZWN0aW9uLS1jb250YWluZXIgaW9uLWNhcmQgaW9uLWJ1dHRvbixcbi5pbnRlZ3JhdGlvbi0tY29udGFpbmVyIGlvbi1jYXJkIGlvbi1idXR0b24ge1xuICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgfVxufVxuXG4uZm9vdGVyLS1jb250YWluZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xufVxuLmZvb3Rlci0tY29udGFpbmVyIHVsIHtcbiAgbGlzdC1zdHlsZTogbm9uZTtcbn0iXX0= */\";","import { AccountInfo, NetworkType, SDK_VERSION, TezosOperation, TezosOperationType } from '@airgap/beacon-sdk'\r\nimport { Component, ViewChild } from '@angular/core'\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { AlertController, IonContent, ToastController } from '@ionic/angular'\r\nimport { TezosBTC } from 'airgap-coin-lib'\r\nimport { asyncScheduler, Observable } from 'rxjs'\r\nimport { switchMap, throttleTime } from 'rxjs/operators'\r\n\r\nimport { BeaconService } from '../../services/beacon/beacon.service'\r\nimport { ScrollService } from '../../services/scroll/scroll.service'\r\n\r\nexport const getTezblockLinkForAddress: (\r\n  accountInfo: AccountInfo | undefined,\r\n  address: string\r\n) => Promise<string> = async (accountInfo: AccountInfo | undefined, address: string): Promise<string> => {\r\n  const urls: { [key in NetworkType]: string } = {\r\n    [NetworkType.MAINNET]: 'https://tezblock.io/account/',\r\n    [NetworkType.CARTHAGENET]: 'https://carthagenet.tezblock.io/account/',\r\n    [NetworkType.CUSTOM]: 'https://carthagenet.tezblock.io/account/'\r\n  }\r\n  const url: string = urls[accountInfo && accountInfo.network ? accountInfo.network.type : NetworkType.MAINNET]\r\n\r\n  return `${url}${address}`\r\n}\r\n\r\nexport const getTezblockLinkForTxHash: (\r\n  accountInfo: AccountInfo | undefined,\r\n  txHash: string\r\n) => Promise<string> = async (accountInfo: AccountInfo | undefined, txHash: string): Promise<string> => {\r\n  const urls: { [key in NetworkType]: string } = {\r\n    [NetworkType.MAINNET]: 'https://tezblock.io/transaction/',\r\n    [NetworkType.CARTHAGENET]: 'https://carthagenet.tezblock.io/transaction/',\r\n    [NetworkType.CUSTOM]: 'https://carthagenet.tezblock.io/transaction/'\r\n  }\r\n  const url: string = urls[accountInfo && accountInfo.network ? accountInfo.network.type : NetworkType.MAINNET]\r\n\r\n  return `${url}${txHash}`\r\n}\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss']\r\n})\r\nexport class HomePage {\r\n  @ViewChild(IonContent, { read: IonContent }) public myContent!: IonContent\r\n\r\n  public contractAddress: string = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn'\r\n  public contractBalance: string = ''\r\n  public activeAccount$: Observable<AccountInfo>\r\n  public activeAccount: AccountInfo | undefined\r\n\r\n  public selectedNetwork: string = 'carthagenet'\r\n  public networkName: string | undefined\r\n  public networkRpcUrl: string | undefined\r\n\r\n  public delegationAddress: string = 'tz1MJx9vhaNRSimcuXPK2rW4fLccQnDAnVKJ'\r\n\r\n  public tippingAmount: string = '1'\r\n\r\n  public rawOperationRequest: string = `[\r\n    {\r\n      \"kind\": \"transaction\",\r\n      \"amount\": \"1234567\",\r\n      \"destination\": \"tz1hrHoK11TBz3HwWD2YZyZVWUyAg44h3eqd\"\r\n    }\r\n  ]`\r\n\r\n  public unsignedTransaction: string =\r\n    'f8f9b125f7ef6bbae5ee27f4612220ac93aa7c392ac5f548d15e18c2bd9a7d926c00075da6a7c0ec09c550623fefd8a9cdf40d3d9910ad8100e1dc5fbc500001000012548f71994cb2ce18072d0dcb568fe35fb7493000'\r\n  public broadcastTransaction: string =\r\n    '1ef017b560494ae7b102be63f4d64e64d70114ff4652df23f34ae4460645b3266b00641b67c32672f0b11263b89b05b51e42faa64a3f940ad8d79101904e0000c64ac48e550c2c289af4c5ce5fe52ca7ba7a91d1a411745313e154eff8d118f16c00641b67c32672f0b11263b89b05b51e42faa64a3fdc0bd9d79101bc5000000000641b67c32672f0b11263b89b05b51e42faa64a3f0085dcfbba4a00c5b4f89914c1819ccd8466f6328b74073d50406394e59fe32d89e62112fec2d5a9bc1e6787206fe50e26f90999ae3061ca76247b57e08b6e490a'\r\n\r\n  public transferAmount: string = ''\r\n  public transferRecipient: string = ''\r\n\r\n  public connectedAccounts: AccountInfo[] = []\r\n\r\n  public protocol: TezosBTC = new TezosBTC()\r\n\r\n  public beaconSdkVersion: string = SDK_VERSION\r\n  public beaconSdkBeaconId: string | undefined\r\n\r\n  constructor(\r\n    private readonly alertController: AlertController,\r\n    private readonly beaconService: BeaconService,\r\n    private readonly route: ActivatedRoute,\r\n    private readonly scrollService: ScrollService,\r\n    private readonly toastController: ToastController\r\n  ) {\r\n    this.activeAccount$ = this.beaconService.activeAccount$\r\n    this.activeAccount$.subscribe((activeAccount: AccountInfo) => {\r\n      this.activeAccount = activeAccount\r\n    })\r\n\r\n    this.route.fragment.subscribe((f: string) => {\r\n      const element: Element | null = document.querySelector(`#${f}`)\r\n      if (element) {\r\n        element.scrollIntoView()\r\n      }\r\n    })\r\n    this.scrollService.scroll$.subscribe((element: string) => {\r\n      this.scrollTo(element).catch(console.error)\r\n    })\r\n\r\n    this.beaconService.client.beaconId\r\n      .then((beaconId: string) => {\r\n        this.beaconSdkBeaconId = beaconId\r\n      })\r\n      .catch(console.error)\r\n  }\r\n\r\n  public async askForPermissions(): Promise<void> {\r\n    await this.beaconService.client.requestPermissions({\r\n      network: {\r\n        type: this.selectedNetwork as any,\r\n        name: this.networkName,\r\n        rpcUrl: this.networkRpcUrl\r\n      }\r\n    })\r\n  }\r\n\r\n  public async showConnectedAccounts(): Promise<void> {\r\n    this.connectedAccounts = await this.beaconService.client.getAccounts()\r\n  }\r\n\r\n  public async activateAccount(accountInfo: AccountInfo): Promise<void> {\r\n    await this.beaconService.client.setActiveAccount(accountInfo)\r\n  }\r\n\r\n  public async disconnectAccount(accountIdentifier: string): Promise<void> {\r\n    await this.beaconService.client.removeAccount(accountIdentifier)\r\n    await this.showConnectedAccounts()\r\n  }\r\n\r\n  public async ionViewDidEnter(): Promise<void> {\r\n    let htmlElement: HTMLElement | null\r\n    const firstElement: HTMLElement | null = document.getElementById(this.scrollService.getFirstTab())\r\n    this.scrollService.currentSelectedTab$\r\n      .pipe(\r\n        switchMap((currentTab: string) => {\r\n          htmlElement = document.getElementById(currentTab)\r\n\r\n          return this.myContent.ionScroll.pipe(throttleTime(100, asyncScheduler, { leading: true, trailing: true }))\r\n        })\r\n      )\r\n      .subscribe((scrollDetailEvent: CustomEvent) => {\r\n        if (scrollDetailEvent.detail.velocityY > 0) {\r\n          // scrolling down\r\n          if (htmlElement && htmlElement.offsetTop && scrollDetailEvent.detail.scrollTop > htmlElement.offsetTop) {\r\n            this.scrollService.selectNewTab('next')\r\n          }\r\n        } else if (scrollDetailEvent.detail.velocityY < 0) {\r\n          // scrolling up\r\n          if (\r\n            firstElement &&\r\n            scrollDetailEvent.detail.scrollTop > firstElement.offsetTop &&\r\n            htmlElement &&\r\n            htmlElement.offsetTop &&\r\n            scrollDetailEvent.detail.scrollTop < htmlElement.offsetTop - 1\r\n          ) {\r\n            this.scrollService.selectNewTab('previous')\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  public async getBalanceOfContract(): Promise<void> {\r\n    if (this.activeAccount && this.activeAccount.address) {\r\n      const balance: string = await this.protocol.getBalance(this.activeAccount.address)\r\n      this.contractBalance = balance\r\n\r\n      console.log('tzbtc balance', balance)\r\n    } else {\r\n      this.contractBalance = '0'\r\n    }\r\n    const toast: HTMLIonToastElement = await this.toastController.create({\r\n      message: 'Balance updated',\r\n      position: 'bottom',\r\n      duration: 1000,\r\n      buttons: [\r\n        {\r\n          text: 'Done',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    })\r\n    toast.present()\r\n  }\r\n\r\n  public async tip(): Promise<void> {\r\n    const amount: number = parseFloat(this.tippingAmount) * 1000000\r\n    if (isNaN(amount)) {\r\n      return this.showAlertWithBlockExplorerLink('Error', 'Amount is invalid')\r\n    }\r\n\r\n    return this.requestOperationWithAlert(\r\n      [\r\n        {\r\n          kind: TezosOperationType.TRANSACTION,\r\n          amount: amount.toString(),\r\n          destination: 'tz1hrHoK11TBz3HwWD2YZyZVWUyAg44h3eqd'\r\n        }\r\n      ],\r\n      'Thanks for your tip!'\r\n    )\r\n  }\r\n\r\n  public async delegate(): Promise<void> {\r\n    return this.requestOperationWithAlert(\r\n      [{ kind: TezosOperationType.DELEGATION, delegate: this.delegationAddress }],\r\n      'Thanks for your delegation!'\r\n    )\r\n  }\r\n\r\n  public async transfer(): Promise<void> {\r\n    const amount: number = parseFloat(this.transferAmount) * 1000000\r\n    if (isNaN(amount)) {\r\n      return this.showAlertWithBlockExplorerLink('Error', 'Amount is invalid')\r\n    }\r\n\r\n    return this.requestOperationWithAlert(\r\n      [\r\n        {\r\n          kind: TezosOperationType.TRANSACTION,\r\n          amount: amount.toString(),\r\n          destination: this.transferRecipient\r\n        }\r\n      ],\r\n      'The operation has been broadcasted to the network.'\r\n    )\r\n  }\r\n\r\n  public async operationRequest(): Promise<void> {\r\n    return this.requestOperationWithAlert(\r\n      JSON.parse(this.rawOperationRequest),\r\n      'The operation has been broadcasted to the network.'\r\n    )\r\n  }\r\n\r\n  public async sign(): Promise<void> {\r\n    if (!this.activeAccount) {\r\n      throw new Error('No active account set')\r\n    }\r\n\r\n    await this.beaconService.client.requestSignPayload({\r\n      payload: this.unsignedTransaction,\r\n      sourceAddress: this.activeAccount.address\r\n    })\r\n  }\r\n\r\n  public async broadcast(): Promise<void> {\r\n    if (!this.activeAccount) {\r\n      throw new Error('No active account set')\r\n    }\r\n\r\n    await this.beaconService.client.requestBroadcast({\r\n      network: this.activeAccount.network,\r\n      signedTransaction: this.broadcastTransaction\r\n    })\r\n  }\r\n\r\n  public async scrollTo(element: string): Promise<void> {\r\n    if (document.getElementById(element) != null) {\r\n      const yOffset: HTMLElement | null = document.getElementById(element)\r\n      if (yOffset && yOffset.offsetTop) {\r\n        await this.myContent.scrollToPoint(0, yOffset.offsetTop, 500)\r\n      }\r\n    }\r\n  }\r\n\r\n  private async showAlertWithBlockExplorerLink(\r\n    header: string,\r\n    message: string,\r\n    transactionHash?: string\r\n  ): Promise<void> {\r\n    const buttons: any[] = []\r\n    if (transactionHash) {\r\n      buttons.push({\r\n        text: 'Open Blockexplorer',\r\n        handler: async (): Promise<void> => {\r\n          window.open(await getTezblockLinkForTxHash(this.activeAccount, transactionHash), '_blank')\r\n        }\r\n      })\r\n    }\r\n\r\n    buttons.push('OK')\r\n    const alert: HTMLIonAlertElement = await this.alertController.create({\r\n      header,\r\n      message,\r\n      buttons\r\n    })\r\n\r\n    await alert.present()\r\n  }\r\n\r\n  private async requestOperationWithAlert(\r\n    operations: Partial<TezosOperation>[],\r\n    _successMessage: string\r\n  ): Promise<void> {\r\n    if (!this.activeAccount) {\r\n      throw new Error('No active account set!')\r\n    }\r\n\r\n    try {\r\n      await this.beaconService.client.requestOperation({\r\n        operationDetails: operations as any\r\n      })\r\n    } catch (e) {\r\n      console.log('operation-request error', e)\r\n    }\r\n  }\r\n}\r\n","import { AccountInfo, BeaconEvent, DAppClient, Transport, TransportType } from '@airgap/beacon-sdk'\r\nimport { Injectable } from '@angular/core'\r\nimport { Observable, ReplaySubject } from 'rxjs'\r\nimport { distinctUntilChanged } from 'rxjs/operators'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BeaconService {\r\n  public client: DAppClient = new DAppClient({\r\n    name: 'Beacon Example Dapp'\r\n  })\r\n\r\n  private readonly _connectionStatus$: ReplaySubject<string> = new ReplaySubject(1)\r\n  public get connectionStatus$(): Observable<string> {\r\n    return this._connectionStatus$.pipe(distinctUntilChanged())\r\n  }\r\n\r\n  private readonly _activeAccount$: ReplaySubject<AccountInfo> = new ReplaySubject(1)\r\n  public get activeAccount$(): Observable<AccountInfo> {\r\n    return this._activeAccount$.pipe(distinctUntilChanged())\r\n  }\r\n\r\n  public balance: Observable<string> = new ReplaySubject(1)\r\n\r\n  constructor() {\r\n    this.client\r\n      .subscribeToEvent(BeaconEvent.ACTIVE_ACCOUNT_SET, async (data: AccountInfo) => {\r\n        this._activeAccount$.next(data)\r\n      })\r\n      .catch(console.error)\r\n\r\n    this.client\r\n      .subscribeToEvent(BeaconEvent.ACTIVE_TRANSPORT_SET, async (data: Transport) => {\r\n        if (data.type === TransportType.POST_MESSAGE) {\r\n          this._connectionStatus$.next('Chrome Extension')\r\n        } else if (data.type === TransportType.P2P) {\r\n          this._connectionStatus$.next('Beacon Connect')\r\n        } else {\r\n          this._connectionStatus$.next('Not connected')\r\n        }\r\n      })\r\n      .catch(console.error)\r\n\r\n    this.initConnection().catch(console.error)\r\n  }\r\n\r\n  public async initConnection(): Promise<void> {\r\n    await this.client.init()\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core'\r\nimport { BehaviorSubject, Subject } from 'rxjs'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ScrollService {\r\n  constructor() {}\r\n\r\n  private currentTab: string = 'approach'\r\n  private readonly scrollSource = new Subject<any>()\r\n  private readonly selectedTabSource = new BehaviorSubject<string>('approach')\r\n\r\n  private readonly tabsInOrder = [\r\n    'approach',\r\n    'wallets_dapps',\r\n    'transport_layer',\r\n    'message_types',\r\n    'permissionRequest',\r\n    'operationRequest',\r\n    'signPayloadRequest',\r\n    'broadcastRequest'\r\n  ]\r\n\r\n  public scroll$ = this.scrollSource.asObservable()\r\n  public currentSelectedTab$ = this.selectedTabSource.asObservable()\r\n\r\n  public scrollTo(element: string) {\r\n    this.scrollSource.next(element)\r\n  }\r\n\r\n  public setCurrentSelectedTab(element: string) {\r\n    this.currentTab = element\r\n    this.selectedTabSource.next(element)\r\n  }\r\n\r\n  public selectNewTab(nextOrPrevious: string) {\r\n    const idx = this.tabsInOrder.indexOf(this.currentTab)\r\n    let newSelectedTab\r\n    if (nextOrPrevious === 'next') {\r\n      newSelectedTab = this.tabsInOrder[idx + 1] ? this.tabsInOrder[idx + 1] : this.tabsInOrder[idx]\r\n      this.selectedTabSource.next(newSelectedTab)\r\n    } else if (nextOrPrevious === 'previous') {\r\n      newSelectedTab = this.tabsInOrder[idx - 1] ? this.tabsInOrder[idx - 1] : this.tabsInOrder[0]\r\n      this.selectedTabSource.next(newSelectedTab)\r\n    }\r\n    this.currentTab = newSelectedTab\r\n  }\r\n\r\n  public getFirstTab() {\r\n    return this.tabsInOrder[0]\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n}\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core'\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\r\n\r\nimport { AppModule } from './app/app.module'\r\nimport { environment } from './environments/environment'\r\n\r\nif (environment.production) {\r\n  enableProdMode()\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch((err) => console.log(err))\r\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":"webpack:///"}